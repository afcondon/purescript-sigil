/* Generated by Spago v1.0.3 */
(() => {
  // output/Demo.Main/foreign.js
  var createRow = (parentId) => (idx) => (name) => (category) => (sigText) => (containerId) => (parseOk) => () => {
    const table = document.getElementById(parentId);
    if (!table) return;
    const tr = document.createElement("tr");
    tr.className = parseOk ? "sig-row" : "sig-row sig-row-error";
    const tdIdx = document.createElement("td");
    tdIdx.className = "sig-idx";
    tdIdx.textContent = String(idx);
    tr.appendChild(tdIdx);
    const tdMeta = document.createElement("td");
    tdMeta.className = "sig-meta";
    const nameEl = document.createElement("div");
    nameEl.className = "sig-meta-name";
    nameEl.textContent = name;
    const catEl = document.createElement("div");
    catEl.className = "sig-meta-cat";
    catEl.textContent = category;
    const rawEl = document.createElement("div");
    rawEl.className = "sig-meta-raw";
    rawEl.textContent = sigText;
    tdMeta.appendChild(nameEl);
    tdMeta.appendChild(catEl);
    tdMeta.appendChild(rawEl);
    tr.appendChild(tdMeta);
    const tdRender = document.createElement("td");
    tdRender.className = "sig-render-cell";
    const renderDiv = document.createElement("div");
    renderDiv.id = containerId;
    tdRender.appendChild(renderDiv);
    tr.appendChild(tdRender);
    table.appendChild(tr);
  };
  var createDeclRow = (parentId) => (idx) => (name) => (containerId) => () => {
    const table = document.getElementById(parentId);
    if (!table) return;
    const tr = document.createElement("tr");
    tr.className = "sig-row";
    const tdIdx = document.createElement("td");
    tdIdx.className = "sig-idx";
    tdIdx.textContent = String(idx);
    tr.appendChild(tdIdx);
    const tdMeta = document.createElement("td");
    tdMeta.className = "sig-meta";
    const nameEl = document.createElement("div");
    nameEl.className = "sig-meta-name";
    nameEl.textContent = name;
    tdMeta.appendChild(nameEl);
    tr.appendChild(tdMeta);
    const tdRender = document.createElement("td");
    tdRender.className = "sig-render-cell";
    const renderDiv = document.createElement("div");
    renderDiv.id = containerId;
    tdRender.appendChild(renderDiv);
    tr.appendChild(tdRender);
    table.appendChild(tr);
  };

  // output/Control.Bind/foreign.js
  var arrayBind = typeof Array.prototype.flatMap === "function" ? function(arr) {
    return function(f) {
      return arr.flatMap(f);
    };
  } : function(arr) {
    return function(f) {
      var result = [];
      var l = arr.length;
      for (var i = 0; i < l; i++) {
        var xs = f(arr[i]);
        var k = xs.length;
        for (var j = 0; j < k; j++) {
          result.push(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Apply/foreign.js
  var arrayApply = function(fs) {
    return function(xs) {
      var l = fs.length;
      var k = xs.length;
      var result = new Array(l * k);
      var n = 0;
      for (var i = 0; i < l; i++) {
        var f = fs[i];
        for (var j = 0; j < k; j++) {
          result[n++] = f(xs[j]);
        }
      }
      return result;
    };
  };

  // output/Control.Semigroupoid/index.js
  var semigroupoidFn = {
    compose: function(f) {
      return function(g) {
        return function(x) {
          return f(g(x));
        };
      };
    }
  };

  // output/Control.Category/index.js
  var identity = function(dict) {
    return dict.identity;
  };
  var categoryFn = {
    identity: function(x) {
      return x;
    },
    Semigroupoid0: function() {
      return semigroupoidFn;
    }
  };

  // output/Data.Boolean/index.js
  var otherwise = true;

  // output/Data.Function/index.js
  var flip = function(f) {
    return function(b) {
      return function(a) {
        return f(a)(b);
      };
    };
  };
  var $$const = function(a) {
    return function(v) {
      return a;
    };
  };

  // output/Data.Functor/foreign.js
  var arrayMap = function(f) {
    return function(arr) {
      var l = arr.length;
      var result = new Array(l);
      for (var i = 0; i < l; i++) {
        result[i] = f(arr[i]);
      }
      return result;
    };
  };

  // output/Data.Unit/foreign.js
  var unit = void 0;

  // output/Type.Proxy/index.js
  var $$Proxy = /* @__PURE__ */ (function() {
    function $$Proxy2() {
    }
    ;
    $$Proxy2.value = new $$Proxy2();
    return $$Proxy2;
  })();

  // output/Data.Functor/index.js
  var map = function(dict) {
    return dict.map;
  };
  var mapFlipped = function(dictFunctor) {
    var map12 = map(dictFunctor);
    return function(fa) {
      return function(f) {
        return map12(f)(fa);
      };
    };
  };
  var $$void = function(dictFunctor) {
    return map(dictFunctor)($$const(unit));
  };
  var functorArray = {
    map: arrayMap
  };

  // output/Control.Apply/index.js
  var identity2 = /* @__PURE__ */ identity(categoryFn);
  var applyArray = {
    apply: arrayApply,
    Functor0: function() {
      return functorArray;
    }
  };
  var apply = function(dict) {
    return dict.apply;
  };
  var applyFirst = function(dictApply) {
    var apply1 = apply(dictApply);
    var map11 = map(dictApply.Functor0());
    return function(a) {
      return function(b) {
        return apply1(map11($$const)(a))(b);
      };
    };
  };
  var applySecond = function(dictApply) {
    var apply1 = apply(dictApply);
    var map11 = map(dictApply.Functor0());
    return function(a) {
      return function(b) {
        return apply1(map11($$const(identity2))(a))(b);
      };
    };
  };

  // output/Control.Applicative/index.js
  var pure = function(dict) {
    return dict.pure;
  };
  var when = function(dictApplicative) {
    var pure12 = pure(dictApplicative);
    return function(v) {
      return function(v1) {
        if (v) {
          return v1;
        }
        ;
        if (!v) {
          return pure12(unit);
        }
        ;
        throw new Error("Failed pattern match at Control.Applicative (line 63, column 1 - line 63, column 63): " + [v.constructor.name, v1.constructor.name]);
      };
    };
  };
  var liftA1 = function(dictApplicative) {
    var apply4 = apply(dictApplicative.Apply0());
    var pure12 = pure(dictApplicative);
    return function(f) {
      return function(a) {
        return apply4(pure12(f))(a);
      };
    };
  };

  // output/Control.Bind/index.js
  var bindArray = {
    bind: arrayBind,
    Apply0: function() {
      return applyArray;
    }
  };
  var bind = function(dict) {
    return dict.bind;
  };
  var bindFlipped = function(dictBind) {
    return flip(bind(dictBind));
  };

  // output/Data.Array/foreign.js
  var replicateFill = function(count, value) {
    if (count < 1) {
      return [];
    }
    var result = new Array(count);
    return result.fill(value);
  };
  var replicatePolyfill = function(count, value) {
    var result = [];
    var n = 0;
    for (var i = 0; i < count; i++) {
      result[n++] = value;
    }
    return result;
  };
  var replicateImpl = typeof Array.prototype.fill === "function" ? replicateFill : replicatePolyfill;
  var length = function(xs) {
    return xs.length;
  };
  var unconsImpl = function(empty4, next, xs) {
    return xs.length === 0 ? empty4({}) : next(xs[0])(xs.slice(1));
  };
  var indexImpl = function(just, nothing, xs, i) {
    return i < 0 || i >= xs.length ? nothing : just(xs[i]);
  };
  var reverse = function(l) {
    return l.slice().reverse();
  };
  var sortByImpl = /* @__PURE__ */ (function() {
    function mergeFromTo(compare3, fromOrdering, xs1, xs2, from, to) {
      var mid;
      var i;
      var j;
      var k;
      var x;
      var y;
      var c;
      mid = from + (to - from >> 1);
      if (mid - from > 1) mergeFromTo(compare3, fromOrdering, xs2, xs1, from, mid);
      if (to - mid > 1) mergeFromTo(compare3, fromOrdering, xs2, xs1, mid, to);
      i = from;
      j = mid;
      k = from;
      while (i < mid && j < to) {
        x = xs2[i];
        y = xs2[j];
        c = fromOrdering(compare3(x)(y));
        if (c > 0) {
          xs1[k++] = y;
          ++j;
        } else {
          xs1[k++] = x;
          ++i;
        }
      }
      while (i < mid) {
        xs1[k++] = xs2[i++];
      }
      while (j < to) {
        xs1[k++] = xs2[j++];
      }
    }
    return function(compare3, fromOrdering, xs) {
      var out;
      if (xs.length < 2) return xs;
      out = xs.slice(0);
      mergeFromTo(compare3, fromOrdering, out, xs.slice(0), 0, xs.length);
      return out;
    };
  })();
  var anyImpl = function(p, xs) {
    var len = xs.length;
    for (var i = 0; i < len; i++) {
      if (p(xs[i])) return true;
    }
    return false;
  };

  // output/Data.Semigroup/foreign.js
  var concatString = function(s1) {
    return function(s2) {
      return s1 + s2;
    };
  };
  var concatArray = function(xs) {
    return function(ys) {
      if (xs.length === 0) return ys;
      if (ys.length === 0) return xs;
      return xs.concat(ys);
    };
  };

  // output/Data.Symbol/index.js
  var reflectSymbol = function(dict) {
    return dict.reflectSymbol;
  };

  // output/Record.Unsafe/foreign.js
  var unsafeGet = function(label) {
    return function(rec) {
      return rec[label];
    };
  };
  var unsafeSet = function(label) {
    return function(value) {
      return function(rec) {
        var copy = {};
        for (var key in rec) {
          if ({}.hasOwnProperty.call(rec, key)) {
            copy[key] = rec[key];
          }
        }
        copy[label] = value;
        return copy;
      };
    };
  };

  // output/Data.Semigroup/index.js
  var semigroupString = {
    append: concatString
  };
  var semigroupRecordNil = {
    appendRecord: function(v) {
      return function(v1) {
        return function(v2) {
          return {};
        };
      };
    }
  };
  var semigroupArray = {
    append: concatArray
  };
  var appendRecord = function(dict) {
    return dict.appendRecord;
  };
  var semigroupRecord = function() {
    return function(dictSemigroupRecord) {
      return {
        append: appendRecord(dictSemigroupRecord)($$Proxy.value)
      };
    };
  };
  var append = function(dict) {
    return dict.append;
  };
  var semigroupRecordCons = function(dictIsSymbol) {
    var reflectSymbol2 = reflectSymbol(dictIsSymbol);
    return function() {
      return function(dictSemigroupRecord) {
        var appendRecord1 = appendRecord(dictSemigroupRecord);
        return function(dictSemigroup) {
          var append14 = append(dictSemigroup);
          return {
            appendRecord: function(v) {
              return function(ra) {
                return function(rb) {
                  var tail2 = appendRecord1($$Proxy.value)(ra)(rb);
                  var key = reflectSymbol2($$Proxy.value);
                  var insert5 = unsafeSet(key);
                  var get = unsafeGet(key);
                  return insert5(append14(get(ra))(get(rb)))(tail2);
                };
              };
            }
          };
        };
      };
    };
  };

  // output/Control.Alt/index.js
  var alt = function(dict) {
    return dict.alt;
  };

  // output/Control.Lazy/index.js
  var defer = function(dict) {
    return dict.defer;
  };

  // output/Control.Monad/index.js
  var ap = function(dictMonad) {
    var bind4 = bind(dictMonad.Bind1());
    var pure4 = pure(dictMonad.Applicative0());
    return function(f) {
      return function(a) {
        return bind4(f)(function(f$prime) {
          return bind4(a)(function(a$prime) {
            return pure4(f$prime(a$prime));
          });
        });
      };
    };
  };

  // output/Data.Bounded/foreign.js
  var topChar = String.fromCharCode(65535);
  var bottomChar = String.fromCharCode(0);
  var topNumber = Number.POSITIVE_INFINITY;
  var bottomNumber = Number.NEGATIVE_INFINITY;

  // output/Data.Ord/foreign.js
  var unsafeCompareImpl = function(lt) {
    return function(eq4) {
      return function(gt) {
        return function(x) {
          return function(y) {
            return x < y ? lt : x === y ? eq4 : gt;
          };
        };
      };
    };
  };
  var ordIntImpl = unsafeCompareImpl;
  var ordStringImpl = unsafeCompareImpl;
  var ordCharImpl = unsafeCompareImpl;

  // output/Data.Eq/foreign.js
  var refEq = function(r1) {
    return function(r2) {
      return r1 === r2;
    };
  };
  var eqBooleanImpl = refEq;
  var eqIntImpl = refEq;
  var eqCharImpl = refEq;
  var eqStringImpl = refEq;

  // output/Data.Eq/index.js
  var eqString = {
    eq: eqStringImpl
  };
  var eqInt = {
    eq: eqIntImpl
  };
  var eqChar = {
    eq: eqCharImpl
  };
  var eqBoolean = {
    eq: eqBooleanImpl
  };
  var eq = function(dict) {
    return dict.eq;
  };
  var eq2 = /* @__PURE__ */ eq(eqBoolean);
  var notEq = function(dictEq) {
    var eq32 = eq(dictEq);
    return function(x) {
      return function(y) {
        return eq2(eq32(x)(y))(false);
      };
    };
  };

  // output/Data.Ordering/index.js
  var LT = /* @__PURE__ */ (function() {
    function LT2() {
    }
    ;
    LT2.value = new LT2();
    return LT2;
  })();
  var GT = /* @__PURE__ */ (function() {
    function GT2() {
    }
    ;
    GT2.value = new GT2();
    return GT2;
  })();
  var EQ = /* @__PURE__ */ (function() {
    function EQ2() {
    }
    ;
    EQ2.value = new EQ2();
    return EQ2;
  })();
  var eqOrdering = {
    eq: function(v) {
      return function(v1) {
        if (v instanceof LT && v1 instanceof LT) {
          return true;
        }
        ;
        if (v instanceof GT && v1 instanceof GT) {
          return true;
        }
        ;
        if (v instanceof EQ && v1 instanceof EQ) {
          return true;
        }
        ;
        return false;
      };
    }
  };

  // output/Data.Ring/foreign.js
  var intSub = function(x) {
    return function(y) {
      return x - y | 0;
    };
  };

  // output/Data.Semiring/foreign.js
  var intAdd = function(x) {
    return function(y) {
      return x + y | 0;
    };
  };
  var intMul = function(x) {
    return function(y) {
      return x * y | 0;
    };
  };

  // output/Data.Semiring/index.js
  var semiringInt = {
    add: intAdd,
    zero: 0,
    mul: intMul,
    one: 1
  };
  var add = function(dict) {
    return dict.add;
  };

  // output/Data.Ring/index.js
  var ringInt = {
    sub: intSub,
    Semiring0: function() {
      return semiringInt;
    }
  };

  // output/Data.Ord/index.js
  var ordString = /* @__PURE__ */ (function() {
    return {
      compare: ordStringImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqString;
      }
    };
  })();
  var ordInt = /* @__PURE__ */ (function() {
    return {
      compare: ordIntImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqInt;
      }
    };
  })();
  var ordChar = /* @__PURE__ */ (function() {
    return {
      compare: ordCharImpl(LT.value)(EQ.value)(GT.value),
      Eq0: function() {
        return eqChar;
      }
    };
  })();
  var compare = function(dict) {
    return dict.compare;
  };
  var comparing = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(f) {
      return function(x) {
        return function(y) {
          return compare3(f(x))(f(y));
        };
      };
    };
  };

  // output/Data.Bounded/index.js
  var top = function(dict) {
    return dict.top;
  };
  var boundedChar = {
    top: topChar,
    bottom: bottomChar,
    Ord0: function() {
      return ordChar;
    }
  };
  var bottom = function(dict) {
    return dict.bottom;
  };

  // output/Data.Show/foreign.js
  var showIntImpl = function(n) {
    return n.toString();
  };

  // output/Data.Show/index.js
  var showInt = {
    show: showIntImpl
  };
  var show = function(dict) {
    return dict.show;
  };

  // output/Data.Maybe/index.js
  var identity3 = /* @__PURE__ */ identity(categoryFn);
  var Nothing = /* @__PURE__ */ (function() {
    function Nothing2() {
    }
    ;
    Nothing2.value = new Nothing2();
    return Nothing2;
  })();
  var Just = /* @__PURE__ */ (function() {
    function Just2(value0) {
      this.value0 = value0;
    }
    ;
    Just2.create = function(value0) {
      return new Just2(value0);
    };
    return Just2;
  })();
  var maybe = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Nothing) {
          return v;
        }
        ;
        if (v2 instanceof Just) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 237, column 1 - line 237, column 51): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };
  var isNothing = /* @__PURE__ */ maybe(true)(/* @__PURE__ */ $$const(false));
  var functorMaybe = {
    map: function(v) {
      return function(v1) {
        if (v1 instanceof Just) {
          return new Just(v(v1.value0));
        }
        ;
        return Nothing.value;
      };
    }
  };
  var map2 = /* @__PURE__ */ map(functorMaybe);
  var fromMaybe = function(a) {
    return maybe(a)(identity3);
  };
  var fromJust = function() {
    return function(v) {
      if (v instanceof Just) {
        return v.value0;
      }
      ;
      throw new Error("Failed pattern match at Data.Maybe (line 288, column 1 - line 288, column 46): " + [v.constructor.name]);
    };
  };
  var eqMaybe = function(dictEq) {
    var eq4 = eq(dictEq);
    return {
      eq: function(x) {
        return function(y) {
          if (x instanceof Nothing && y instanceof Nothing) {
            return true;
          }
          ;
          if (x instanceof Just && y instanceof Just) {
            return eq4(x.value0)(y.value0);
          }
          ;
          return false;
        };
      }
    };
  };
  var applyMaybe = {
    apply: function(v) {
      return function(v1) {
        if (v instanceof Just) {
          return map2(v.value0)(v1);
        }
        ;
        if (v instanceof Nothing) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 67, column 1 - line 69, column 30): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Functor0: function() {
      return functorMaybe;
    }
  };
  var bindMaybe = {
    bind: function(v) {
      return function(v1) {
        if (v instanceof Just) {
          return v1(v.value0);
        }
        ;
        if (v instanceof Nothing) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.Maybe (line 125, column 1 - line 127, column 28): " + [v.constructor.name, v1.constructor.name]);
      };
    },
    Apply0: function() {
      return applyMaybe;
    }
  };

  // output/Data.Either/index.js
  var Left = /* @__PURE__ */ (function() {
    function Left2(value0) {
      this.value0 = value0;
    }
    ;
    Left2.create = function(value0) {
      return new Left2(value0);
    };
    return Left2;
  })();
  var Right = /* @__PURE__ */ (function() {
    function Right2(value0) {
      this.value0 = value0;
    }
    ;
    Right2.create = function(value0) {
      return new Right2(value0);
    };
    return Right2;
  })();
  var either = function(v) {
    return function(v1) {
      return function(v2) {
        if (v2 instanceof Left) {
          return v(v2.value0);
        }
        ;
        if (v2 instanceof Right) {
          return v1(v2.value0);
        }
        ;
        throw new Error("Failed pattern match at Data.Either (line 208, column 1 - line 208, column 64): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
      };
    };
  };

  // output/Data.EuclideanRing/foreign.js
  var intDegree = function(x) {
    return Math.min(Math.abs(x), 2147483647);
  };
  var intDiv = function(x) {
    return function(y) {
      if (y === 0) return 0;
      return y > 0 ? Math.floor(x / y) : -Math.floor(x / -y);
    };
  };
  var intMod = function(x) {
    return function(y) {
      if (y === 0) return 0;
      var yy = Math.abs(y);
      return (x % yy + yy) % yy;
    };
  };

  // output/Data.CommutativeRing/index.js
  var commutativeRingInt = {
    Ring0: function() {
      return ringInt;
    }
  };

  // output/Data.EuclideanRing/index.js
  var mod = function(dict) {
    return dict.mod;
  };
  var euclideanRingInt = {
    degree: intDegree,
    div: intDiv,
    mod: intMod,
    CommutativeRing0: function() {
      return commutativeRingInt;
    }
  };
  var div = function(dict) {
    return dict.div;
  };

  // output/Data.Monoid/index.js
  var semigroupRecord2 = /* @__PURE__ */ semigroupRecord();
  var monoidString = {
    mempty: "",
    Semigroup0: function() {
      return semigroupString;
    }
  };
  var monoidRecordNil = {
    memptyRecord: function(v) {
      return {};
    },
    SemigroupRecord0: function() {
      return semigroupRecordNil;
    }
  };
  var memptyRecord = function(dict) {
    return dict.memptyRecord;
  };
  var monoidRecord = function() {
    return function(dictMonoidRecord) {
      var semigroupRecord1 = semigroupRecord2(dictMonoidRecord.SemigroupRecord0());
      return {
        mempty: memptyRecord(dictMonoidRecord)($$Proxy.value),
        Semigroup0: function() {
          return semigroupRecord1;
        }
      };
    };
  };
  var mempty = function(dict) {
    return dict.mempty;
  };
  var monoidRecordCons = function(dictIsSymbol) {
    var reflectSymbol2 = reflectSymbol(dictIsSymbol);
    var semigroupRecordCons2 = semigroupRecordCons(dictIsSymbol)();
    return function(dictMonoid) {
      var mempty1 = mempty(dictMonoid);
      var Semigroup0 = dictMonoid.Semigroup0();
      return function() {
        return function(dictMonoidRecord) {
          var memptyRecord1 = memptyRecord(dictMonoidRecord);
          var semigroupRecordCons1 = semigroupRecordCons2(dictMonoidRecord.SemigroupRecord0())(Semigroup0);
          return {
            memptyRecord: function(v) {
              var tail2 = memptyRecord1($$Proxy.value);
              var key = reflectSymbol2($$Proxy.value);
              var insert5 = unsafeSet(key);
              return insert5(mempty1)(tail2);
            },
            SemigroupRecord0: function() {
              return semigroupRecordCons1;
            }
          };
        };
      };
    };
  };

  // output/Effect/foreign.js
  var pureE = function(a) {
    return function() {
      return a;
    };
  };
  var bindE = function(a) {
    return function(f) {
      return function() {
        return f(a())();
      };
    };
  };

  // output/Effect/index.js
  var $runtime_lazy = function(name, moduleName, init2) {
    var state = 0;
    var val;
    return function(lineNumber) {
      if (state === 2) return val;
      if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state = 1;
      val = init2();
      state = 2;
      return val;
    };
  };
  var monadEffect = {
    Applicative0: function() {
      return applicativeEffect;
    },
    Bind1: function() {
      return bindEffect;
    }
  };
  var bindEffect = {
    bind: bindE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var applicativeEffect = {
    pure: pureE,
    Apply0: function() {
      return $lazy_applyEffect(0);
    }
  };
  var $lazy_functorEffect = /* @__PURE__ */ $runtime_lazy("functorEffect", "Effect", function() {
    return {
      map: liftA1(applicativeEffect)
    };
  });
  var $lazy_applyEffect = /* @__PURE__ */ $runtime_lazy("applyEffect", "Effect", function() {
    return {
      apply: ap(monadEffect),
      Functor0: function() {
        return $lazy_functorEffect(0);
      }
    };
  });

  // output/Control.Monad.ST.Internal/foreign.js
  var map_ = function(f) {
    return function(a) {
      return function() {
        return f(a());
      };
    };
  };
  var pure_ = function(a) {
    return function() {
      return a;
    };
  };
  var bind_ = function(a) {
    return function(f) {
      return function() {
        return f(a())();
      };
    };
  };
  var foreach = function(as) {
    return function(f) {
      return function() {
        for (var i = 0, l = as.length; i < l; i++) {
          f(as[i])();
        }
      };
    };
  };

  // output/Control.Monad.ST.Internal/index.js
  var $runtime_lazy2 = function(name, moduleName, init2) {
    var state = 0;
    var val;
    return function(lineNumber) {
      if (state === 2) return val;
      if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state = 1;
      val = init2();
      state = 2;
      return val;
    };
  };
  var functorST = {
    map: map_
  };
  var monadST = {
    Applicative0: function() {
      return applicativeST;
    },
    Bind1: function() {
      return bindST;
    }
  };
  var bindST = {
    bind: bind_,
    Apply0: function() {
      return $lazy_applyST(0);
    }
  };
  var applicativeST = {
    pure: pure_,
    Apply0: function() {
      return $lazy_applyST(0);
    }
  };
  var $lazy_applyST = /* @__PURE__ */ $runtime_lazy2("applyST", "Control.Monad.ST.Internal", function() {
    return {
      apply: ap(monadST),
      Functor0: function() {
        return functorST;
      }
    };
  });

  // output/Data.Array.ST/foreign.js
  function newSTArray() {
    return [];
  }
  function unsafeFreezeThawImpl(xs) {
    return xs;
  }
  var unsafeFreezeImpl = unsafeFreezeThawImpl;
  var unsafeThawImpl = unsafeFreezeThawImpl;
  function copyImpl(xs) {
    return xs.slice();
  }
  var thawImpl = copyImpl;
  var pushImpl = function(a, xs) {
    return xs.push(a);
  };

  // output/Control.Monad.ST.Uncurried/foreign.js
  var runSTFn1 = function runSTFn12(fn) {
    return function(a) {
      return function() {
        return fn(a);
      };
    };
  };
  var runSTFn2 = function runSTFn22(fn) {
    return function(a) {
      return function(b) {
        return function() {
          return fn(a, b);
        };
      };
    };
  };

  // output/Data.Array.ST/index.js
  var unsafeThaw = /* @__PURE__ */ runSTFn1(unsafeThawImpl);
  var unsafeFreeze = /* @__PURE__ */ runSTFn1(unsafeFreezeImpl);
  var thaw = /* @__PURE__ */ runSTFn1(thawImpl);
  var withArray = function(f) {
    return function(xs) {
      return function __do2() {
        var result = thaw(xs)();
        f(result)();
        return unsafeFreeze(result)();
      };
    };
  };
  var push = /* @__PURE__ */ runSTFn2(pushImpl);

  // output/Data.Foldable/foreign.js
  var foldrArray = function(f) {
    return function(init2) {
      return function(xs) {
        var acc = init2;
        var len = xs.length;
        for (var i = len - 1; i >= 0; i--) {
          acc = f(xs[i])(acc);
        }
        return acc;
      };
    };
  };
  var foldlArray = function(f) {
    return function(init2) {
      return function(xs) {
        var acc = init2;
        var len = xs.length;
        for (var i = 0; i < len; i++) {
          acc = f(acc)(xs[i]);
        }
        return acc;
      };
    };
  };

  // output/Data.Tuple/index.js
  var Tuple = /* @__PURE__ */ (function() {
    function Tuple2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Tuple2.create = function(value0) {
      return function(value1) {
        return new Tuple2(value0, value1);
      };
    };
    return Tuple2;
  })();
  var uncurry = function(f) {
    return function(v) {
      return f(v.value0)(v.value1);
    };
  };
  var snd = function(v) {
    return v.value1;
  };
  var fst = function(v) {
    return v.value0;
  };

  // output/Unsafe.Coerce/foreign.js
  var unsafeCoerce2 = function(x) {
    return x;
  };

  // output/Safe.Coerce/index.js
  var coerce = function() {
    return unsafeCoerce2;
  };

  // output/Data.Newtype/index.js
  var coerce2 = /* @__PURE__ */ coerce();
  var unwrap = function() {
    return coerce2;
  };

  // output/Data.Foldable/index.js
  var identity4 = /* @__PURE__ */ identity(categoryFn);
  var foldr = function(dict) {
    return dict.foldr;
  };
  var foldl = function(dict) {
    return dict.foldl;
  };
  var intercalate = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(dictMonoid) {
      var append3 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(sep) {
        return function(xs) {
          var go = function(v) {
            return function(v1) {
              if (v.init) {
                return {
                  init: false,
                  acc: v1
                };
              }
              ;
              return {
                init: false,
                acc: append3(v.acc)(append3(sep)(v1))
              };
            };
          };
          return foldl22(go)({
            init: true,
            acc: mempty2
          })(xs).acc;
        };
      };
    };
  };
  var foldableMaybe = {
    foldr: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Nothing) {
            return v1;
          }
          ;
          if (v2 instanceof Just) {
            return v(v2.value0)(v1);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldl: function(v) {
      return function(v1) {
        return function(v2) {
          if (v2 instanceof Nothing) {
            return v1;
          }
          ;
          if (v2 instanceof Just) {
            return v(v1)(v2.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name, v2.constructor.name]);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      return function(v) {
        return function(v1) {
          if (v1 instanceof Nothing) {
            return mempty2;
          }
          ;
          if (v1 instanceof Just) {
            return v(v1.value0);
          }
          ;
          throw new Error("Failed pattern match at Data.Foldable (line 138, column 1 - line 144, column 27): " + [v.constructor.name, v1.constructor.name]);
        };
      };
    }
  };
  var foldMapDefaultR = function(dictFoldable) {
    var foldr2 = foldr(dictFoldable);
    return function(dictMonoid) {
      var append3 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldr2(function(x) {
          return function(acc) {
            return append3(f(x))(acc);
          };
        })(mempty2);
      };
    };
  };
  var foldableArray = {
    foldr: foldrArray,
    foldl: foldlArray,
    foldMap: function(dictMonoid) {
      return foldMapDefaultR(foldableArray)(dictMonoid);
    }
  };
  var foldMap = function(dict) {
    return dict.foldMap;
  };
  var fold = function(dictFoldable) {
    var foldMap2 = foldMap(dictFoldable);
    return function(dictMonoid) {
      return foldMap2(dictMonoid)(identity4);
    };
  };
  var find = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(p) {
      var go = function(v) {
        return function(v1) {
          if (v instanceof Nothing && p(v1)) {
            return new Just(v1);
          }
          ;
          return v;
        };
      };
      return foldl22(go)(Nothing.value);
    };
  };

  // output/Data.Function.Uncurried/foreign.js
  var runFn2 = function(fn) {
    return function(a) {
      return function(b) {
        return fn(a, b);
      };
    };
  };
  var runFn3 = function(fn) {
    return function(a) {
      return function(b) {
        return function(c) {
          return fn(a, b, c);
        };
      };
    };
  };
  var runFn4 = function(fn) {
    return function(a) {
      return function(b) {
        return function(c) {
          return function(d) {
            return fn(a, b, c, d);
          };
        };
      };
    };
  };

  // output/Data.FunctorWithIndex/foreign.js
  var mapWithIndexArray = function(f) {
    return function(xs) {
      var l = xs.length;
      var result = Array(l);
      for (var i = 0; i < l; i++) {
        result[i] = f(i)(xs[i]);
      }
      return result;
    };
  };

  // output/Data.FunctorWithIndex/index.js
  var mapWithIndex = function(dict) {
    return dict.mapWithIndex;
  };
  var functorWithIndexArray = {
    mapWithIndex: mapWithIndexArray,
    Functor0: function() {
      return functorArray;
    }
  };

  // output/Data.Unfoldable/foreign.js
  var unfoldrArrayImpl = function(isNothing2) {
    return function(fromJust6) {
      return function(fst2) {
        return function(snd2) {
          return function(f) {
            return function(b) {
              var result = [];
              var value = b;
              while (true) {
                var maybe2 = f(value);
                if (isNothing2(maybe2)) return result;
                var tuple = fromJust6(maybe2);
                result.push(fst2(tuple));
                value = snd2(tuple);
              }
            };
          };
        };
      };
    };
  };

  // output/Data.Unfoldable1/foreign.js
  var unfoldr1ArrayImpl = function(isNothing2) {
    return function(fromJust6) {
      return function(fst2) {
        return function(snd2) {
          return function(f) {
            return function(b) {
              var result = [];
              var value = b;
              while (true) {
                var tuple = f(value);
                result.push(fst2(tuple));
                var maybe2 = snd2(tuple);
                if (isNothing2(maybe2)) return result;
                value = fromJust6(maybe2);
              }
            };
          };
        };
      };
    };
  };

  // output/Data.Unfoldable1/index.js
  var fromJust2 = /* @__PURE__ */ fromJust();
  var unfoldable1Array = {
    unfoldr1: /* @__PURE__ */ unfoldr1ArrayImpl(isNothing)(fromJust2)(fst)(snd)
  };

  // output/Data.Unfoldable/index.js
  var fromJust3 = /* @__PURE__ */ fromJust();
  var unfoldr = function(dict) {
    return dict.unfoldr;
  };
  var unfoldableArray = {
    unfoldr: /* @__PURE__ */ unfoldrArrayImpl(isNothing)(fromJust3)(fst)(snd),
    Unfoldable10: function() {
      return unfoldable1Array;
    }
  };

  // output/Data.Array/index.js
  var $$void2 = /* @__PURE__ */ $$void(functorST);
  var intercalate1 = /* @__PURE__ */ intercalate(foldableArray);
  var map1 = /* @__PURE__ */ map(functorArray);
  var map22 = /* @__PURE__ */ map(functorST);
  var fromJust4 = /* @__PURE__ */ fromJust();
  var when2 = /* @__PURE__ */ when(applicativeST);
  var notEq2 = /* @__PURE__ */ notEq(eqOrdering);
  var append2 = /* @__PURE__ */ append(semigroupArray);
  var uncons = /* @__PURE__ */ (function() {
    return runFn3(unconsImpl)($$const(Nothing.value))(function(x) {
      return function(xs) {
        return new Just({
          head: x,
          tail: xs
        });
      };
    });
  })();
  var sortBy = function(comp) {
    return runFn3(sortByImpl)(comp)(function(v) {
      if (v instanceof GT) {
        return 1;
      }
      ;
      if (v instanceof EQ) {
        return 0;
      }
      ;
      if (v instanceof LT) {
        return -1 | 0;
      }
      ;
      throw new Error("Failed pattern match at Data.Array (line 897, column 38 - line 900, column 11): " + [v.constructor.name]);
    });
  };
  var sortWith = function(dictOrd) {
    var comparing2 = comparing(dictOrd);
    return function(f) {
      return sortBy(comparing2(f));
    };
  };
  var sortWith1 = /* @__PURE__ */ sortWith(ordInt);
  var snoc = function(xs) {
    return function(x) {
      return withArray(push(x))(xs)();
    };
  };
  var singleton2 = function(a) {
    return [a];
  };
  var $$null = function(xs) {
    return length(xs) === 0;
  };
  var mapWithIndex2 = /* @__PURE__ */ mapWithIndex(functorWithIndexArray);
  var intercalate2 = function(dictMonoid) {
    return intercalate1(dictMonoid);
  };
  var index = /* @__PURE__ */ (function() {
    return runFn4(indexImpl)(Just.create)(Nothing.value);
  })();
  var last = function(xs) {
    return index(xs)(length(xs) - 1 | 0);
  };
  var head = function(xs) {
    return index(xs)(0);
  };
  var nubBy = function(comp) {
    return function(xs) {
      var indexedAndSorted = sortBy(function(x) {
        return function(y) {
          return comp(snd(x))(snd(y));
        };
      })(mapWithIndex2(Tuple.create)(xs));
      var v = head(indexedAndSorted);
      if (v instanceof Nothing) {
        return [];
      }
      ;
      if (v instanceof Just) {
        return map1(snd)(sortWith1(fst)((function __do2() {
          var result = unsafeThaw(singleton2(v.value0))();
          foreach(indexedAndSorted)(function(v1) {
            return function __do3() {
              var lst = map22(/* @__PURE__ */ (function() {
                var $183 = function($185) {
                  return fromJust4(last($185));
                };
                return function($184) {
                  return snd($183($184));
                };
              })())(unsafeFreeze(result))();
              return when2(notEq2(comp(lst)(v1.value1))(EQ.value))($$void2(push(v1)(result)))();
            };
          })();
          return unsafeFreeze(result)();
        })()));
      }
      ;
      throw new Error("Failed pattern match at Data.Array (line 1115, column 17 - line 1123, column 28): " + [v.constructor.name]);
    };
  };
  var nub = function(dictOrd) {
    return nubBy(compare(dictOrd));
  };
  var foldl2 = /* @__PURE__ */ foldl(foldableArray);
  var foldM = function(dictMonad) {
    var pure12 = pure(dictMonad.Applicative0());
    var bind12 = bind(dictMonad.Bind1());
    return function(f) {
      return function(b) {
        return runFn3(unconsImpl)(function(v) {
          return pure12(b);
        })(function(a) {
          return function(as) {
            return bind12(f(b)(a))(function(b$prime) {
              return foldM(dictMonad)(f)(b$prime)(as);
            });
          };
        });
      };
    };
  };
  var cons = function(x) {
    return function(xs) {
      return append2([x])(xs);
    };
  };
  var concatMap = /* @__PURE__ */ flip(/* @__PURE__ */ bind(bindArray));
  var any2 = /* @__PURE__ */ runFn2(anyImpl);

  // output/Effect.Console/foreign.js
  var log = function(s) {
    return function() {
      console.log(s);
    };
  };

  // output/Sigil.Examples/index.js
  var typeSynonyms = [{
    idx: 1,
    name: "String",
    typeParams: [],
    body: "Array Char"
  }, {
    idx: 2,
    name: "Endo",
    typeParams: ["a"],
    body: "a -> a"
  }, {
    idx: 3,
    name: "Reducer",
    typeParams: ["s", "a"],
    body: "s -> a -> s"
  }, {
    idx: 4,
    name: "Lens'",
    typeParams: ["s", "a"],
    body: "forall f. Functor f => (a -> f a) -> s -> f s"
  }, {
    idx: 5,
    name: "Effect",
    typeParams: [],
    body: "Eff ()"
  }, {
    idx: 6,
    name: "Dimensions",
    typeParams: [],
    body: "Record ( width :: Number, height :: Number )"
  }];
  var signatures = [{
    idx: 1,
    category: "simple",
    name: "maxHeaderSize",
    sig: "Int"
  }, {
    idx: 2,
    category: "simple",
    name: "pid",
    sig: "Pid"
  }, {
    idx: 3,
    category: "pure_function",
    name: "head",
    sig: "forall a. NonEmptyArray a -> a"
  }, {
    idx: 4,
    category: "pure_function",
    name: "decayAlpha",
    sig: "Number -> Number -> Number -> Number -> Number"
  }, {
    idx: 5,
    category: "pure_function",
    name: "dropWhile",
    sig: "String -> String -> (Boolean -> Char)"
  }, {
    idx: 6,
    category: "constrained",
    name: "sort",
    sig: "forall a. Ord a => Array a -> Array a"
  }, {
    idx: 7,
    category: "constrained",
    name: "fromFoldable",
    sig: "forall f k v. Ord k => Foldable f => Map k v -> f (Tuple k v)"
  }, {
    idx: 8,
    category: "constrained",
    name: "evalStateT",
    sig: "forall s m a. Functor m => m a -> s -> StateT s m a"
  }, {
    idx: 9,
    category: "constrained",
    name: "experiment",
    sig: "forall f a w s. ComonadStore s w => Functor f => f a -> w a -> (f s -> s)"
  }, {
    idx: 10,
    category: "multi_constraint",
    name: "foldM",
    sig: "forall f m a b. Foldable f => Monad m => m b -> f a -> b -> (m b -> a -> b)"
  }, {
    idx: 11,
    category: "multi_constraint",
    name: "tailRecM3",
    sig: "forall m a b c d. MonadRec m => m d -> c -> b -> a -> (m (Step Record ( a :: a, b :: b, c :: c ) d) -> c -> b -> a)"
  }, {
    idx: 12,
    category: "multi_constraint",
    name: "biall",
    sig: "forall t a b c. Bifoldable t => BooleanAlgebra c => c -> t a b -> (c -> b) -> (c -> a)"
  }, {
    idx: 13,
    category: "record",
    name: "BrushExtent",
    sig: "Record ( x0 :: Number, y0 :: Number, x1 :: Number, y1 :: Number )"
  }, {
    idx: 14,
    category: "record",
    name: "TypeClassInfo",
    sig: "Record ( id :: Int, name :: String, moduleName :: String, packageName :: String, methodCount :: Int, instanceCount :: Int )"
  }, {
    idx: 15,
    category: "record",
    name: "PackState",
    sig: "Record ( circles :: Map CircleId Circle, frontChain :: Array CircleId, nextId :: CircleId )"
  }, {
    idx: 16,
    category: "record",
    name: "ChordLayout",
    sig: "Record ( groups :: Array ChordGroup, chords :: Array Chord )"
  }, {
    idx: 17,
    category: "row_poly",
    name: "setPosition",
    sig: "forall r. Record ( x :: Number, y :: Number | r ) -> Record ( x :: Number, y :: Number | r ) -> Number -> Number"
  }, {
    idx: 18,
    category: "row_poly",
    name: "onValueInput",
    sig: "forall r i. IProp ( value :: String, onInput :: Event | r ) i -> (i -> String)"
  }, {
    idx: 19,
    category: "effect",
    name: "scrollToElement",
    sig: "Effect Unit -> String"
  }, {
    idx: 20,
    category: "effect",
    name: "createWriteStream'",
    sig: "forall r trash. Union r trash WriteStreamOptions => Effect (Writable ()) -> Record r -> FilePath"
  }, {
    idx: 21,
    category: "effect",
    name: "registerTransition",
    sig: "Effect TransitionId -> TransitionSpec -> String -> Element -> ElementTransitionManager"
  }, {
    idx: 22,
    category: "higher_kinded",
    name: "foldMap",
    sig: "forall a m. Monoid m => m -> f a -> (m -> a)"
  }, {
    idx: 23,
    category: "higher_kinded",
    name: "oneOfMap",
    sig: "forall f g a b. Foldable f => Plus g => g b -> f a -> (g b -> a)"
  }, {
    idx: 24,
    category: "higher_kinded",
    name: "takeWhile",
    sig: "forall f a. Applicative f => ListT f a -> ListT f a -> (Boolean -> a)"
  }, {
    idx: 25,
    category: "complex",
    name: "either",
    sig: "forall a b c. c -> Either a b -> (c -> b) -> (c -> a)"
  }, {
    idx: 26,
    category: "complex",
    name: "getFieldOptional'",
    sig: "forall a. Either JsonDecodeError (Maybe a) -> String -> Object Json -> (Either JsonDecodeError a -> Json)"
  }, {
    idx: 27,
    category: "complex",
    name: "combineRoutes",
    sig: "RouteDuplex' (Either left right) -> RouteDuplex' right -> RouteDuplex' left"
  }, {
    idx: 28,
    category: "constructor",
    name: "Nothing",
    sig: "Maybe a"
  }, {
    idx: 29,
    category: "constructor",
    name: "Just",
    sig: "a -> Maybe a"
  }, {
    idx: 30,
    category: "constructor",
    name: "Left",
    sig: "a -> Either a b"
  }, {
    idx: 31,
    category: "constructor",
    name: "Right",
    sig: "b -> Either a b"
  }, {
    idx: 32,
    category: "rank_n",
    name: "runST",
    sig: "forall a. (forall s. ST s a) -> a"
  }, {
    idx: 33,
    category: "rank_n",
    name: "runExists",
    sig: "forall f r. (forall a. f a -> r) -> Exists f -> r"
  }, {
    idx: 34,
    category: "rank_n",
    name: "hoistFree",
    sig: "forall f g a. (forall b. f b -> g b) -> Free f a -> Free g a"
  }, {
    idx: 35,
    category: "nested_record",
    name: "BundleLink",
    sig: "Record ( source :: String, target :: String, path :: Array RadialNode )"
  }, {
    idx: 36,
    category: "nested_record",
    name: "IndexedTransition",
    sig: "Record ( index :: Int, state :: Record ( from :: Number, to :: Number, progress :: Number ) )"
  }, {
    idx: 37,
    category: "nested_record",
    name: "EngineState",
    sig: "Record ( currentScene :: Maybe String, viewport :: Record ( width :: Number, height :: Number ), camera :: Record ( x :: Number, y :: Number, zoom :: Number ) )"
  }, {
    idx: 38,
    category: "nested_record",
    name: "animatedLinkVertical",
    sig: "forall datum. Record ( toSourceX :: datum -> Number, toSourceY :: datum -> Number, toTargetX :: datum -> Number, toTargetY :: datum -> Number ) -> Record ( fromSourceX :: datum -> Number, fromSourceY :: datum -> Number, fromTargetX :: datum -> Number, fromTargetY :: datum -> Number ) -> datum -> String"
  }, {
    idx: 39,
    category: "nested_record",
    name: "lookupGT",
    sig: "forall k v. Ord k => k -> Map k v -> Maybe (Record ( key :: k, value :: v ))"
  }, {
    idx: 40,
    category: "large_record",
    name: "ResourceUsage",
    sig: "Record ( userCPUTime :: Int, systemCPUTime :: Int, maxRSS :: Int, sharedMemorySize :: Int, unsharedDataSize :: Int, unsharedStackSize :: Int, minorPageFault :: Int, majorPageFault :: Int, swappedOut :: Int, fsRead :: Int, fsWrite :: Int, ipcSent :: Int, ipcReceived :: Int, signalsCount :: Int, voluntaryContextSwitches :: Int, involuntaryContextSwitches :: Int )"
  }, {
    idx: 41,
    category: "small_record",
    name: "HandleConfig",
    sig: "Record ( containerSelector :: String, nodesGroupId :: GroupId, linksGroupId :: Maybe GroupId )"
  }, {
    idx: 42,
    category: "bare_row",
    name: "D3_ID",
    sig: "( id :: NodeID | row )"
  }, {
    idx: 43,
    category: "bare_row",
    name: "MouseEvents",
    sig: "( onDoubleClick :: MouseEvent, onClick :: MouseEvent, onMouseDown :: MouseEvent, onMouseEnter :: MouseEvent, onMouseLeave :: MouseEvent, onMouseMove :: MouseEvent, onMouseOver :: MouseEvent, onMouseOut :: MouseEvent, onMouseUp :: MouseEvent | r )"
  }, {
    idx: 44,
    category: "row_combination",
    name: "SimulationNode",
    sig: "Record (D3_ID + D3_XY + D3_VxyFxy + r)"
  }, {
    idx: 45,
    category: "kind_sig",
    name: "Proxy",
    sig: "forall k. k -> Type"
  }, {
    idx: 46,
    category: "kind_sig",
    name: "SProxy",
    sig: "Symbol -> Type"
  }, {
    idx: 47,
    category: "kind_sig",
    name: "TypeEquals",
    sig: "Type -> Type -> Constraint"
  }, {
    idx: 48,
    category: "halogen",
    name: "handleAction",
    sig: "forall m. MonadAff m => Action -> HalogenM State Action () Output m Unit"
  }, {
    idx: 49,
    category: "halogen",
    name: "component",
    sig: "forall q m. MonadAff m => Component q Input Output m"
  }, {
    idx: 50,
    category: "halogen",
    name: "mkEval",
    sig: "forall state query action slots input output m. EvalSpec state query action slots input output m -> HalogenQ query action input -> HalogenM state action slots output m Unit"
  }];
  var foreignImports = [{
    idx: 1,
    name: "log",
    sig: "String -> Effect Unit"
  }, {
    idx: 2,
    name: "unsafeCoerce",
    sig: "forall a b. a -> b"
  }, {
    idx: 3,
    name: "readFileSync",
    sig: "String -> String -> Effect String"
  }, {
    idx: 4,
    name: "setTimeout",
    sig: "Effect Unit -> Int -> Effect Int"
  }, {
    idx: 5,
    name: "pureImpl",
    sig: "forall a. a -> Array a"
  }];
  var dataDecls = /* @__PURE__ */ (function() {
    return [{
      idx: 1,
      name: "Maybe",
      typeParams: ["a"],
      constructors: [{
        name: "Nothing",
        argSigs: []
      }, {
        name: "Just",
        argSigs: ["a"]
      }],
      keyword: Nothing.value
    }, {
      idx: 2,
      name: "Either",
      typeParams: ["a", "b"],
      constructors: [{
        name: "Left",
        argSigs: ["a"]
      }, {
        name: "Right",
        argSigs: ["b"]
      }],
      keyword: Nothing.value
    }, {
      idx: 3,
      name: "List",
      typeParams: ["a"],
      constructors: [{
        name: "Nil",
        argSigs: []
      }, {
        name: "Cons",
        argSigs: ["a", "List a"]
      }],
      keyword: Nothing.value
    }, {
      idx: 4,
      name: "Ordering",
      typeParams: [],
      constructors: [{
        name: "LT",
        argSigs: []
      }, {
        name: "EQ",
        argSigs: []
      }, {
        name: "GT",
        argSigs: []
      }],
      keyword: Nothing.value
    }, {
      idx: 5,
      name: "IORef",
      typeParams: ["a"],
      constructors: [],
      keyword: Nothing.value
    }, {
      idx: 6,
      name: "Tuple",
      typeParams: ["a", "b"],
      constructors: [{
        name: "Tuple",
        argSigs: ["a", "b"]
      }],
      keyword: new Just("newtype")
    }, {
      idx: 7,
      name: "Tree",
      typeParams: ["a"],
      constructors: [{
        name: "Leaf",
        argSigs: ["a"]
      }, {
        name: "Node",
        argSigs: ["Tree a", "Tree a"]
      }],
      keyword: Nothing.value
    }, {
      idx: 8,
      name: "Step",
      typeParams: ["a", "b"],
      constructors: [{
        name: "Loop",
        argSigs: ["a"]
      }, {
        name: "Done",
        argSigs: ["b"]
      }],
      keyword: Nothing.value
    }];
  })();
  var classDecls = /* @__PURE__ */ (function() {
    return [{
      idx: 1,
      name: "Functor",
      typeParams: ["f"],
      superclasses: [],
      methods: [{
        name: "map",
        sig: new Just("forall a b. (a -> b) -> f a -> f b")
      }]
    }, {
      idx: 2,
      name: "Monad",
      typeParams: ["m"],
      superclasses: [{
        name: "Applicative",
        methods: [{
          name: "pure",
          sig: new Just("forall a. a -> m a")
        }]
      }, {
        name: "Bind",
        methods: [{
          name: "bind",
          sig: new Just("forall a b. m a -> (a -> m b) -> m b")
        }]
      }],
      methods: []
    }, {
      idx: 3,
      name: "Show",
      typeParams: ["a"],
      superclasses: [],
      methods: [{
        name: "show",
        sig: new Just("a -> String")
      }]
    }, {
      idx: 4,
      name: "MonadState",
      typeParams: ["s", "m"],
      superclasses: [{
        name: "Monad",
        methods: []
      }],
      methods: [{
        name: "state",
        sig: new Just("forall a. (s -> Record ( state :: s, value :: a )) -> m a")
      }, {
        name: "get",
        sig: new Just("m s")
      }]
    }, {
      idx: 5,
      name: "Ord",
      typeParams: ["a"],
      superclasses: [{
        name: "Eq",
        methods: [{
          name: "eq",
          sig: new Just("a -> a -> Boolean")
        }]
      }],
      methods: [{
        name: "compare",
        sig: new Just("a -> a -> Ordering")
      }]
    }];
  })();

  // output/Sigil.Html/foreign.js
  var _renderInto = (selector) => (html) => () => {
    const el = document.querySelector(selector);
    if (el) el.innerHTML = html;
  };

  // output/Data.FoldableWithIndex/index.js
  var foldrWithIndex = function(dict) {
    return dict.foldrWithIndex;
  };

  // output/Data.List.Types/index.js
  var Nil = /* @__PURE__ */ (function() {
    function Nil2() {
    }
    ;
    Nil2.value = new Nil2();
    return Nil2;
  })();
  var Cons = /* @__PURE__ */ (function() {
    function Cons2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Cons2.create = function(value0) {
      return function(value1) {
        return new Cons2(value0, value1);
      };
    };
    return Cons2;
  })();
  var foldableList = {
    foldr: function(f) {
      return function(b) {
        var rev = (function() {
          var go = function($copy_v) {
            return function($copy_v1) {
              var $tco_var_v = $copy_v;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v, v1) {
                if (v1 instanceof Nil) {
                  $tco_done = true;
                  return v;
                }
                ;
                if (v1 instanceof Cons) {
                  $tco_var_v = new Cons(v1.value0, v);
                  $copy_v1 = v1.value1;
                  return;
                }
                ;
                throw new Error("Failed pattern match at Data.List.Types (line 107, column 7 - line 107, column 23): " + [v.constructor.name, v1.constructor.name]);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v, $copy_v1);
              }
              ;
              return $tco_result;
            };
          };
          return go(Nil.value);
        })();
        var $284 = foldl(foldableList)(flip(f))(b);
        return function($285) {
          return $284(rev($285));
        };
      };
    },
    foldl: function(f) {
      var go = function($copy_b) {
        return function($copy_v) {
          var $tco_var_b = $copy_b;
          var $tco_done1 = false;
          var $tco_result;
          function $tco_loop(b, v) {
            if (v instanceof Nil) {
              $tco_done1 = true;
              return b;
            }
            ;
            if (v instanceof Cons) {
              $tco_var_b = f(b)(v.value0);
              $copy_v = v.value1;
              return;
            }
            ;
            throw new Error("Failed pattern match at Data.List.Types (line 111, column 12 - line 113, column 30): " + [v.constructor.name]);
          }
          ;
          while (!$tco_done1) {
            $tco_result = $tco_loop($tco_var_b, $copy_v);
          }
          ;
          return $tco_result;
        };
      };
      return go;
    },
    foldMap: function(dictMonoid) {
      var append22 = append(dictMonoid.Semigroup0());
      var mempty2 = mempty(dictMonoid);
      return function(f) {
        return foldl(foldableList)(function(acc) {
          var $286 = append22(acc);
          return function($287) {
            return $286(f($287));
          };
        })(mempty2);
      };
    }
  };

  // output/Data.Map.Internal/index.js
  var $runtime_lazy3 = function(name, moduleName, init2) {
    var state = 0;
    var val;
    return function(lineNumber) {
      if (state === 2) return val;
      if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state = 1;
      val = init2();
      state = 2;
      return val;
    };
  };
  var Leaf = /* @__PURE__ */ (function() {
    function Leaf2() {
    }
    ;
    Leaf2.value = new Leaf2();
    return Leaf2;
  })();
  var Node = /* @__PURE__ */ (function() {
    function Node2(value0, value1, value2, value3, value4, value5) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
      this.value3 = value3;
      this.value4 = value4;
      this.value5 = value5;
    }
    ;
    Node2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return function(value3) {
            return function(value4) {
              return function(value5) {
                return new Node2(value0, value1, value2, value3, value4, value5);
              };
            };
          };
        };
      };
    };
    return Node2;
  })();
  var Split = /* @__PURE__ */ (function() {
    function Split2(value0, value1, value2) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
    }
    ;
    Split2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return new Split2(value0, value1, value2);
        };
      };
    };
    return Split2;
  })();
  var unsafeNode = function(k, v, l, r) {
    if (l instanceof Leaf) {
      if (r instanceof Leaf) {
        return new Node(1, 1, k, v, l, r);
      }
      ;
      if (r instanceof Node) {
        return new Node(1 + r.value0 | 0, 1 + r.value1 | 0, k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 702, column 5 - line 706, column 39): " + [r.constructor.name]);
    }
    ;
    if (l instanceof Node) {
      if (r instanceof Leaf) {
        return new Node(1 + l.value0 | 0, 1 + l.value1 | 0, k, v, l, r);
      }
      ;
      if (r instanceof Node) {
        return new Node(1 + (function() {
          var $280 = l.value0 > r.value0;
          if ($280) {
            return l.value0;
          }
          ;
          return r.value0;
        })() | 0, (1 + l.value1 | 0) + r.value1 | 0, k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 708, column 5 - line 712, column 68): " + [r.constructor.name]);
    }
    ;
    throw new Error("Failed pattern match at Data.Map.Internal (line 700, column 32 - line 712, column 68): " + [l.constructor.name]);
  };
  var singleton4 = function(k) {
    return function(v) {
      return new Node(1, 1, k, v, Leaf.value, Leaf.value);
    };
  };
  var unsafeBalancedNode = /* @__PURE__ */ (function() {
    var height = function(v) {
      if (v instanceof Leaf) {
        return 0;
      }
      ;
      if (v instanceof Node) {
        return v.value0;
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 757, column 12 - line 759, column 26): " + [v.constructor.name]);
    };
    var rotateLeft = function(k, v, l, rk, rv, rl, rr) {
      if (rl instanceof Node && rl.value0 > height(rr)) {
        return unsafeNode(rl.value2, rl.value3, unsafeNode(k, v, l, rl.value4), unsafeNode(rk, rv, rl.value5, rr));
      }
      ;
      return unsafeNode(rk, rv, unsafeNode(k, v, l, rl), rr);
    };
    var rotateRight = function(k, v, lk, lv, ll, lr, r) {
      if (lr instanceof Node && height(ll) <= lr.value0) {
        return unsafeNode(lr.value2, lr.value3, unsafeNode(lk, lv, ll, lr.value4), unsafeNode(k, v, lr.value5, r));
      }
      ;
      return unsafeNode(lk, lv, ll, unsafeNode(k, v, lr, r));
    };
    return function(k, v, l, r) {
      if (l instanceof Leaf) {
        if (r instanceof Leaf) {
          return singleton4(k)(v);
        }
        ;
        if (r instanceof Node && r.value0 > 1) {
          return rotateLeft(k, v, l, r.value2, r.value3, r.value4, r.value5);
        }
        ;
        return unsafeNode(k, v, l, r);
      }
      ;
      if (l instanceof Node) {
        if (r instanceof Node) {
          if (r.value0 > (l.value0 + 1 | 0)) {
            return rotateLeft(k, v, l, r.value2, r.value3, r.value4, r.value5);
          }
          ;
          if (l.value0 > (r.value0 + 1 | 0)) {
            return rotateRight(k, v, l.value2, l.value3, l.value4, l.value5, r);
          }
          ;
        }
        ;
        if (r instanceof Leaf && l.value0 > 1) {
          return rotateRight(k, v, l.value2, l.value3, l.value4, l.value5, r);
        }
        ;
        return unsafeNode(k, v, l, r);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 717, column 40 - line 738, column 34): " + [l.constructor.name]);
    };
  })();
  var $lazy_unsafeSplit = /* @__PURE__ */ $runtime_lazy3("unsafeSplit", "Data.Map.Internal", function() {
    return function(comp, k, m) {
      if (m instanceof Leaf) {
        return new Split(Nothing.value, Leaf.value, Leaf.value);
      }
      ;
      if (m instanceof Node) {
        var v = comp(k)(m.value2);
        if (v instanceof LT) {
          var v1 = $lazy_unsafeSplit(793)(comp, k, m.value4);
          return new Split(v1.value0, v1.value1, unsafeBalancedNode(m.value2, m.value3, v1.value2, m.value5));
        }
        ;
        if (v instanceof GT) {
          var v1 = $lazy_unsafeSplit(796)(comp, k, m.value5);
          return new Split(v1.value0, unsafeBalancedNode(m.value2, m.value3, m.value4, v1.value1), v1.value2);
        }
        ;
        if (v instanceof EQ) {
          return new Split(new Just(m.value3), m.value4, m.value5);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 791, column 5 - line 799, column 30): " + [v.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 787, column 34 - line 799, column 30): " + [m.constructor.name]);
    };
  });
  var unsafeSplit = /* @__PURE__ */ $lazy_unsafeSplit(786);
  var $lazy_unsafeUnionWith = /* @__PURE__ */ $runtime_lazy3("unsafeUnionWith", "Data.Map.Internal", function() {
    return function(comp, app, l, r) {
      if (l instanceof Leaf) {
        return r;
      }
      ;
      if (r instanceof Leaf) {
        return l;
      }
      ;
      if (r instanceof Node) {
        var v = unsafeSplit(comp, r.value2, l);
        var l$prime = $lazy_unsafeUnionWith(809)(comp, app, v.value1, r.value4);
        var r$prime = $lazy_unsafeUnionWith(810)(comp, app, v.value2, r.value5);
        if (v.value0 instanceof Just) {
          return unsafeBalancedNode(r.value2, app(v.value0.value0)(r.value3), l$prime, r$prime);
        }
        ;
        if (v.value0 instanceof Nothing) {
          return unsafeBalancedNode(r.value2, r.value3, l$prime, r$prime);
        }
        ;
        throw new Error("Failed pattern match at Data.Map.Internal (line 811, column 5 - line 815, column 46): " + [v.value0.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at Data.Map.Internal (line 804, column 42 - line 815, column 46): " + [l.constructor.name, r.constructor.name]);
    };
  });
  var unsafeUnionWith = /* @__PURE__ */ $lazy_unsafeUnionWith(803);
  var unionWith = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(app) {
      return function(m1) {
        return function(m2) {
          return unsafeUnionWith(compare3, app, m1, m2);
        };
      };
    };
  };
  var union = function(dictOrd) {
    return unionWith(dictOrd)($$const);
  };
  var member = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(k) {
      var go = function($copy_v) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return false;
          }
          ;
          if (v instanceof Node) {
            var v1 = compare3(k)(v.value2);
            if (v1 instanceof LT) {
              $copy_v = v.value4;
              return;
            }
            ;
            if (v1 instanceof GT) {
              $copy_v = v.value5;
              return;
            }
            ;
            if (v1 instanceof EQ) {
              $tco_done = true;
              return true;
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 459, column 7 - line 462, column 19): " + [v1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 456, column 8 - line 462, column 19): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v);
        }
        ;
        return $tco_result;
      };
      return go;
    };
  };
  var lookup = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(k) {
      var go = function($copy_v) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v) {
          if (v instanceof Leaf) {
            $tco_done = true;
            return Nothing.value;
          }
          ;
          if (v instanceof Node) {
            var v1 = compare3(k)(v.value2);
            if (v1 instanceof LT) {
              $copy_v = v.value4;
              return;
            }
            ;
            if (v1 instanceof GT) {
              $copy_v = v.value5;
              return;
            }
            ;
            if (v1 instanceof EQ) {
              $tco_done = true;
              return new Just(v.value3);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 283, column 7 - line 286, column 22): " + [v1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 280, column 8 - line 286, column 22): " + [v.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v);
        }
        ;
        return $tco_result;
      };
      return go;
    };
  };
  var insert = function(dictOrd) {
    var compare3 = compare(dictOrd);
    return function(k) {
      return function(v) {
        var go = function(v1) {
          if (v1 instanceof Leaf) {
            return singleton4(k)(v);
          }
          ;
          if (v1 instanceof Node) {
            var v2 = compare3(k)(v1.value2);
            if (v2 instanceof LT) {
              return unsafeBalancedNode(v1.value2, v1.value3, go(v1.value4), v1.value5);
            }
            ;
            if (v2 instanceof GT) {
              return unsafeBalancedNode(v1.value2, v1.value3, v1.value4, go(v1.value5));
            }
            ;
            if (v2 instanceof EQ) {
              return new Node(v1.value0, v1.value1, k, v, v1.value4, v1.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 471, column 7 - line 474, column 35): " + [v2.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 468, column 8 - line 474, column 35): " + [v1.constructor.name]);
        };
        return go;
      };
    };
  };
  var foldableMap = {
    foldr: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(m$prime, z$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(172)(m$prime.value4, f(m$prime.value3)($lazy_go(172)(m$prime.value5, z$prime)));
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 169, column 26 - line 172, column 43): " + [m$prime.constructor.name]);
          };
        });
        var go = $lazy_go(169);
        return function(m) {
          return go(m, z);
        };
      };
    },
    foldl: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(z$prime, m$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(178)(f($lazy_go(178)(z$prime, m$prime.value4))(m$prime.value3), m$prime.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 175, column 26 - line 178, column 43): " + [m$prime.constructor.name]);
          };
        });
        var go = $lazy_go(175);
        return function(m) {
          return go(z, m);
        };
      };
    },
    foldMap: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      var append14 = append(dictMonoid.Semigroup0());
      return function(f) {
        var go = function(v) {
          if (v instanceof Leaf) {
            return mempty2;
          }
          ;
          if (v instanceof Node) {
            return append14(go(v.value4))(append14(f(v.value3))(go(v.value5)));
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 181, column 10 - line 184, column 28): " + [v.constructor.name]);
        };
        return go;
      };
    }
  };
  var foldableWithIndexMap = {
    foldrWithIndex: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(m$prime, z$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(192)(m$prime.value4, f(m$prime.value2)(m$prime.value3)($lazy_go(192)(m$prime.value5, z$prime)));
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 189, column 26 - line 192, column 45): " + [m$prime.constructor.name]);
          };
        });
        var go = $lazy_go(189);
        return function(m) {
          return go(m, z);
        };
      };
    },
    foldlWithIndex: function(f) {
      return function(z) {
        var $lazy_go = $runtime_lazy3("go", "Data.Map.Internal", function() {
          return function(z$prime, m$prime) {
            if (m$prime instanceof Leaf) {
              return z$prime;
            }
            ;
            if (m$prime instanceof Node) {
              return $lazy_go(198)(f(m$prime.value2)($lazy_go(198)(z$prime, m$prime.value4))(m$prime.value3), m$prime.value5);
            }
            ;
            throw new Error("Failed pattern match at Data.Map.Internal (line 195, column 26 - line 198, column 45): " + [m$prime.constructor.name]);
          };
        });
        var go = $lazy_go(195);
        return function(m) {
          return go(z, m);
        };
      };
    },
    foldMapWithIndex: function(dictMonoid) {
      var mempty2 = mempty(dictMonoid);
      var append14 = append(dictMonoid.Semigroup0());
      return function(f) {
        var go = function(v) {
          if (v instanceof Leaf) {
            return mempty2;
          }
          ;
          if (v instanceof Node) {
            return append14(go(v.value4))(append14(f(v.value2)(v.value3))(go(v.value5)));
          }
          ;
          throw new Error("Failed pattern match at Data.Map.Internal (line 201, column 10 - line 204, column 30): " + [v.constructor.name]);
        };
        return go;
      };
    },
    Foldable0: function() {
      return foldableMap;
    }
  };
  var keys = /* @__PURE__ */ (function() {
    return foldrWithIndex(foldableWithIndexMap)(function(k) {
      return function(v) {
        return function(acc) {
          return new Cons(k, acc);
        };
      };
    })(Nil.value);
  })();
  var empty2 = /* @__PURE__ */ (function() {
    return Leaf.value;
  })();
  var fromFoldable = function(dictOrd) {
    var insert1 = insert(dictOrd);
    return function(dictFoldable) {
      return foldl(dictFoldable)(function(m) {
        return function(v) {
          return insert1(v.value0)(v.value1)(m);
        };
      })(empty2);
    };
  };

  // output/Data.List/index.js
  var map3 = /* @__PURE__ */ map(functorMaybe);
  var uncons2 = function(v) {
    if (v instanceof Nil) {
      return Nothing.value;
    }
    ;
    if (v instanceof Cons) {
      return new Just({
        head: v.value0,
        tail: v.value1
      });
    }
    ;
    throw new Error("Failed pattern match at Data.List (line 259, column 1 - line 259, column 66): " + [v.constructor.name]);
  };
  var toUnfoldable = function(dictUnfoldable) {
    return unfoldr(dictUnfoldable)(function(xs) {
      return map3(function(rec) {
        return new Tuple(rec.head, rec.tail);
      })(uncons2(xs));
    });
  };

  // output/Data.Set/index.js
  var coerce3 = /* @__PURE__ */ coerce();
  var union2 = function(dictOrd) {
    return coerce3(union(dictOrd));
  };
  var toList = function(v) {
    return keys(v);
  };
  var toUnfoldable2 = function(dictUnfoldable) {
    var $96 = toUnfoldable(dictUnfoldable);
    return function($97) {
      return $96(toList($97));
    };
  };
  var singleton5 = function(a) {
    return singleton4(a)(unit);
  };
  var member2 = function(dictOrd) {
    return coerce3(member(dictOrd));
  };
  var insert2 = function(dictOrd) {
    var insert1 = insert(dictOrd);
    return function(a) {
      return function(v) {
        return insert1(a)(unit)(v);
      };
    };
  };
  var empty3 = empty2;
  var fromFoldable2 = function(dictFoldable) {
    var foldl22 = foldl(dictFoldable);
    return function(dictOrd) {
      var insert1 = insert2(dictOrd);
      return foldl22(function(m) {
        return function(a) {
          return insert1(a)(m);
        };
      })(empty3);
    };
  };

  // output/Data.String.CodePoints/foreign.js
  var hasArrayFrom = typeof Array.from === "function";
  var hasStringIterator = typeof Symbol !== "undefined" && Symbol != null && typeof Symbol.iterator !== "undefined" && typeof String.prototype[Symbol.iterator] === "function";
  var hasFromCodePoint = typeof String.prototype.fromCodePoint === "function";
  var hasCodePointAt = typeof String.prototype.codePointAt === "function";
  var _unsafeCodePointAt0 = function(fallback) {
    return hasCodePointAt ? function(str) {
      return str.codePointAt(0);
    } : fallback;
  };
  var _singleton = function(fallback) {
    return hasFromCodePoint ? String.fromCodePoint : fallback;
  };
  var _take = function(fallback) {
    return function(n) {
      if (hasStringIterator) {
        return function(str) {
          var accum = "";
          var iter = str[Symbol.iterator]();
          for (var i = 0; i < n; ++i) {
            var o = iter.next();
            if (o.done) return accum;
            accum += o.value;
          }
          return accum;
        };
      }
      return fallback(n);
    };
  };
  var _toCodePointArray = function(fallback) {
    return function(unsafeCodePointAt02) {
      if (hasArrayFrom) {
        return function(str) {
          return Array.from(str, unsafeCodePointAt02);
        };
      }
      return fallback;
    };
  };

  // output/Data.Enum/foreign.js
  function toCharCode(c) {
    return c.charCodeAt(0);
  }
  function fromCharCode(c) {
    return String.fromCharCode(c);
  }

  // output/Data.Enum/index.js
  var bottom1 = /* @__PURE__ */ bottom(boundedChar);
  var top1 = /* @__PURE__ */ top(boundedChar);
  var toEnum = function(dict) {
    return dict.toEnum;
  };
  var fromEnum = function(dict) {
    return dict.fromEnum;
  };
  var toEnumWithDefaults = function(dictBoundedEnum) {
    var toEnum1 = toEnum(dictBoundedEnum);
    var fromEnum1 = fromEnum(dictBoundedEnum);
    var bottom2 = bottom(dictBoundedEnum.Bounded0());
    return function(low) {
      return function(high) {
        return function(x) {
          var v = toEnum1(x);
          if (v instanceof Just) {
            return v.value0;
          }
          ;
          if (v instanceof Nothing) {
            var $140 = x < fromEnum1(bottom2);
            if ($140) {
              return low;
            }
            ;
            return high;
          }
          ;
          throw new Error("Failed pattern match at Data.Enum (line 158, column 33 - line 160, column 62): " + [v.constructor.name]);
        };
      };
    };
  };
  var defaultSucc = function(toEnum$prime) {
    return function(fromEnum$prime) {
      return function(a) {
        return toEnum$prime(fromEnum$prime(a) + 1 | 0);
      };
    };
  };
  var defaultPred = function(toEnum$prime) {
    return function(fromEnum$prime) {
      return function(a) {
        return toEnum$prime(fromEnum$prime(a) - 1 | 0);
      };
    };
  };
  var charToEnum = function(v) {
    if (v >= toCharCode(bottom1) && v <= toCharCode(top1)) {
      return new Just(fromCharCode(v));
    }
    ;
    return Nothing.value;
  };
  var enumChar = {
    succ: /* @__PURE__ */ defaultSucc(charToEnum)(toCharCode),
    pred: /* @__PURE__ */ defaultPred(charToEnum)(toCharCode),
    Ord0: function() {
      return ordChar;
    }
  };
  var boundedEnumChar = /* @__PURE__ */ (function() {
    return {
      cardinality: toCharCode(top1) - toCharCode(bottom1) | 0,
      toEnum: charToEnum,
      fromEnum: toCharCode,
      Bounded0: function() {
        return boundedChar;
      },
      Enum1: function() {
        return enumChar;
      }
    };
  })();

  // output/Data.Int/foreign.js
  var fromStringAsImpl = function(just) {
    return function(nothing) {
      return function(radix) {
        var digits;
        if (radix < 11) {
          digits = "[0-" + (radix - 1).toString() + "]";
        } else if (radix === 11) {
          digits = "[0-9a]";
        } else {
          digits = "[0-9a-" + String.fromCharCode(86 + radix) + "]";
        }
        var pattern = new RegExp("^[\\+\\-]?" + digits + "+$", "i");
        return function(s) {
          if (pattern.test(s)) {
            var i = parseInt(s, radix);
            return (i | 0) === i ? just(i) : nothing;
          } else {
            return nothing;
          }
        };
      };
    };
  };

  // output/Data.Number/foreign.js
  var isFiniteImpl = isFinite;
  function fromStringImpl(str, isFinite2, just, nothing) {
    var num = parseFloat(str);
    if (isFinite2(num)) {
      return just(num);
    } else {
      return nothing;
    }
  }

  // output/Data.Number/index.js
  var fromString = function(str) {
    return fromStringImpl(str, isFiniteImpl, Just.create, Nothing.value);
  };

  // output/Data.Int/index.js
  var hexadecimal = 16;
  var fromStringAs = /* @__PURE__ */ (function() {
    return fromStringAsImpl(Just.create)(Nothing.value);
  })();
  var fromString2 = /* @__PURE__ */ fromStringAs(10);

  // output/Data.String.CodeUnits/foreign.js
  var singleton6 = function(c) {
    return c;
  };
  var _charAt = function(just) {
    return function(nothing) {
      return function(i) {
        return function(s) {
          return i >= 0 && i < s.length ? just(s.charAt(i)) : nothing;
        };
      };
    };
  };
  var length2 = function(s) {
    return s.length;
  };
  var _indexOfStartingAt = function(just) {
    return function(nothing) {
      return function(x) {
        return function(startAt) {
          return function(s) {
            if (startAt < 0 || startAt > s.length) return nothing;
            var i = s.indexOf(x, startAt);
            return i === -1 ? nothing : just(i);
          };
        };
      };
    };
  };
  var take = function(n) {
    return function(s) {
      return s.substr(0, n);
    };
  };
  var drop = function(n) {
    return function(s) {
      return s.substring(n);
    };
  };

  // output/Data.String.Unsafe/foreign.js
  var charAt = function(i) {
    return function(s) {
      if (i >= 0 && i < s.length) return s.charAt(i);
      throw new Error("Data.String.Unsafe.charAt: Invalid index.");
    };
  };

  // output/Data.String.CodeUnits/index.js
  var indexOf$prime = /* @__PURE__ */ (function() {
    return _indexOfStartingAt(Just.create)(Nothing.value);
  })();
  var dropRight = function(i) {
    return function(s) {
      return take(length2(s) - i | 0)(s);
    };
  };
  var charAt2 = /* @__PURE__ */ (function() {
    return _charAt(Just.create)(Nothing.value);
  })();

  // output/Data.String.Common/foreign.js
  var replaceAll = function(s1) {
    return function(s2) {
      return function(s3) {
        return s3.replace(new RegExp(s1.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&"), "g"), s2);
      };
    };
  };

  // output/Data.String.CodePoints/index.js
  var $runtime_lazy4 = function(name, moduleName, init2) {
    var state = 0;
    var val;
    return function(lineNumber) {
      if (state === 2) return val;
      if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state = 1;
      val = init2();
      state = 2;
      return val;
    };
  };
  var fromEnum2 = /* @__PURE__ */ fromEnum(boundedEnumChar);
  var map4 = /* @__PURE__ */ map(functorMaybe);
  var unfoldr2 = /* @__PURE__ */ unfoldr(unfoldableArray);
  var div2 = /* @__PURE__ */ div(euclideanRingInt);
  var mod2 = /* @__PURE__ */ mod(euclideanRingInt);
  var compare2 = /* @__PURE__ */ compare(ordInt);
  var CodePoint = function(x) {
    return x;
  };
  var unsurrogate = function(lead) {
    return function(trail) {
      return (((lead - 55296 | 0) * 1024 | 0) + (trail - 56320 | 0) | 0) + 65536 | 0;
    };
  };
  var isTrail = function(cu) {
    return 56320 <= cu && cu <= 57343;
  };
  var isLead = function(cu) {
    return 55296 <= cu && cu <= 56319;
  };
  var uncons3 = function(s) {
    var v = length2(s);
    if (v === 0) {
      return Nothing.value;
    }
    ;
    if (v === 1) {
      return new Just({
        head: fromEnum2(charAt(0)(s)),
        tail: ""
      });
    }
    ;
    var cu1 = fromEnum2(charAt(1)(s));
    var cu0 = fromEnum2(charAt(0)(s));
    var $43 = isLead(cu0) && isTrail(cu1);
    if ($43) {
      return new Just({
        head: unsurrogate(cu0)(cu1),
        tail: drop(2)(s)
      });
    }
    ;
    return new Just({
      head: cu0,
      tail: drop(1)(s)
    });
  };
  var unconsButWithTuple = function(s) {
    return map4(function(v) {
      return new Tuple(v.head, v.tail);
    })(uncons3(s));
  };
  var toCodePointArrayFallback = function(s) {
    return unfoldr2(unconsButWithTuple)(s);
  };
  var unsafeCodePointAt0Fallback = function(s) {
    var cu0 = fromEnum2(charAt(0)(s));
    var $47 = isLead(cu0) && length2(s) > 1;
    if ($47) {
      var cu1 = fromEnum2(charAt(1)(s));
      var $48 = isTrail(cu1);
      if ($48) {
        return unsurrogate(cu0)(cu1);
      }
      ;
      return cu0;
    }
    ;
    return cu0;
  };
  var unsafeCodePointAt0 = /* @__PURE__ */ _unsafeCodePointAt0(unsafeCodePointAt0Fallback);
  var toCodePointArray = /* @__PURE__ */ _toCodePointArray(toCodePointArrayFallback)(unsafeCodePointAt0);
  var length3 = function($74) {
    return length(toCodePointArray($74));
  };
  var fromCharCode2 = /* @__PURE__ */ (function() {
    var $75 = toEnumWithDefaults(boundedEnumChar)(bottom(boundedChar))(top(boundedChar));
    return function($76) {
      return singleton6($75($76));
    };
  })();
  var singletonFallback = function(v) {
    if (v <= 65535) {
      return fromCharCode2(v);
    }
    ;
    var lead = div2(v - 65536 | 0)(1024) + 55296 | 0;
    var trail = mod2(v - 65536 | 0)(1024) + 56320 | 0;
    return fromCharCode2(lead) + fromCharCode2(trail);
  };
  var singleton7 = /* @__PURE__ */ _singleton(singletonFallback);
  var takeFallback = function(v) {
    return function(v1) {
      if (v < 1) {
        return "";
      }
      ;
      var v2 = uncons3(v1);
      if (v2 instanceof Just) {
        return singleton7(v2.value0.head) + takeFallback(v - 1 | 0)(v2.value0.tail);
      }
      ;
      return v1;
    };
  };
  var take2 = /* @__PURE__ */ _take(takeFallback);
  var eqCodePoint = {
    eq: function(x) {
      return function(y) {
        return x === y;
      };
    }
  };
  var ordCodePoint = {
    compare: function(x) {
      return function(y) {
        return compare2(x)(y);
      };
    },
    Eq0: function() {
      return eqCodePoint;
    }
  };
  var codePointFromChar = function($77) {
    return CodePoint(fromEnum2($77));
  };
  var boundedCodePoint = {
    bottom: 0,
    top: 1114111,
    Ord0: function() {
      return ordCodePoint;
    }
  };
  var boundedEnumCodePoint = /* @__PURE__ */ (function() {
    return {
      cardinality: 1114111 + 1 | 0,
      fromEnum: function(v) {
        return v;
      },
      toEnum: function(n) {
        if (n >= 0 && n <= 1114111) {
          return new Just(n);
        }
        ;
        if (otherwise) {
          return Nothing.value;
        }
        ;
        throw new Error("Failed pattern match at Data.String.CodePoints (line 63, column 1 - line 68, column 26): " + [n.constructor.name]);
      },
      Bounded0: function() {
        return boundedCodePoint;
      },
      Enum1: function() {
        return $lazy_enumCodePoint(0);
      }
    };
  })();
  var $lazy_enumCodePoint = /* @__PURE__ */ $runtime_lazy4("enumCodePoint", "Data.String.CodePoints", function() {
    return {
      succ: defaultSucc(toEnum(boundedEnumCodePoint))(fromEnum(boundedEnumCodePoint)),
      pred: defaultPred(toEnum(boundedEnumCodePoint))(fromEnum(boundedEnumCodePoint)),
      Ord0: function() {
        return ordCodePoint;
      }
    };
  });

  // output/Sigil.Color/index.js
  var member3 = /* @__PURE__ */ member2(ordString);
  var nub2 = /* @__PURE__ */ nub(ordString);
  var mod3 = /* @__PURE__ */ mod(euclideanRingInt);
  var fromFoldable3 = /* @__PURE__ */ fromFoldable(ordString)(foldableArray);
  var typeVarPalette = ["#0284c7", "#d97706", "#059669", "#7c3aed", "#dc2626", "#0d9488", "#c026d3", "#4f46e5"];
  var isEffectNameIn = function(names) {
    return function(name) {
      return member3(name)(names);
    };
  };
  var defaultEffectNames = /* @__PURE__ */ fromFoldable2(foldableArray)(ordString)(["Effect", "Aff", "MonadAff", "MonadEffect"]);
  var isEffectName = /* @__PURE__ */ isEffectNameIn(defaultEffectNames);
  var assignVarColors = function(vars) {
    var unique = nub2(vars);
    var paletteLen = length(typeVarPalette);
    var pairs = mapWithIndex2(function(i) {
      return function(v) {
        return new Tuple(v, fromMaybe("#0369a1")(index(typeVarPalette)(mod3(i)(paletteLen))));
      };
    })(unique);
    return fromFoldable3(pairs);
  };

  // output/Sigil.Types/index.js
  var TVar = /* @__PURE__ */ (function() {
    function TVar2(value0) {
      this.value0 = value0;
    }
    ;
    TVar2.create = function(value0) {
      return new TVar2(value0);
    };
    return TVar2;
  })();
  var TCon = /* @__PURE__ */ (function() {
    function TCon2(value0) {
      this.value0 = value0;
    }
    ;
    TCon2.create = function(value0) {
      return new TCon2(value0);
    };
    return TCon2;
  })();
  var TApp = /* @__PURE__ */ (function() {
    function TApp2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TApp2.create = function(value0) {
      return function(value1) {
        return new TApp2(value0, value1);
      };
    };
    return TApp2;
  })();
  var TArrow = /* @__PURE__ */ (function() {
    function TArrow2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TArrow2.create = function(value0) {
      return function(value1) {
        return new TArrow2(value0, value1);
      };
    };
    return TArrow2;
  })();
  var TConstrained = /* @__PURE__ */ (function() {
    function TConstrained2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TConstrained2.create = function(value0) {
      return function(value1) {
        return new TConstrained2(value0, value1);
      };
    };
    return TConstrained2;
  })();
  var TForall = /* @__PURE__ */ (function() {
    function TForall2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TForall2.create = function(value0) {
      return function(value1) {
        return new TForall2(value0, value1);
      };
    };
    return TForall2;
  })();
  var TRecord = /* @__PURE__ */ (function() {
    function TRecord2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TRecord2.create = function(value0) {
      return function(value1) {
        return new TRecord2(value0, value1);
      };
    };
    return TRecord2;
  })();
  var TRow = /* @__PURE__ */ (function() {
    function TRow2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TRow2.create = function(value0) {
      return function(value1) {
        return new TRow2(value0, value1);
      };
    };
    return TRow2;
  })();
  var TParens = /* @__PURE__ */ (function() {
    function TParens2(value0) {
      this.value0 = value0;
    }
    ;
    TParens2.create = function(value0) {
      return new TParens2(value0);
    };
    return TParens2;
  })();
  var TKinded = /* @__PURE__ */ (function() {
    function TKinded2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TKinded2.create = function(value0) {
      return function(value1) {
        return new TKinded2(value0, value1);
      };
    };
    return TKinded2;
  })();
  var TString = /* @__PURE__ */ (function() {
    function TString2(value0) {
      this.value0 = value0;
    }
    ;
    TString2.create = function(value0) {
      return new TString2(value0);
    };
    return TString2;
  })();
  var TWildcard = /* @__PURE__ */ (function() {
    function TWildcard2() {
    }
    ;
    TWildcard2.value = new TWildcard2();
    return TWildcard2;
  })();
  var TOperator = /* @__PURE__ */ (function() {
    function TOperator2(value0, value1, value2) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
    }
    ;
    TOperator2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return new TOperator2(value0, value1, value2);
        };
      };
    };
    return TOperator2;
  })();

  // output/Sigil.Text/index.js
  var union3 = /* @__PURE__ */ union2(ordString);
  var insert3 = /* @__PURE__ */ insert2(ordString);
  var append1 = /* @__PURE__ */ append(semigroupArray);
  var fieldVars = function(fields) {
    return function(tail2) {
      var fv = foldl2(function(acc) {
        return function(f) {
          return union3(acc)(collectTypeVars(f.value));
        };
      })(empty3)(fields);
      if (tail2 instanceof Just) {
        return insert3(tail2.value0)(fv);
      }
      ;
      if (tail2 instanceof Nothing) {
        return fv;
      }
      ;
      throw new Error("Failed pattern match at Sigil.Text (line 94, column 6 - line 96, column 18): " + [tail2.constructor.name]);
    };
  };
  var collectTypeVars = function(v) {
    if (v instanceof TVar) {
      return singleton5(v.value0);
    }
    ;
    if (v instanceof TCon) {
      return empty3;
    }
    ;
    if (v instanceof TApp) {
      return foldl2(function(acc) {
        return function(a) {
          return union3(acc)(collectTypeVars(a));
        };
      })(collectTypeVars(v.value0))(v.value1);
    }
    ;
    if (v instanceof TArrow) {
      return union3(collectTypeVars(v.value0))(collectTypeVars(v.value1));
    }
    ;
    if (v instanceof TConstrained) {
      var cVars = foldl2(function(acc) {
        return function(c) {
          return foldl2(function(a2) {
            return function(a) {
              return union3(a2)(collectTypeVars(a));
            };
          })(acc)(c.args);
        };
      })(empty3)(v.value0);
      return union3(cVars)(collectTypeVars(v.value1));
    }
    ;
    if (v instanceof TForall) {
      return collectTypeVars(v.value1);
    }
    ;
    if (v instanceof TRecord) {
      return fieldVars(v.value0)(v.value1);
    }
    ;
    if (v instanceof TRow) {
      return fieldVars(v.value0)(v.value1);
    }
    ;
    if (v instanceof TParens) {
      return collectTypeVars(v.value0);
    }
    ;
    if (v instanceof TKinded) {
      return collectTypeVars(v.value0);
    }
    ;
    if (v instanceof TString) {
      return empty3;
    }
    ;
    if (v instanceof TWildcard) {
      return empty3;
    }
    ;
    if (v instanceof TOperator) {
      return union3(collectTypeVars(v.value0))(collectTypeVars(v.value2));
    }
    ;
    throw new Error("Failed pattern match at Sigil.Text (line 73, column 19 - line 88, column 71): " + [v.constructor.name]);
  };
  var collectForallVars = function(v) {
    if (v instanceof TForall) {
      return append1(v.value0)(collectForallVars(v.value1));
    }
    ;
    if (v instanceof TConstrained) {
      return collectForallVars(v.value1);
    }
    ;
    if (v instanceof TArrow) {
      return append1(collectForallVars(v.value0))(collectForallVars(v.value1));
    }
    ;
    if (v instanceof TApp) {
      return append1(collectForallVars(v.value0))(concatMap(collectForallVars)(v.value1));
    }
    ;
    if (v instanceof TParens) {
      return collectForallVars(v.value0);
    }
    ;
    if (v instanceof TRecord) {
      return concatMap(function(f) {
        return collectForallVars(f.value);
      })(v.value0);
    }
    ;
    if (v instanceof TRow) {
      return concatMap(function(f) {
        return collectForallVars(f.value);
      })(v.value0);
    }
    ;
    return [];
  };
  var collectArrowParams = function(v) {
    if (v instanceof TArrow) {
      return cons(v.value0)(collectArrowParams(v.value1));
    }
    ;
    return [v];
  };

  // output/Sigil.Html/index.js
  var append12 = /* @__PURE__ */ append(semigroupArray);
  var intercalate3 = /* @__PURE__ */ intercalate2(monoidString);
  var mapFlipped2 = /* @__PURE__ */ mapFlipped(functorArray);
  var lookup2 = /* @__PURE__ */ lookup(ordString);
  var eq3 = /* @__PURE__ */ eq(/* @__PURE__ */ eqMaybe(eqString));
  var member4 = /* @__PURE__ */ member2(ordString);
  var toUnfoldable3 = /* @__PURE__ */ toUnfoldable2(unfoldableArray);
  var nub3 = /* @__PURE__ */ nub(ordString);
  var map5 = /* @__PURE__ */ map(functorArray);
  var union4 = /* @__PURE__ */ union2(ordString);
  var truncateLabel = function(s) {
    var $34 = length3(s) > 15;
    if ($34) {
      return take2(15)(s) + "\u2026";
    }
    ;
    return s;
  };
  var peelSignature = function(v) {
    if (v instanceof TForall) {
      var rest = peelSignature(v.value1);
      return {
        constraints: rest.constraints,
        body: rest.body,
        forallVars: append12(v.value0)(rest.forallVars)
      };
    }
    ;
    if (v instanceof TConstrained) {
      var rest = peelSignature(v.value1);
      return {
        forallVars: rest.forallVars,
        body: rest.body,
        constraints: append12(v.value0)(rest.constraints)
      };
    }
    ;
    return {
      forallVars: [],
      constraints: [],
      body: v
    };
  };
  var escapeHtml = function(s) {
    var len = length2(s);
    var go = function($copy_i) {
      return function($copy_acc) {
        var $tco_var_i = $copy_i;
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(i, acc) {
          if (i >= len) {
            $tco_done = true;
            return acc;
          }
          ;
          if (otherwise) {
            var v = charAt2(i)(s);
            if (v instanceof Just && v.value0 === "<") {
              $tco_var_i = i + 1 | 0;
              $copy_acc = acc + "&lt;";
              return;
            }
            ;
            if (v instanceof Just && v.value0 === ">") {
              $tco_var_i = i + 1 | 0;
              $copy_acc = acc + "&gt;";
              return;
            }
            ;
            if (v instanceof Just && v.value0 === "&") {
              $tco_var_i = i + 1 | 0;
              $copy_acc = acc + "&amp;";
              return;
            }
            ;
            if (v instanceof Just && v.value0 === '"') {
              $tco_var_i = i + 1 | 0;
              $copy_acc = acc + "&quot;";
              return;
            }
            ;
            if (v instanceof Just) {
              $tco_var_i = i + 1 | 0;
              $copy_acc = acc + singleton6(v.value0);
              return;
            }
            ;
            if (v instanceof Nothing) {
              $tco_done = true;
              return acc;
            }
            ;
            throw new Error("Failed pattern match at Sigil.Html (line 364, column 19 - line 370, column 24): " + [v.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at Sigil.Html (line 361, column 3 - line 361, column 32): " + [i.constructor.name, acc.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($tco_var_i, $copy_acc);
        }
        ;
        return $tco_result;
      };
    };
    return go(0)("");
  };
  var labeledToken = function(dotHtml) {
    return function(labelText) {
      return function(labelColor) {
        return '<span class="sig-lt">' + (dotHtml + ('<span class="sig-lt-label" style="color:' + (labelColor + ('">' + (escapeHtml(truncateLabel(labelText)) + "</span></span>")))));
      };
    };
  };
  var renderSuperclassRow = function(names) {
    return '<div class="sig-class-supers">' + ('<small class="sig-class-arrow">&lt;=</small>' + (intercalate3('<small class="sig-class-comma">, </small>')(mapFlipped2(names)(function(n) {
      return '<em class="sig-class-super">' + (escapeHtml(n) + "</em>");
    })) + "</div>"));
  };
  var sigletPill = function(ctx) {
    return function(name) {
      var color = fromMaybe("#0369a1")(lookup2(name)(ctx.varColors));
      return '<var class="sig-var sig-var-pill" style="--vc:' + (color + ('">' + (escapeHtml(name) + "</var>")));
    };
  };
  var varPill = function(ctx) {
    return function(name) {
      var color = fromMaybe("#0369a1")(lookup2(name)(ctx.varColors));
      return '<var class="sig-var" style="--vc:' + (color + ('">' + (escapeHtml(name) + "</var>")));
    };
  };
  var renderAdtHeader = function(ctx) {
    return function(kw) {
      return function(name) {
        return function(typeParams) {
          return '<div class="sig-adt-header">' + ('<small class="sig-kw">' + (escapeHtml(kw) + ("</small>" + ('<dfn class="sig-adt-name">' + (escapeHtml(name) + ("</dfn>" + (intercalate3("")(mapFlipped2(typeParams)(varPill(ctx))) + "</div>")))))));
        };
      };
    };
  };
  var renderClassHeader = function(ctx) {
    return function(name) {
      return function(typeParams) {
        return '<div class="sig-class-header">' + ('<small class="sig-kw">class </small>' + ('<dfn class="sig-class-name">' + (escapeHtml(name) + ("</dfn>" + (intercalate3("")(mapFlipped2(typeParams)(varPill(ctx))) + "</div>")))));
      };
    };
  };
  var renderRecordSiglet = function(ctx) {
    return function(open) {
      return function(close) {
        return function(fields) {
          return function(tail2) {
            var $48 = $$null(fields) && eq3(tail2)(Nothing.value);
            if ($48) {
              return '<small class="sig-dot sig-dot-con"></small>';
            }
            ;
            return '<code class="sig-record-mini">' + ('<small class="sig-brace">' + (open + ("</small>" + (intercalate3("")(mapFlipped2(fields)(function(v) {
              return '<small class="sig-dot sig-dot-con"></small>';
            })) + ((function() {
              if (tail2 instanceof Just) {
                return '<small class="sig-pipe">|</small>' + varPill(ctx)(tail2.value0);
              }
              ;
              if (tail2 instanceof Nothing) {
                return "";
              }
              ;
              throw new Error("Failed pattern match at Sigil.Html (line 715, column 10 - line 717, column 25): " + [tail2.constructor.name]);
            })() + ('<small class="sig-brace">' + (close + "</small></code>")))))));
          };
        };
      };
    };
  };
  var renderRecordSignet = function(ctx) {
    return function(open) {
      return function(close) {
        return function(fields) {
          return function(tail2) {
            var $51 = $$null(fields) && eq3(tail2)(Nothing.value);
            if ($51) {
              return '<small class="sig-dot sig-dot-con"></small>';
            }
            ;
            return '<code class="sig-record-mini">' + ('<small class="sig-brace">' + (open + ("</small>" + (intercalate3("")(mapFlipped2(fields)(function(f) {
              return labeledToken('<small class="sig-dot sig-dot-con"></small>')(f.label)("#16653e");
            })) + ((function() {
              if (tail2 instanceof Just) {
                return '<small class="sig-pipe">|</small>' + varPill(ctx)(tail2.value0);
              }
              ;
              if (tail2 instanceof Nothing) {
                return "";
              }
              ;
              throw new Error("Failed pattern match at Sigil.Html (line 848, column 10 - line 850, column 25): " + [tail2.constructor.name]);
            })() + ('<small class="sig-brace">' + (close + "</small></code>")))))));
          };
        };
      };
    };
  };
  var renderSigletTypeTree = function(ctx) {
    return function(v) {
      if (v instanceof TVar) {
        var $55 = length3(v.value0) > 1;
        if ($55) {
          var color = fromMaybe("#0369a1")(lookup2(v.value0)(ctx.varColors));
          return '<var class="sig-dot sig-dot-var" style="background:' + (color + '"></var>');
        }
        ;
        var $56 = member4(v.value0)(ctx.constrainedVars);
        if ($56) {
          return sigletPill(ctx)(v.value0);
        }
        ;
        return varPill(ctx)(v.value0);
      }
      ;
      if (v instanceof TCon) {
        var $58 = isEffectName(v.value0);
        if ($58) {
          return '<small class="sig-dot sig-dot-effect"></small>';
        }
        ;
        return '<small class="sig-dot sig-dot-con"></small>';
      }
      ;
      if (v instanceof TApp) {
        var isHkt = (function() {
          if (v.value0 instanceof TVar) {
            return true;
          }
          ;
          return false;
        })();
        var headHtml = (function() {
          if (v.value0 instanceof TCon) {
            var $63 = isEffectName(v.value0.value0);
            if ($63) {
              return '<small class="sig-dot sig-dot-effect sig-dot-head"></small>';
            }
            ;
            return '<small class="sig-dot sig-dot-con sig-dot-head"></small>';
          }
          ;
          return renderSigletTypeTree(ctx)(v.value0);
        })();
        var cls = (function() {
          if (isHkt) {
            return "sig-app sig-hkt";
          }
          ;
          return "sig-app";
        })();
        var argsHtml = intercalate3("")(mapFlipped2(v.value1)(renderSigletTypeTree(ctx)));
        return '<code class="' + (cls + ('">' + (headHtml + (argsHtml + "</code>"))));
      }
      ;
      if (v instanceof TArrow) {
        var params = collectArrowParams(new TArrow(v.value0, v.value1));
        return '<ol class="sig-arrow-chain">' + (intercalate3("")(mapFlipped2(params)(function(p) {
          return '<li class="sig-param">' + (renderSigletTypeTree(ctx)(p) + "</li>");
        })) + "</ol>");
      }
      ;
      if (v instanceof TForall) {
        return renderSigletTypeTree(ctx)(v.value1);
      }
      ;
      if (v instanceof TConstrained) {
        return renderSigletTypeTree(ctx)(v.value1);
      }
      ;
      if (v instanceof TParens) {
        return '<code class="sig-app">' + ('<small class="sig-paren">(</small>' + (renderSigletTypeTree(ctx)(v.value0) + '<small class="sig-paren">)</small></code>'));
      }
      ;
      if (v instanceof TRecord) {
        return renderRecordSiglet(ctx)("{")("}")(v.value0)(v.value1);
      }
      ;
      if (v instanceof TRow) {
        return renderRecordSiglet(ctx)("(")(")")(v.value0)(v.value1);
      }
      ;
      if (v instanceof TOperator) {
        return '<code class="sig-app">' + (renderSigletTypeTree(ctx)(v.value0) + ('<small class="sig-op">' + (escapeHtml(v.value1) + ("</small>" + (renderSigletTypeTree(ctx)(v.value2) + "</code>")))));
      }
      ;
      if (v instanceof TKinded) {
        return renderSigletTypeTree(ctx)(v.value0);
      }
      ;
      if (v instanceof TString) {
        return '<code class="sig-string">""</code>';
      }
      ;
      if (v instanceof TWildcard) {
        return '<var class="sig-dot sig-dot-var sig-wildcard"></var>';
      }
      ;
      throw new Error("Failed pattern match at Sigil.Html (line 630, column 28 - line 703, column 61): " + [v.constructor.name]);
    };
  };
  var renderSignetTypeTree = function(ctx) {
    return function(v) {
      if (v instanceof TVar) {
        var $86 = length3(v.value0) > 1;
        if ($86) {
          var color = fromMaybe("#0369a1")(lookup2(v.value0)(ctx.varColors));
          return labeledToken('<var class="sig-dot sig-dot-var" style="background:' + (color + '"></var>'))(v.value0)(color);
        }
        ;
        var $87 = member4(v.value0)(ctx.constrainedVars);
        if ($87) {
          return sigletPill(ctx)(v.value0);
        }
        ;
        return varPill(ctx)(v.value0);
      }
      ;
      if (v instanceof TCon) {
        var $89 = isEffectName(v.value0);
        if ($89) {
          return labeledToken('<small class="sig-dot sig-dot-effect"></small>')(v.value0)("#9333ea");
        }
        ;
        return labeledToken('<small class="sig-dot sig-dot-con"></small>')(v.value0)("#16653e");
      }
      ;
      if (v instanceof TApp) {
        var isHkt = (function() {
          if (v.value0 instanceof TVar) {
            return true;
          }
          ;
          return false;
        })();
        var headHtml = (function() {
          if (v.value0 instanceof TCon) {
            var $94 = isEffectName(v.value0.value0);
            if ($94) {
              return labeledToken('<small class="sig-dot sig-dot-effect sig-dot-head"></small>')(v.value0.value0)("#9333ea");
            }
            ;
            return labeledToken('<small class="sig-dot sig-dot-con sig-dot-head"></small>')(v.value0.value0)("#16653e");
          }
          ;
          return renderSignetTypeTree(ctx)(v.value0);
        })();
        var cls = (function() {
          if (isHkt) {
            return "sig-app sig-hkt";
          }
          ;
          return "sig-app";
        })();
        var argsHtml = intercalate3("")(mapFlipped2(v.value1)(renderSignetTypeTree(ctx)));
        return '<code class="' + (cls + ('">' + (headHtml + (argsHtml + "</code>"))));
      }
      ;
      if (v instanceof TArrow) {
        var params = collectArrowParams(new TArrow(v.value0, v.value1));
        return '<ol class="sig-arrow-chain">' + (intercalate3("")(mapFlipped2(params)(function(p) {
          return '<li class="sig-param">' + (renderSignetTypeTree(ctx)(p) + "</li>");
        })) + "</ol>");
      }
      ;
      if (v instanceof TForall) {
        return renderSignetTypeTree(ctx)(v.value1);
      }
      ;
      if (v instanceof TConstrained) {
        return renderSignetTypeTree(ctx)(v.value1);
      }
      ;
      if (v instanceof TParens) {
        return '<code class="sig-app">' + ('<small class="sig-paren">(</small>' + (renderSignetTypeTree(ctx)(v.value0) + '<small class="sig-paren">)</small></code>'));
      }
      ;
      if (v instanceof TRecord) {
        return renderRecordSignet(ctx)("{")("}")(v.value0)(v.value1);
      }
      ;
      if (v instanceof TRow) {
        return renderRecordSignet(ctx)("(")(")")(v.value0)(v.value1);
      }
      ;
      if (v instanceof TOperator) {
        return '<code class="sig-app">' + (renderSignetTypeTree(ctx)(v.value0) + ('<small class="sig-op">' + (escapeHtml(v.value1) + ("</small>" + (renderSignetTypeTree(ctx)(v.value2) + "</code>")))));
      }
      ;
      if (v instanceof TKinded) {
        return renderSignetTypeTree(ctx)(v.value0);
      }
      ;
      if (v instanceof TString) {
        return '<code class="sig-string">""</code>';
      }
      ;
      if (v instanceof TWildcard) {
        return '<var class="sig-dot sig-dot-var sig-wildcard"></var>';
      }
      ;
      throw new Error("Failed pattern match at Sigil.Html (line 745, column 28 - line 832, column 61): " + [v.constructor.name]);
    };
  };
  var collectPlusOperands = function(v) {
    if (v instanceof TOperator && v.value1 === "+") {
      return append12(collectPlusOperands(v.value0))([v.value2]);
    }
    ;
    return [v];
  };
  var wrapParensTree = function(ctx) {
    return function(t) {
      return '<code class="sig-app">' + ('<small class="sig-paren">(</small>' + (renderTypeTree(ctx)(t) + '<small class="sig-paren">)</small></code>'));
    };
  };
  var renderTypeTree = function(ctx) {
    return function(v) {
      if (v instanceof TVar) {
        return varPill(ctx)(v.value0);
      }
      ;
      if (v instanceof TCon) {
        var $122 = isEffectName(v.value0);
        if ($122) {
          return '<code class="sig-con sig-con-effect">' + (escapeHtml(v.value0) + "</code>");
        }
        ;
        return '<code class="sig-con">' + (escapeHtml(v.value0) + "</code>");
      }
      ;
      if (v instanceof TApp) {
        return renderAppTree(ctx)(v.value0)(v.value1);
      }
      ;
      if (v instanceof TArrow) {
        return renderArrowChainTree(ctx)(collectArrowParams(new TArrow(v.value0, v.value1)));
      }
      ;
      if (v instanceof TForall) {
        return renderForallTree(ctx)(v.value0)(v.value1);
      }
      ;
      if (v instanceof TConstrained) {
        return '<div class="sig-constrained">' + (constraintPile(ctx)(v.value0) + (renderTypeTree(ctx)(v.value1) + "</div>"));
      }
      ;
      if (v instanceof TParens) {
        return '<code class="sig-app">' + ('<small class="sig-paren">(</small>' + (renderTypeTree(ctx)(v.value0) + '<small class="sig-paren">)</small></code>'));
      }
      ;
      if (v instanceof TRecord) {
        return renderRecordTree(ctx)(v.value0)(v.value1)(false);
      }
      ;
      if (v instanceof TRow) {
        return renderRecordTree(ctx)(v.value0)(v.value1)(true);
      }
      ;
      if (v instanceof TOperator) {
        return '<code class="sig-app">' + (renderTypeTree(ctx)(v.value0) + ('<small class="sig-op">' + (escapeHtml(v.value1) + ("</small>" + (renderTypeTree(ctx)(v.value2) + "</code>")))));
      }
      ;
      if (v instanceof TKinded) {
        return '<code class="sig-app">' + (renderTypeTree(ctx)(v.value0) + ('<small class="sig-sep"> :: </small>' + (renderTypeTree(ctx)(v.value1) + "</code>")));
      }
      ;
      if (v instanceof TString) {
        return '<code class="sig-string">' + (escapeHtml('"' + (v.value0 + '"')) + "</code>");
      }
      ;
      if (v instanceof TWildcard) {
        return '<var class="sig-var sig-wildcard">_</var>';
      }
      ;
      throw new Error("Failed pattern match at Sigil.Html (line 430, column 22 - line 485, column 50): " + [v.constructor.name]);
    };
  };
  var renderRowComboTree = function(ctx) {
    return function(operands) {
      var len = length(operands);
      return '<ol class="sig-row-combo">' + (intercalate3("")(mapWithIndex2(function(i) {
        return function(op) {
          var isLast = i === (len - 1 | 0);
          return '<li class="sig-combo-item">' + (renderTypeTree(ctx)(op) + (function() {
            if (isLast) {
              return "";
            }
            ;
            return '<small class="sig-op"> +</small></li>';
          })());
        };
      })(operands)) + "</ol>");
    };
  };
  var renderRecordTree = function(ctx) {
    return function(fields) {
      return function(tail2) {
        return function(isRow) {
          var openClass = (function() {
            if (tail2 instanceof Just) {
              return "sig-record sig-record-open";
            }
            ;
            if (tail2 instanceof Nothing) {
              return "sig-record";
            }
            ;
            throw new Error("Failed pattern match at Sigil.Html (line 601, column 17 - line 603, column 30): " + [tail2.constructor.name]);
          })();
          var $146 = $$null(fields) && eq3(tail2)(Nothing.value);
          if ($146) {
            return '<code class="sig-con">' + (escapeHtml((function() {
              if (isRow) {
                return "()";
              }
              ;
              return "{}";
            })()) + "</code>");
          }
          ;
          return '<dl class="' + (openClass + ('">' + (intercalate3("")(mapFlipped2(fields)(function(f) {
            return '<dt class="sig-field-name">' + (escapeHtml(f.label) + ("</dt>" + ('<dd class="sig-field-sep">::</dd>' + ('<dd class="sig-field-type">' + (renderTypeTree(ctx)(f.value) + "</dd>")))));
          })) + ((function() {
            if (tail2 instanceof Just) {
              return '<dt class="sig-field-name"></dt>' + ('<dd class="sig-field-sep">|</dd>' + ('<dd class="sig-row-tail">' + (varPill(ctx)(tail2.value0) + "</dd>")));
            }
            ;
            if (tail2 instanceof Nothing) {
              return "";
            }
            ;
            throw new Error("Failed pattern match at Sigil.Html (line 614, column 10 - line 619, column 25): " + [tail2.constructor.name]);
          })() + "</dl>"))));
        };
      };
    };
  };
  var renderForallTree = function(ctx) {
    return function(vars) {
      return function(body) {
        return '<div class="sig-forall">' + ('<div class="sig-forall-row">' + ('<small class="sig-forall-symbol">\u2200</small>' + (intercalate3("")(mapFlipped2(vars)(varPill(ctx))) + ('<small class="sig-forall-dot">.</small>' + ("</div>" + (renderTypeTree(ctx)(body) + "</div>"))))));
      };
    };
  };
  var renderArrowChainTree = function(ctx) {
    return function(params) {
      return '<ol class="sig-arrow-chain">' + (intercalate3("")(mapFlipped2(params)(function(p) {
        return '<li class="sig-param">' + (renderTypeTree(ctx)(p) + "</li>");
      })) + "</ol>");
    };
  };
  var renderAppTree = function(ctx) {
    return function(head3) {
      return function(args) {
        if (head3 instanceof TCon && (head3.value0 === "Record" && (args.length === 1 && args[0] instanceof TRow))) {
          return renderRecordTree(ctx)(args[0].value0)(args[0].value1)(false);
        }
        ;
        if (head3 instanceof TCon && (head3.value0 === "Record" && (args.length === 1 && args[0] instanceof TParens))) {
          var operands = collectPlusOperands(args[0].value0);
          var $156 = length(operands) > 1;
          if ($156) {
            return renderRowComboTree(ctx)(operands);
          }
          ;
          return defaultAppTree(ctx)(head3)(args);
        }
        ;
        return defaultAppTree(ctx)(head3)(args);
      };
    };
  };
  var renderAppArgTree = function(ctx) {
    return function(t) {
      if (t instanceof TApp) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TArrow) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TConstrained) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TForall) {
        return wrapParensTree(ctx)(t);
      }
      ;
      if (t instanceof TOperator) {
        return wrapParensTree(ctx)(t);
      }
      ;
      return renderTypeTree(ctx)(t);
    };
  };
  var defaultAppTree = function(ctx) {
    return function(head3) {
      return function(args) {
        var isHkt = (function() {
          if (head3 instanceof TVar) {
            return true;
          }
          ;
          return false;
        })();
        var inner = renderTypeTree(ctx)(head3) + intercalate3("")(mapFlipped2(args)(renderAppArgTree(ctx)));
        var cls = (function() {
          if (isHkt) {
            return "sig-app sig-hkt";
          }
          ;
          return "sig-app";
        })();
        return '<code class="' + (cls + ('">' + (inner + "</code>")));
      };
    };
  };
  var constraintPillTree = function(ctx) {
    return function(c) {
      return '<em class="sig-constraint">' + ('<code class="sig-con">' + (escapeHtml(c.className) + ("</code>" + (function() {
        var $175 = $$null(c.args);
        if ($175) {
          return "";
        }
        ;
        return intercalate3("")(mapFlipped2(c.args)(renderTypeTree(ctx))) + "</em>";
      })())));
    };
  };
  var constraintPile = function(ctx) {
    return function(cs) {
      return '<div class="sig-constraints">' + (intercalate3("")(mapFlipped2(cs)(constraintPillTree(ctx))) + "</div>");
    };
  };
  var renderCtorItem = function(ctx) {
    return function(ctor) {
      return '<li class="sig-adt-ctor">' + ('<dfn class="sig-adt-ctor-name">' + (escapeHtml(ctor.name) + ("</dfn>" + ((function() {
        var $176 = $$null(ctor.args);
        if ($176) {
          return '<small class="sig-adt-ctor-dash">\u2014</small>';
        }
        ;
        return '<code class="sig-adt-ctor-args">' + (intercalate3("")(mapFlipped2(ctor.args)(renderTypeTree(ctx))) + "</code>");
      })() + "</li>"))));
    };
  };
  var renderCtorList = function(ctx) {
    return function(ctors) {
      return '<ol class="sig-adt-ctors">' + (intercalate3("")(mapFlipped2(ctors)(renderCtorItem(ctx))) + "</ol>");
    };
  };
  var renderDataDecl = function(opts) {
    var kw = (function() {
      if (opts.keyword instanceof Just) {
        return opts.keyword.value0 + " ";
      }
      ;
      if (opts.keyword instanceof Nothing) {
        return "data ";
      }
      ;
      throw new Error("Failed pattern match at Sigil.Html (line 173, column 10 - line 175, column 25): " + [opts.keyword.constructor.name]);
    })();
    var isOpaque = $$null(opts.constructors);
    var outerClass = (function() {
      if (isOpaque) {
        return "sig-adt sig-adt-opaque";
      }
      ;
      return "sig-adt";
    })();
    var allVars = append12(opts.typeParams)(concatMap(function(c) {
      return concatMap(function(a) {
        return toUnfoldable3(collectTypeVars(a));
      })(c.args);
    })(opts.constructors));
    var varColors = assignVarColors(nub3(allVars));
    var ctx = {
      varColors,
      constrainedVars: empty3
    };
    return '<div class="' + (outerClass + ('">' + (renderAdtHeader(ctx)(kw)(opts.name)(opts.typeParams) + ((function() {
      if (isOpaque) {
        return '<div class="sig-adt-opaque-label">no public constructors</div>';
      }
      ;
      return renderCtorList(ctx)(opts.constructors);
    })() + "</div>"))));
  };
  var renderDataDeclInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderDataDecl(config));
    };
  };
  var renderCtxItem = function(ctx) {
    return function(c) {
      return '<em class="sig-ctx-item">' + ('<code class="sig-ctx-class">' + (escapeHtml(c.className) + ("</code>" + (function() {
        var $181 = $$null(c.args);
        if ($181) {
          return "";
        }
        ;
        return intercalate3("")(mapFlipped2(c.args)(renderTypeTree(ctx))) + "</em>";
      })())));
    };
  };
  var renderPreamble = function(ctx) {
    return function(peeled) {
      var hasForall = !$$null(peeled.forallVars);
      var hasConstraints = !$$null(peeled.constraints);
      return '<div class="sig-preamble">' + ((function() {
        if (hasForall) {
          return '<div class="sig-quant">' + ('<small class="sig-quant-sym">\u2200</small>' + (intercalate3("")(mapFlipped2(peeled.forallVars)(varPill(ctx))) + '<small class="sig-quant-dot">.</small></div>'));
        }
        ;
        return "";
      })() + ((function() {
        var $183 = hasForall && hasConstraints;
        if ($183) {
          return '<small class="sig-leader"></small>';
        }
        ;
        return "";
      })() + ((function() {
        if (hasConstraints) {
          return '<div class="sig-ctx">' + (intercalate3("")(mapFlipped2(peeled.constraints)(renderCtxItem(ctx))) + "</div>");
        }
        ;
        return "";
      })() + "</div>")));
    };
  };
  var renderForeignImport = function(opts) {
    var peeled = peelSignature(opts.ast);
    var hasPreamble = !$$null(peeled.forallVars) || !$$null(peeled.constraints);
    var allVars = append12(toUnfoldable3(collectTypeVars(opts.ast)))(peeled.forallVars);
    var varColors = assignVarColors(nub3(allVars));
    var ctx = {
      varColors,
      constrainedVars: empty3
    };
    return '<div class="sig-foreign">' + ('<div class="sig-foreign-header">' + ('<small class="sig-kw">foreign </small>' + ('<dfn class="sig-foreign-name">' + (escapeHtml(opts.name) + ("</dfn>" + ('<small class="sig-dcolon"> ::</small>' + ("</div>" + ((function() {
      if (hasPreamble) {
        return renderPreamble(ctx)(peeled);
      }
      ;
      return "";
    })() + ('<div class="sig-foreign-body">' + (renderTypeTree(ctx)(peeled.body) + "</div></div>"))))))))));
  };
  var renderForeignImportInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderForeignImport(config));
    };
  };
  var renderMethod = function(_ctx0) {
    return function(typeParams) {
      return function(m) {
        if (m.ast instanceof Just) {
          var peeled = peelSignature(m.ast.value0);
          var methodVars = append12(typeParams)(append12(collectForallVars(m.ast.value0))(toUnfoldable3(collectTypeVars(m.ast.value0))));
          var varColors = assignVarColors(nub3(methodVars));
          var hasForall = !$$null(peeled.forallVars);
          var hasConstraints = !$$null(peeled.constraints);
          var ctx = {
            varColors,
            constrainedVars: empty3
          };
          return '<div class="sig-method">' + ((function() {
            if (hasConstraints) {
              return '<div class="sig-method-constraints">' + (intercalate3("")(mapFlipped2(peeled.constraints)(constraintPillTree(ctx))) + "</div>");
            }
            ;
            return "";
          })() + ('<div class="sig-method-decl">' + ('<dfn class="sig-method-name">' + (escapeHtml(m.name) + ("</dfn>" + ('<small class="sig-method-sep"> :: </small>' + (renderTypeTree(ctx)(peeled.body) + ("</div>" + ((function() {
            if (hasForall) {
              return '<div class="sig-method-forall">' + ('<small class="sig-forall-symbol">\u2200</small>' + (intercalate3("")(mapFlipped2(peeled.forallVars)(varPill(ctx))) + '<small class="sig-forall-dot">.</small></div>'));
            }
            ;
            return "";
          })() + "</div>")))))))));
        }
        ;
        if (m.ast instanceof Nothing) {
          return '<div class="sig-method">' + ('<div class="sig-method-decl">' + ('<dfn class="sig-method-name">' + (escapeHtml(m.name) + "</dfn></div></div>")));
        }
        ;
        throw new Error("Failed pattern match at Sigil.Html (line 922, column 35 - line 957, column 16): " + [m.ast.constructor.name]);
      };
    };
  };
  var renderInheritedSection = function(ctx) {
    return function(typeParams) {
      return function(superclasses) {
        var groups = concatMap(function(sc) {
          var $193 = $$null(sc.methods);
          if ($193) {
            return [];
          }
          ;
          return ['<div class="sig-class-via-group">' + ('<div class="sig-class-via">via ' + (escapeHtml(sc.name) + ("</div>" + (intercalate3("")(mapFlipped2(sc.methods)(renderMethod(ctx)(typeParams))) + "</div>"))))];
        })(superclasses);
        var $194 = $$null(groups);
        if ($194) {
          return "";
        }
        ;
        return '<div class="sig-class-inherited">' + (intercalate3("")(groups) + "</div>");
      };
    };
  };
  var renderMethodList = function(ctx) {
    return function(typeParams) {
      return function(methods) {
        var $195 = $$null(methods);
        if ($195) {
          return '<div class="sig-class-methods sig-class-no-methods"><em class="sig-class-empty">(no own methods)</em></div>';
        }
        ;
        return '<div class="sig-class-methods">' + (intercalate3("")(mapFlipped2(methods)(renderMethod(ctx)(typeParams))) + "</div>");
      };
    };
  };
  var renderClassDecl = function(opts) {
    var varColors = assignVarColors(opts.typeParams);
    var hasSuperclasses = !$$null(opts.superclasses);
    var hasInherited = hasSuperclasses && any2(function(sc) {
      return !$$null(sc.methods);
    })(opts.superclasses);
    var ctx = {
      varColors,
      constrainedVars: empty3
    };
    return '<div class="sig-class">' + ((function() {
      if (hasSuperclasses) {
        return renderSuperclassRow(map5(function(v) {
          return v.name;
        })(opts.superclasses));
      }
      ;
      return "";
    })() + (renderClassHeader(ctx)(opts.name)(opts.typeParams) + (renderMethodList(ctx)(opts.typeParams)(opts.methods) + ((function() {
      if (hasInherited) {
        return renderInheritedSection(ctx)(opts.typeParams)(opts.superclasses);
      }
      ;
      return "";
    })() + "</div>"))));
  };
  var renderClassDeclInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderClassDecl(config));
    };
  };
  var renderSignature = function(v) {
    var peeled = peelSignature(v.ast);
    var hasPreamble = !$$null(peeled.forallVars) || !$$null(peeled.constraints);
    var allVars = append12(toUnfoldable3(collectTypeVars(v.ast)))(append12(peeled.forallVars)(v.typeParams));
    var varColors = assignVarColors(nub3(allVars));
    var ctx = {
      varColors,
      constrainedVars: empty3
    };
    return '<code class="sig-full">' + ((function() {
      if (hasPreamble) {
        return renderPreamble(ctx)(peeled);
      }
      ;
      return "";
    })() + ('<div class="sig-decl">' + ('<dfn class="sig-name">' + (escapeHtml(v.name) + ("</dfn>" + ((function() {
      if (v.className instanceof Just) {
        return '<small class="sig-sep">' + (escapeHtml(" (" + (v.className.value0 + ")")) + "</small>");
      }
      ;
      if (v.className instanceof Nothing) {
        return "";
      }
      ;
      throw new Error("Failed pattern match at Sigil.Html (line 82, column 12 - line 84, column 27): " + [v.className.constructor.name]);
    })() + ('<small class="sig-dcolon"> ::</small>' + ("</div>" + ('<div class="sig-body">' + (renderTypeTree(ctx)(peeled.body) + "</div></code>"))))))))));
  };
  var renderSignatureInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderSignature(config));
    };
  };
  var renderTypeSynonym = function(opts) {
    var peeled = peelSignature(opts.body);
    var hasForall = !$$null(peeled.forallVars);
    var hasConstraints = !$$null(peeled.constraints);
    var allVars = append12(opts.typeParams)(append12(peeled.forallVars)(toUnfoldable3(collectTypeVars(opts.body))));
    var varColors = assignVarColors(nub3(allVars));
    var ctx = {
      varColors,
      constrainedVars: empty3
    };
    return '<div class="sig-type-alias">' + ('<div class="sig-type-alias-header">' + ('<small class="sig-kw">type </small>' + ('<dfn class="sig-type-alias-name">' + (escapeHtml(opts.name) + ("</dfn>" + (intercalate3("")(mapFlipped2(opts.typeParams)(varPill(ctx))) + ("</div>" + ('<div class="sig-type-alias-body">' + ('<small class="sig-type-alias-eq">=</small>' + ((function() {
      if (hasForall) {
        return '<div class="sig-method-forall">' + ('<small class="sig-forall-symbol">\u2200</small>' + (intercalate3("")(mapFlipped2(peeled.forallVars)(varPill(ctx))) + '<small class="sig-forall-dot">.</small></div>'));
      }
      ;
      return "";
    })() + ((function() {
      if (hasConstraints) {
        return '<div class="sig-method-constraints">' + (intercalate3("")(mapFlipped2(peeled.constraints)(constraintPillTree(ctx))) + "</div>");
      }
      ;
      return "";
    })() + (renderTypeTree(ctx)(peeled.body) + "</div></div>"))))))))))));
  };
  var renderTypeSynonymInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderTypeSynonym(config));
    };
  };
  var collectConstrainedVarNames = function(cs) {
    return foldl2(function(acc) {
      return function(c) {
        return foldl2(function(acc$prime) {
          return function(arg) {
            return union4(acc$prime)(collectTypeVars(arg));
          };
        })(acc)(c.args);
      };
    })(empty3)(cs);
  };
  var renderSiglet = function(v) {
    var peeled = peelSignature(v.ast);
    var cVars = collectConstrainedVarNames(peeled.constraints);
    var allVars = toUnfoldable3(collectTypeVars(v.ast));
    var varColors = assignVarColors(allVars);
    var ctx = {
      varColors,
      constrainedVars: cVars
    };
    return '<code class="sig-siglet">' + (renderSigletTypeTree(ctx)(peeled.body) + "</code>");
  };
  var renderSigletInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderSiglet(config));
    };
  };
  var renderSignet = function(v) {
    var peeled = peelSignature(v.ast);
    var cVars = collectConstrainedVarNames(peeled.constraints);
    var allVars = toUnfoldable3(collectTypeVars(v.ast));
    var varColors = assignVarColors(allVars);
    var ctx = {
      varColors,
      constrainedVars: cVars
    };
    return '<code class="sig-signet">' + (renderSignetTypeTree(ctx)(peeled.body) + "</code>");
  };
  var renderSignetInto = function(selector) {
    return function(config) {
      return _renderInto(selector)(renderSignet(config));
    };
  };

  // output/Data.Array.NonEmpty.Internal/index.js
  var NonEmptyArray = function(x) {
    return x;
  };

  // output/Data.Array.NonEmpty/index.js
  var fromJust5 = /* @__PURE__ */ fromJust();
  var unsafeFromArray = NonEmptyArray;
  var toArray = function(v) {
    return v;
  };
  var fromArray = function(xs) {
    if (length(xs) > 0) {
      return new Just(unsafeFromArray(xs));
    }
    ;
    if (otherwise) {
      return Nothing.value;
    }
    ;
    throw new Error("Failed pattern match at Data.Array.NonEmpty (line 161, column 1 - line 161, column 58): " + [xs.constructor.name]);
  };
  var cons$prime = function(x) {
    return function(xs) {
      return unsafeFromArray(cons(x)(xs));
    };
  };
  var adaptMaybe = function(f) {
    return function($126) {
      return fromJust5(f(toArray($126)));
    };
  };
  var head2 = /* @__PURE__ */ adaptMaybe(head);

  // output/Data.Lazy/foreign.js
  var defer2 = function(thunk) {
    var v = null;
    return function() {
      if (thunk === void 0) return v;
      v = thunk();
      thunk = void 0;
      return v;
    };
  };
  var force = function(l) {
    return l();
  };

  // output/Data.Char/index.js
  var fromCharCode3 = /* @__PURE__ */ toEnum(boundedEnumChar);

  // output/Data.String.Regex/foreign.js
  var regexImpl = function(left) {
    return function(right) {
      return function(s1) {
        return function(s2) {
          try {
            return right(new RegExp(s1, s2));
          } catch (e) {
            return left(e.message);
          }
        };
      };
    };
  };
  var _match = function(just) {
    return function(nothing) {
      return function(r) {
        return function(s) {
          var m = s.match(r);
          if (m == null || m.length === 0) {
            return nothing;
          } else {
            for (var i = 0; i < m.length; i++) {
              m[i] = m[i] == null ? nothing : just(m[i]);
            }
            return just(m);
          }
        };
      };
    };
  };

  // output/Data.String.Regex.Flags/index.js
  var unicode = {
    global: false,
    ignoreCase: false,
    multiline: false,
    dotAll: false,
    sticky: false,
    unicode: true
  };

  // output/Data.String.Regex/index.js
  var renderFlags = function(v) {
    return (function() {
      if (v.global) {
        return "g";
      }
      ;
      return "";
    })() + ((function() {
      if (v.ignoreCase) {
        return "i";
      }
      ;
      return "";
    })() + ((function() {
      if (v.multiline) {
        return "m";
      }
      ;
      return "";
    })() + ((function() {
      if (v.dotAll) {
        return "s";
      }
      ;
      return "";
    })() + ((function() {
      if (v.sticky) {
        return "y";
      }
      ;
      return "";
    })() + (function() {
      if (v.unicode) {
        return "u";
      }
      ;
      return "";
    })()))));
  };
  var regex = function(s) {
    return function(f) {
      return regexImpl(Left.create)(Right.create)(s)(renderFlags(f));
    };
  };
  var match = /* @__PURE__ */ (function() {
    return _match(Just.create)(Nothing.value);
  })();

  // output/Partial.Unsafe/foreign.js
  var _unsafePartial = function(f) {
    return f();
  };

  // output/Partial/foreign.js
  var _crashWith = function(msg) {
    throw new Error(msg);
  };

  // output/Partial/index.js
  var crashWith = function() {
    return _crashWith;
  };

  // output/Partial.Unsafe/index.js
  var crashWith2 = /* @__PURE__ */ crashWith();
  var unsafePartial = _unsafePartial;
  var unsafeCrashWith = function(msg) {
    return unsafePartial(function() {
      return crashWith2(msg);
    });
  };

  // output/Data.String.Regex.Unsafe/index.js
  var identity5 = /* @__PURE__ */ identity(categoryFn);
  var unsafeRegex = function(s) {
    return function(f) {
      return either(unsafeCrashWith)(identity5)(regex(s)(f));
    };
  };

  // output/PureScript.CST.Types/index.js
  var ASCII = /* @__PURE__ */ (function() {
    function ASCII2() {
    }
    ;
    ASCII2.value = new ASCII2();
    return ASCII2;
  })();
  var Unicode = /* @__PURE__ */ (function() {
    function Unicode2() {
    }
    ;
    Unicode2.value = new Unicode2();
    return Unicode2;
  })();
  var LF = /* @__PURE__ */ (function() {
    function LF2() {
    }
    ;
    LF2.value = new LF2();
    return LF2;
  })();
  var CRLF = /* @__PURE__ */ (function() {
    function CRLF2() {
    }
    ;
    CRLF2.value = new CRLF2();
    return CRLF2;
  })();
  var SmallInt = /* @__PURE__ */ (function() {
    function SmallInt2(value0) {
      this.value0 = value0;
    }
    ;
    SmallInt2.create = function(value0) {
      return new SmallInt2(value0);
    };
    return SmallInt2;
  })();
  var BigInt = /* @__PURE__ */ (function() {
    function BigInt2(value0) {
      this.value0 = value0;
    }
    ;
    BigInt2.create = function(value0) {
      return new BigInt2(value0);
    };
    return BigInt2;
  })();
  var BigHex = /* @__PURE__ */ (function() {
    function BigHex2(value0) {
      this.value0 = value0;
    }
    ;
    BigHex2.create = function(value0) {
      return new BigHex2(value0);
    };
    return BigHex2;
  })();
  var TokLeftParen = /* @__PURE__ */ (function() {
    function TokLeftParen2() {
    }
    ;
    TokLeftParen2.value = new TokLeftParen2();
    return TokLeftParen2;
  })();
  var TokRightParen = /* @__PURE__ */ (function() {
    function TokRightParen2() {
    }
    ;
    TokRightParen2.value = new TokRightParen2();
    return TokRightParen2;
  })();
  var TokLeftBrace = /* @__PURE__ */ (function() {
    function TokLeftBrace2() {
    }
    ;
    TokLeftBrace2.value = new TokLeftBrace2();
    return TokLeftBrace2;
  })();
  var TokRightBrace = /* @__PURE__ */ (function() {
    function TokRightBrace2() {
    }
    ;
    TokRightBrace2.value = new TokRightBrace2();
    return TokRightBrace2;
  })();
  var TokLeftSquare = /* @__PURE__ */ (function() {
    function TokLeftSquare2() {
    }
    ;
    TokLeftSquare2.value = new TokLeftSquare2();
    return TokLeftSquare2;
  })();
  var TokRightSquare = /* @__PURE__ */ (function() {
    function TokRightSquare2() {
    }
    ;
    TokRightSquare2.value = new TokRightSquare2();
    return TokRightSquare2;
  })();
  var TokLeftArrow = /* @__PURE__ */ (function() {
    function TokLeftArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokLeftArrow2.create = function(value0) {
      return new TokLeftArrow2(value0);
    };
    return TokLeftArrow2;
  })();
  var TokRightArrow = /* @__PURE__ */ (function() {
    function TokRightArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokRightArrow2.create = function(value0) {
      return new TokRightArrow2(value0);
    };
    return TokRightArrow2;
  })();
  var TokRightFatArrow = /* @__PURE__ */ (function() {
    function TokRightFatArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokRightFatArrow2.create = function(value0) {
      return new TokRightFatArrow2(value0);
    };
    return TokRightFatArrow2;
  })();
  var TokDoubleColon = /* @__PURE__ */ (function() {
    function TokDoubleColon2(value0) {
      this.value0 = value0;
    }
    ;
    TokDoubleColon2.create = function(value0) {
      return new TokDoubleColon2(value0);
    };
    return TokDoubleColon2;
  })();
  var TokForall = /* @__PURE__ */ (function() {
    function TokForall2(value0) {
      this.value0 = value0;
    }
    ;
    TokForall2.create = function(value0) {
      return new TokForall2(value0);
    };
    return TokForall2;
  })();
  var TokEquals = /* @__PURE__ */ (function() {
    function TokEquals2() {
    }
    ;
    TokEquals2.value = new TokEquals2();
    return TokEquals2;
  })();
  var TokPipe = /* @__PURE__ */ (function() {
    function TokPipe2() {
    }
    ;
    TokPipe2.value = new TokPipe2();
    return TokPipe2;
  })();
  var TokTick = /* @__PURE__ */ (function() {
    function TokTick2() {
    }
    ;
    TokTick2.value = new TokTick2();
    return TokTick2;
  })();
  var TokDot = /* @__PURE__ */ (function() {
    function TokDot2() {
    }
    ;
    TokDot2.value = new TokDot2();
    return TokDot2;
  })();
  var TokComma = /* @__PURE__ */ (function() {
    function TokComma2() {
    }
    ;
    TokComma2.value = new TokComma2();
    return TokComma2;
  })();
  var TokUnderscore = /* @__PURE__ */ (function() {
    function TokUnderscore2() {
    }
    ;
    TokUnderscore2.value = new TokUnderscore2();
    return TokUnderscore2;
  })();
  var TokBackslash = /* @__PURE__ */ (function() {
    function TokBackslash2() {
    }
    ;
    TokBackslash2.value = new TokBackslash2();
    return TokBackslash2;
  })();
  var TokAt = /* @__PURE__ */ (function() {
    function TokAt2() {
    }
    ;
    TokAt2.value = new TokAt2();
    return TokAt2;
  })();
  var TokLowerName = /* @__PURE__ */ (function() {
    function TokLowerName2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokLowerName2.create = function(value0) {
      return function(value1) {
        return new TokLowerName2(value0, value1);
      };
    };
    return TokLowerName2;
  })();
  var TokUpperName = /* @__PURE__ */ (function() {
    function TokUpperName2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokUpperName2.create = function(value0) {
      return function(value1) {
        return new TokUpperName2(value0, value1);
      };
    };
    return TokUpperName2;
  })();
  var TokOperator = /* @__PURE__ */ (function() {
    function TokOperator2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokOperator2.create = function(value0) {
      return function(value1) {
        return new TokOperator2(value0, value1);
      };
    };
    return TokOperator2;
  })();
  var TokSymbolName = /* @__PURE__ */ (function() {
    function TokSymbolName2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokSymbolName2.create = function(value0) {
      return function(value1) {
        return new TokSymbolName2(value0, value1);
      };
    };
    return TokSymbolName2;
  })();
  var TokSymbolArrow = /* @__PURE__ */ (function() {
    function TokSymbolArrow2(value0) {
      this.value0 = value0;
    }
    ;
    TokSymbolArrow2.create = function(value0) {
      return new TokSymbolArrow2(value0);
    };
    return TokSymbolArrow2;
  })();
  var TokHole = /* @__PURE__ */ (function() {
    function TokHole2(value0) {
      this.value0 = value0;
    }
    ;
    TokHole2.create = function(value0) {
      return new TokHole2(value0);
    };
    return TokHole2;
  })();
  var TokChar = /* @__PURE__ */ (function() {
    function TokChar2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokChar2.create = function(value0) {
      return function(value1) {
        return new TokChar2(value0, value1);
      };
    };
    return TokChar2;
  })();
  var TokString = /* @__PURE__ */ (function() {
    function TokString2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokString2.create = function(value0) {
      return function(value1) {
        return new TokString2(value0, value1);
      };
    };
    return TokString2;
  })();
  var TokRawString = /* @__PURE__ */ (function() {
    function TokRawString2(value0) {
      this.value0 = value0;
    }
    ;
    TokRawString2.create = function(value0) {
      return new TokRawString2(value0);
    };
    return TokRawString2;
  })();
  var TokInt = /* @__PURE__ */ (function() {
    function TokInt2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokInt2.create = function(value0) {
      return function(value1) {
        return new TokInt2(value0, value1);
      };
    };
    return TokInt2;
  })();
  var TokNumber = /* @__PURE__ */ (function() {
    function TokNumber2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokNumber2.create = function(value0) {
      return function(value1) {
        return new TokNumber2(value0, value1);
      };
    };
    return TokNumber2;
  })();
  var TokLayoutStart = /* @__PURE__ */ (function() {
    function TokLayoutStart2(value0) {
      this.value0 = value0;
    }
    ;
    TokLayoutStart2.create = function(value0) {
      return new TokLayoutStart2(value0);
    };
    return TokLayoutStart2;
  })();
  var TokLayoutSep = /* @__PURE__ */ (function() {
    function TokLayoutSep2(value0) {
      this.value0 = value0;
    }
    ;
    TokLayoutSep2.create = function(value0) {
      return new TokLayoutSep2(value0);
    };
    return TokLayoutSep2;
  })();
  var TokLayoutEnd = /* @__PURE__ */ (function() {
    function TokLayoutEnd2(value0) {
      this.value0 = value0;
    }
    ;
    TokLayoutEnd2.create = function(value0) {
      return new TokLayoutEnd2(value0);
    };
    return TokLayoutEnd2;
  })();
  var Comment = /* @__PURE__ */ (function() {
    function Comment2(value0) {
      this.value0 = value0;
    }
    ;
    Comment2.create = function(value0) {
      return new Comment2(value0);
    };
    return Comment2;
  })();
  var Space = /* @__PURE__ */ (function() {
    function Space2(value0) {
      this.value0 = value0;
    }
    ;
    Space2.create = function(value0) {
      return new Space2(value0);
    };
    return Space2;
  })();
  var Line = /* @__PURE__ */ (function() {
    function Line2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    Line2.create = function(value0) {
      return function(value1) {
        return new Line2(value0, value1);
      };
    };
    return Line2;
  })();
  var TypeVarKinded = /* @__PURE__ */ (function() {
    function TypeVarKinded2(value0) {
      this.value0 = value0;
    }
    ;
    TypeVarKinded2.create = function(value0) {
      return new TypeVarKinded2(value0);
    };
    return TypeVarKinded2;
  })();
  var TypeVarName = /* @__PURE__ */ (function() {
    function TypeVarName2(value0) {
      this.value0 = value0;
    }
    ;
    TypeVarName2.create = function(value0) {
      return new TypeVarName2(value0);
    };
    return TypeVarName2;
  })();
  var TypeVar = /* @__PURE__ */ (function() {
    function TypeVar2(value0) {
      this.value0 = value0;
    }
    ;
    TypeVar2.create = function(value0) {
      return new TypeVar2(value0);
    };
    return TypeVar2;
  })();
  var TypeConstructor = /* @__PURE__ */ (function() {
    function TypeConstructor2(value0) {
      this.value0 = value0;
    }
    ;
    TypeConstructor2.create = function(value0) {
      return new TypeConstructor2(value0);
    };
    return TypeConstructor2;
  })();
  var TypeWildcard = /* @__PURE__ */ (function() {
    function TypeWildcard2(value0) {
      this.value0 = value0;
    }
    ;
    TypeWildcard2.create = function(value0) {
      return new TypeWildcard2(value0);
    };
    return TypeWildcard2;
  })();
  var TypeHole = /* @__PURE__ */ (function() {
    function TypeHole2(value0) {
      this.value0 = value0;
    }
    ;
    TypeHole2.create = function(value0) {
      return new TypeHole2(value0);
    };
    return TypeHole2;
  })();
  var TypeString = /* @__PURE__ */ (function() {
    function TypeString2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeString2.create = function(value0) {
      return function(value1) {
        return new TypeString2(value0, value1);
      };
    };
    return TypeString2;
  })();
  var TypeInt = /* @__PURE__ */ (function() {
    function TypeInt2(value0, value1, value2) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
    }
    ;
    TypeInt2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return new TypeInt2(value0, value1, value2);
        };
      };
    };
    return TypeInt2;
  })();
  var TypeRow = /* @__PURE__ */ (function() {
    function TypeRow2(value0) {
      this.value0 = value0;
    }
    ;
    TypeRow2.create = function(value0) {
      return new TypeRow2(value0);
    };
    return TypeRow2;
  })();
  var TypeRecord = /* @__PURE__ */ (function() {
    function TypeRecord2(value0) {
      this.value0 = value0;
    }
    ;
    TypeRecord2.create = function(value0) {
      return new TypeRecord2(value0);
    };
    return TypeRecord2;
  })();
  var TypeForall = /* @__PURE__ */ (function() {
    function TypeForall2(value0, value1, value2, value3) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
      this.value3 = value3;
    }
    ;
    TypeForall2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return function(value3) {
            return new TypeForall2(value0, value1, value2, value3);
          };
        };
      };
    };
    return TypeForall2;
  })();
  var TypeKinded = /* @__PURE__ */ (function() {
    function TypeKinded2(value0, value1, value2) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
    }
    ;
    TypeKinded2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return new TypeKinded2(value0, value1, value2);
        };
      };
    };
    return TypeKinded2;
  })();
  var TypeApp = /* @__PURE__ */ (function() {
    function TypeApp2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeApp2.create = function(value0) {
      return function(value1) {
        return new TypeApp2(value0, value1);
      };
    };
    return TypeApp2;
  })();
  var TypeOp = /* @__PURE__ */ (function() {
    function TypeOp2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TypeOp2.create = function(value0) {
      return function(value1) {
        return new TypeOp2(value0, value1);
      };
    };
    return TypeOp2;
  })();
  var TypeOpName = /* @__PURE__ */ (function() {
    function TypeOpName2(value0) {
      this.value0 = value0;
    }
    ;
    TypeOpName2.create = function(value0) {
      return new TypeOpName2(value0);
    };
    return TypeOpName2;
  })();
  var TypeArrow = /* @__PURE__ */ (function() {
    function TypeArrow2(value0, value1, value2) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
    }
    ;
    TypeArrow2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return new TypeArrow2(value0, value1, value2);
        };
      };
    };
    return TypeArrow2;
  })();
  var TypeArrowName = /* @__PURE__ */ (function() {
    function TypeArrowName2(value0) {
      this.value0 = value0;
    }
    ;
    TypeArrowName2.create = function(value0) {
      return new TypeArrowName2(value0);
    };
    return TypeArrowName2;
  })();
  var TypeConstrained = /* @__PURE__ */ (function() {
    function TypeConstrained2(value0, value1, value2) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
    }
    ;
    TypeConstrained2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return new TypeConstrained2(value0, value1, value2);
        };
      };
    };
    return TypeConstrained2;
  })();
  var TypeParens = /* @__PURE__ */ (function() {
    function TypeParens2(value0) {
      this.value0 = value0;
    }
    ;
    TypeParens2.create = function(value0) {
      return new TypeParens2(value0);
    };
    return TypeParens2;
  })();
  var $$TypeError = /* @__PURE__ */ (function() {
    function $$TypeError2(value0) {
      this.value0 = value0;
    }
    ;
    $$TypeError2.create = function(value0) {
      return new $$TypeError2(value0);
    };
    return $$TypeError2;
  })();

  // output/PureScript.CST.Errors/index.js
  var UnexpectedEof = /* @__PURE__ */ (function() {
    function UnexpectedEof2() {
    }
    ;
    UnexpectedEof2.value = new UnexpectedEof2();
    return UnexpectedEof2;
  })();
  var UnexpectedToken = /* @__PURE__ */ (function() {
    function UnexpectedToken2(value0) {
      this.value0 = value0;
    }
    ;
    UnexpectedToken2.create = function(value0) {
      return new UnexpectedToken2(value0);
    };
    return UnexpectedToken2;
  })();
  var LexExpected = /* @__PURE__ */ (function() {
    function LexExpected2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    LexExpected2.create = function(value0) {
      return function(value1) {
        return new LexExpected2(value0, value1);
      };
    };
    return LexExpected2;
  })();
  var LexInvalidCharEscape = /* @__PURE__ */ (function() {
    function LexInvalidCharEscape2(value0) {
      this.value0 = value0;
    }
    ;
    LexInvalidCharEscape2.create = function(value0) {
      return new LexInvalidCharEscape2(value0);
    };
    return LexInvalidCharEscape2;
  })();
  var LexCharEscapeOutOfRange = /* @__PURE__ */ (function() {
    function LexCharEscapeOutOfRange2(value0) {
      this.value0 = value0;
    }
    ;
    LexCharEscapeOutOfRange2.create = function(value0) {
      return new LexCharEscapeOutOfRange2(value0);
    };
    return LexCharEscapeOutOfRange2;
  })();
  var LexNumberOutOfRange = /* @__PURE__ */ (function() {
    function LexNumberOutOfRange2(value0) {
      this.value0 = value0;
    }
    ;
    LexNumberOutOfRange2.create = function(value0) {
      return new LexNumberOutOfRange2(value0);
    };
    return LexNumberOutOfRange2;
  })();

  // output/PureScript.CST.Layout/index.js
  var find3 = /* @__PURE__ */ find(foldableList);
  var LytRoot = /* @__PURE__ */ (function() {
    function LytRoot2() {
    }
    ;
    LytRoot2.value = new LytRoot2();
    return LytRoot2;
  })();
  var LytTopDecl = /* @__PURE__ */ (function() {
    function LytTopDecl2() {
    }
    ;
    LytTopDecl2.value = new LytTopDecl2();
    return LytTopDecl2;
  })();
  var LytTopDeclHead = /* @__PURE__ */ (function() {
    function LytTopDeclHead2() {
    }
    ;
    LytTopDeclHead2.value = new LytTopDeclHead2();
    return LytTopDeclHead2;
  })();
  var LytDeclGuard = /* @__PURE__ */ (function() {
    function LytDeclGuard2() {
    }
    ;
    LytDeclGuard2.value = new LytDeclGuard2();
    return LytDeclGuard2;
  })();
  var LytCase = /* @__PURE__ */ (function() {
    function LytCase2() {
    }
    ;
    LytCase2.value = new LytCase2();
    return LytCase2;
  })();
  var LytCaseBinders = /* @__PURE__ */ (function() {
    function LytCaseBinders2() {
    }
    ;
    LytCaseBinders2.value = new LytCaseBinders2();
    return LytCaseBinders2;
  })();
  var LytCaseGuard = /* @__PURE__ */ (function() {
    function LytCaseGuard2() {
    }
    ;
    LytCaseGuard2.value = new LytCaseGuard2();
    return LytCaseGuard2;
  })();
  var LytLambdaBinders = /* @__PURE__ */ (function() {
    function LytLambdaBinders2() {
    }
    ;
    LytLambdaBinders2.value = new LytLambdaBinders2();
    return LytLambdaBinders2;
  })();
  var LytParen = /* @__PURE__ */ (function() {
    function LytParen2() {
    }
    ;
    LytParen2.value = new LytParen2();
    return LytParen2;
  })();
  var LytBrace = /* @__PURE__ */ (function() {
    function LytBrace2() {
    }
    ;
    LytBrace2.value = new LytBrace2();
    return LytBrace2;
  })();
  var LytSquare = /* @__PURE__ */ (function() {
    function LytSquare2() {
    }
    ;
    LytSquare2.value = new LytSquare2();
    return LytSquare2;
  })();
  var LytIf = /* @__PURE__ */ (function() {
    function LytIf2() {
    }
    ;
    LytIf2.value = new LytIf2();
    return LytIf2;
  })();
  var LytThen = /* @__PURE__ */ (function() {
    function LytThen2() {
    }
    ;
    LytThen2.value = new LytThen2();
    return LytThen2;
  })();
  var LytProperty = /* @__PURE__ */ (function() {
    function LytProperty2() {
    }
    ;
    LytProperty2.value = new LytProperty2();
    return LytProperty2;
  })();
  var LytForall = /* @__PURE__ */ (function() {
    function LytForall2() {
    }
    ;
    LytForall2.value = new LytForall2();
    return LytForall2;
  })();
  var LytTick = /* @__PURE__ */ (function() {
    function LytTick2() {
    }
    ;
    LytTick2.value = new LytTick2();
    return LytTick2;
  })();
  var LytLet = /* @__PURE__ */ (function() {
    function LytLet2() {
    }
    ;
    LytLet2.value = new LytLet2();
    return LytLet2;
  })();
  var LytLetStmt = /* @__PURE__ */ (function() {
    function LytLetStmt2() {
    }
    ;
    LytLetStmt2.value = new LytLetStmt2();
    return LytLetStmt2;
  })();
  var LytWhere = /* @__PURE__ */ (function() {
    function LytWhere2() {
    }
    ;
    LytWhere2.value = new LytWhere2();
    return LytWhere2;
  })();
  var LytOf = /* @__PURE__ */ (function() {
    function LytOf2() {
    }
    ;
    LytOf2.value = new LytOf2();
    return LytOf2;
  })();
  var LytDo = /* @__PURE__ */ (function() {
    function LytDo2() {
    }
    ;
    LytDo2.value = new LytDo2();
    return LytDo2;
  })();
  var LytAdo = /* @__PURE__ */ (function() {
    function LytAdo2() {
    }
    ;
    LytAdo2.value = new LytAdo2();
    return LytAdo2;
  })();
  var lytToken = function(pos) {
    return function(value) {
      return {
        range: {
          start: pos,
          end: pos
        },
        leadingComments: [],
        trailingComments: [],
        value
      };
    };
  };
  var isTopDecl = function(tokPos) {
    return function(v) {
      if (v instanceof Cons && (v.value0.value1 instanceof LytWhere && (v.value1 instanceof Cons && (v.value1.value0.value1 instanceof LytRoot && (v.value1.value1 instanceof Nil && tokPos.column === v.value0.value0.column))))) {
        return true;
      }
      ;
      return false;
    };
  };
  var isIndented = function(v) {
    if (v instanceof LytLet) {
      return true;
    }
    ;
    if (v instanceof LytLetStmt) {
      return true;
    }
    ;
    if (v instanceof LytWhere) {
      return true;
    }
    ;
    if (v instanceof LytOf) {
      return true;
    }
    ;
    if (v instanceof LytDo) {
      return true;
    }
    ;
    if (v instanceof LytAdo) {
      return true;
    }
    ;
    return false;
  };
  var eqLayoutDelim = {
    eq: function(x) {
      return function(y) {
        if (x instanceof LytRoot && y instanceof LytRoot) {
          return true;
        }
        ;
        if (x instanceof LytTopDecl && y instanceof LytTopDecl) {
          return true;
        }
        ;
        if (x instanceof LytTopDeclHead && y instanceof LytTopDeclHead) {
          return true;
        }
        ;
        if (x instanceof LytDeclGuard && y instanceof LytDeclGuard) {
          return true;
        }
        ;
        if (x instanceof LytCase && y instanceof LytCase) {
          return true;
        }
        ;
        if (x instanceof LytCaseBinders && y instanceof LytCaseBinders) {
          return true;
        }
        ;
        if (x instanceof LytCaseGuard && y instanceof LytCaseGuard) {
          return true;
        }
        ;
        if (x instanceof LytLambdaBinders && y instanceof LytLambdaBinders) {
          return true;
        }
        ;
        if (x instanceof LytParen && y instanceof LytParen) {
          return true;
        }
        ;
        if (x instanceof LytBrace && y instanceof LytBrace) {
          return true;
        }
        ;
        if (x instanceof LytSquare && y instanceof LytSquare) {
          return true;
        }
        ;
        if (x instanceof LytIf && y instanceof LytIf) {
          return true;
        }
        ;
        if (x instanceof LytThen && y instanceof LytThen) {
          return true;
        }
        ;
        if (x instanceof LytProperty && y instanceof LytProperty) {
          return true;
        }
        ;
        if (x instanceof LytForall && y instanceof LytForall) {
          return true;
        }
        ;
        if (x instanceof LytTick && y instanceof LytTick) {
          return true;
        }
        ;
        if (x instanceof LytLet && y instanceof LytLet) {
          return true;
        }
        ;
        if (x instanceof LytLetStmt && y instanceof LytLetStmt) {
          return true;
        }
        ;
        if (x instanceof LytWhere && y instanceof LytWhere) {
          return true;
        }
        ;
        if (x instanceof LytOf && y instanceof LytOf) {
          return true;
        }
        ;
        if (x instanceof LytDo && y instanceof LytDo) {
          return true;
        }
        ;
        if (x instanceof LytAdo && y instanceof LytAdo) {
          return true;
        }
        ;
        return false;
      };
    }
  };
  var eq12 = /* @__PURE__ */ eq(eqLayoutDelim);
  var insertLayout = function(v) {
    return function(nextPos) {
      return function(stack) {
        var sepP = function(lytPos) {
          return v.range.start.column === lytPos.column && v.range.start.line !== lytPos.line;
        };
        var pushStack = function(lytPos) {
          return function(lyt) {
            return function(v1) {
              return new Tuple(new Cons(new Tuple(lytPos, lyt), v1.value0), v1.value1);
            };
          };
        };
        var popStack = function(v1) {
          return function(v2) {
            if (v2.value0 instanceof Cons && v1(v2.value0.value0.value1)) {
              return new Tuple(v2.value0.value1, v2.value1);
            }
            ;
            return v2;
          };
        };
        var offsideP = function(lytPos) {
          return function(lyt) {
            return isIndented(lyt) && v.range.start.column < lytPos.column;
          };
        };
        var offsideEndP = function(lytPos) {
          return function(lyt) {
            return isIndented(lyt) && v.range.start.column <= lytPos.column;
          };
        };
        var insertToken = function(token2) {
          return function(v1) {
            return new Tuple(v1.value0, snoc(v1.value1)(new Tuple(token2, v1.value0)));
          };
        };
        var insertStart = function(lyt) {
          return function(v1) {
            var v2 = find3(function($307) {
              return isIndented(snd($307));
            })(v1.value0);
            if (v2 instanceof Just && nextPos.column <= v2.value0.value0.column) {
              return v1;
            }
            ;
            return insertToken(lytToken(nextPos)(new TokLayoutStart(nextPos.column)))(pushStack(nextPos)(lyt)(v1));
          };
        };
        var insertEnd = function(indent) {
          return insertToken(lytToken(v.range.start)(new TokLayoutEnd(indent)));
        };
        var indentedP = $$const(isIndented);
        var indentSepP = function(lytPos) {
          return function(lyt) {
            return isIndented(lyt) && sepP(lytPos);
          };
        };
        var insertSep = function(v1) {
          var sepTok = lytToken(v.range.start)(new TokLayoutSep(v.range.start.column));
          if (v1.value0 instanceof Cons && (v1.value0.value0.value1 instanceof LytTopDecl && sepP(v1.value0.value0.value0))) {
            return insertToken(sepTok)(new Tuple(v1.value0.value1, v1.value1));
          }
          ;
          if (v1.value0 instanceof Cons && (v1.value0.value0.value1 instanceof LytTopDeclHead && sepP(v1.value0.value0.value0))) {
            return insertToken(sepTok)(new Tuple(v1.value0.value1, v1.value1));
          }
          ;
          if (v1.value0 instanceof Cons && indentSepP(v1.value0.value0.value0)(v1.value0.value0.value1)) {
            if (v1.value0.value0.value1 instanceof LytOf) {
              return pushStack(v.range.start)(LytCaseBinders.value)(insertToken(sepTok)(v1));
            }
            ;
            return insertToken(sepTok)(v1);
          }
          ;
          return v1;
        };
        var collapse = function(p) {
          var go = function($copy_v1) {
            return function($copy_v2) {
              var $tco_var_v1 = $copy_v1;
              var $tco_done = false;
              var $tco_result;
              function $tco_loop(v1, v2) {
                if (v1 instanceof Cons && p(v1.value0.value0)(v1.value0.value1)) {
                  $tco_var_v1 = v1.value1;
                  $copy_v2 = (function() {
                    var $120 = isIndented(v1.value0.value1);
                    if ($120) {
                      return snoc(v2)(new Tuple(lytToken(v.range.start)(new TokLayoutEnd(v1.value0.value0.column)), v1.value1));
                    }
                    ;
                    return v2;
                  })();
                  return;
                }
                ;
                $tco_done = true;
                return new Tuple(v1, v2);
              }
              ;
              while (!$tco_done) {
                $tco_result = $tco_loop($tco_var_v1, $copy_v2);
              }
              ;
              return $tco_result;
            };
          };
          return uncurry(go);
        };
        var insertDefault = function(state) {
          return insertToken(v)(insertSep(collapse(offsideP)(state)));
        };
        var insertKwProperty = function(k) {
          return function(state) {
            var v1 = insertDefault(state);
            if (v1.value0 instanceof Cons && v1.value0.value0.value1 instanceof LytProperty) {
              return new Tuple(v1.value0.value1, v1.value1);
            }
            ;
            return k(v1);
          };
        };
        var insert5 = function(v1) {
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "data")) {
            var v2 = insertDefault(v1);
            if (isTopDecl(v.range.start)(v2.value0)) {
              return pushStack(v.range.start)(LytTopDecl.value)(v2);
            }
            ;
            return popStack(function(v32) {
              return eq12(v32)(LytProperty.value);
            })(v2);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "class")) {
            var v2 = insertDefault(v1);
            if (isTopDecl(v.range.start)(v2.value0)) {
              return pushStack(v.range.start)(LytTopDeclHead.value)(v2);
            }
            ;
            return popStack(function(v32) {
              return eq12(v32)(LytProperty.value);
            })(v2);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "where")) {
            var whereP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytDo) {
                  return true;
                }
                ;
                return offsideEndP(v22)(v32);
              };
            };
            if (v1.value0 instanceof Cons && v1.value0.value0.value1 instanceof LytTopDeclHead) {
              return insertStart(LytWhere.value)(insertToken(v)(new Tuple(v1.value0.value1, v1.value1)));
            }
            ;
            if (v1.value0 instanceof Cons && v1.value0.value0.value1 instanceof LytProperty) {
              return insertToken(v)(new Tuple(v1.value0.value1, v1.value1));
            }
            ;
            return insertStart(LytWhere.value)(insertToken(v)(collapse(whereP)(v1)));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "in")) {
            var inP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytLet) {
                  return false;
                }
                ;
                if (v32 instanceof LytAdo) {
                  return false;
                }
                ;
                return isIndented(v32);
              };
            };
            var v2 = collapse(inP)(v1);
            if (v2.value0 instanceof Cons && (v2.value0.value0.value1 instanceof LytLetStmt && (v2.value0.value1 instanceof Cons && v2.value0.value1.value0.value1 instanceof LytAdo))) {
              return insertToken(v)(insertEnd(v2.value0.value1.value0.value0.column)(insertEnd(v2.value0.value0.value0.column)(new Tuple(v2.value0.value1.value1, v2.value1))));
            }
            ;
            if (v2.value0 instanceof Cons && isIndented(v2.value0.value0.value1)) {
              return insertToken(v)(insertEnd(v2.value0.value0.value0.column)(new Tuple(v2.value0.value1, v2.value1)));
            }
            ;
            return popStack(function(v32) {
              return eq12(v32)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "let")) {
            var next = function(v22) {
              if (v22.value0 instanceof Cons && (v22.value0.value0.value1 instanceof LytDo && v22.value0.value0.value0.column === v.range.start.column)) {
                return insertStart(LytLetStmt.value)(v22);
              }
              ;
              if (v22.value0 instanceof Cons && (v22.value0.value0.value1 instanceof LytAdo && v22.value0.value0.value0.column === v.range.start.column)) {
                return insertStart(LytLetStmt.value)(v22);
              }
              ;
              return insertStart(LytLet.value)(v22);
            };
            return insertKwProperty(next)(v1);
          }
          ;
          if (v.value instanceof TokLowerName && v.value.value1 === "do") {
            return insertKwProperty(insertStart(LytDo.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && v.value.value1 === "ado") {
            return insertKwProperty(insertStart(LytAdo.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "case")) {
            return insertKwProperty(pushStack(v.range.start)(LytCase.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "of")) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytCase) {
              return pushStack(nextPos)(LytCaseBinders.value)(insertStart(LytOf.value)(insertToken(v)(new Tuple(v2.value0.value1, v2.value1))));
            }
            ;
            return popStack(function(v32) {
              return eq12(v32)(LytProperty.value);
            })(insertDefault(v2));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "if")) {
            return insertKwProperty(pushStack(v.range.start)(LytIf.value))(v1);
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "then")) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytIf) {
              return pushStack(v.range.start)(LytThen.value)(insertToken(v)(new Tuple(v2.value0.value1, v2.value1)));
            }
            ;
            return popStack(function(v32) {
              return eq12(v32)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && v.value.value1 === "else")) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytThen) {
              return insertToken(v)(new Tuple(v2.value0.value1, v2.value1));
            }
            ;
            var v3 = collapse(offsideP)(v1);
            if (isTopDecl(v.range.start)(v3.value0)) {
              return insertToken(v)(v3);
            }
            ;
            return popStack(function(v4) {
              return eq12(v4)(LytProperty.value);
            })(insertToken(v)(insertSep(v3)));
          }
          ;
          if (v.value instanceof TokForall) {
            return insertKwProperty(pushStack(v.range.start)(LytForall.value))(v1);
          }
          ;
          if (v.value instanceof TokBackslash) {
            return pushStack(v.range.start)(LytLambdaBinders.value)(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokRightArrow) {
            var guardP = function(v22) {
              if (v22 instanceof LytCaseBinders) {
                return true;
              }
              ;
              if (v22 instanceof LytCaseGuard) {
                return true;
              }
              ;
              if (v22 instanceof LytLambdaBinders) {
                return true;
              }
              ;
              return false;
            };
            var arrowP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytDo) {
                  return true;
                }
                ;
                if (v32 instanceof LytOf) {
                  return false;
                }
                ;
                return offsideEndP(v22)(v32);
              };
            };
            return insertToken(v)(popStack(guardP)(collapse(arrowP)(v1)));
          }
          ;
          if (v.value instanceof TokEquals) {
            var equalsP = function(v22) {
              return function(v32) {
                if (v32 instanceof LytWhere) {
                  return true;
                }
                ;
                if (v32 instanceof LytLet) {
                  return true;
                }
                ;
                if (v32 instanceof LytLetStmt) {
                  return true;
                }
                ;
                return false;
              };
            };
            var v2 = collapse(equalsP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytDeclGuard) {
              return insertToken(v)(new Tuple(v2.value0.value1, v2.value1));
            }
            ;
            return insertDefault(v1);
          }
          ;
          if (v.value instanceof TokPipe) {
            var v2 = collapse(offsideEndP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytOf) {
              return insertToken(v)(pushStack(v.range.start)(LytCaseGuard.value)(v2));
            }
            ;
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytLet) {
              return insertToken(v)(pushStack(v.range.start)(LytDeclGuard.value)(v2));
            }
            ;
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytLetStmt) {
              return insertToken(v)(pushStack(v.range.start)(LytDeclGuard.value)(v2));
            }
            ;
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytWhere) {
              return insertToken(v)(pushStack(v.range.start)(LytDeclGuard.value)(v2));
            }
            ;
            return insertDefault(v1);
          }
          ;
          if (v.value instanceof TokTick) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytTick) {
              return insertToken(v)(new Tuple(v2.value0.value1, v2.value1));
            }
            ;
            return pushStack(v.range.start)(LytTick.value)(insertToken(v)(insertSep(collapse(offsideEndP)(v1))));
          }
          ;
          if (v.value instanceof TokComma) {
            var v2 = collapse(indentedP)(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytBrace) {
              return pushStack(v.range.start)(LytProperty.value)(insertToken(v)(v2));
            }
            ;
            return insertToken(v)(v2);
          }
          ;
          if (v.value instanceof TokDot) {
            var v2 = insertDefault(v1);
            if (v2.value0 instanceof Cons && v2.value0.value0.value1 instanceof LytForall) {
              return new Tuple(v2.value0.value1, v2.value1);
            }
            ;
            return pushStack(v.range.start)(LytProperty.value)(v2);
          }
          ;
          if (v.value instanceof TokLeftParen) {
            return pushStack(v.range.start)(LytParen.value)(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLeftBrace) {
            return pushStack(v.range.start)(LytProperty.value)(pushStack(v.range.start)(LytBrace.value)(insertDefault(v1)));
          }
          ;
          if (v.value instanceof TokLeftSquare) {
            return pushStack(v.range.start)(LytSquare.value)(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokRightParen) {
            return insertToken(v)(popStack(function(v22) {
              return eq12(v22)(LytParen.value);
            })(collapse(indentedP)(v1)));
          }
          ;
          if (v.value instanceof TokRightBrace) {
            return insertToken(v)(popStack(function(v22) {
              return eq12(v22)(LytBrace.value);
            })(popStack(function(v22) {
              return eq12(v22)(LytProperty.value);
            })(collapse(indentedP)(v1))));
          }
          ;
          if (v.value instanceof TokRightSquare) {
            return insertToken(v)(popStack(function(v22) {
              return eq12(v22)(LytSquare.value);
            })(collapse(indentedP)(v1)));
          }
          ;
          if (v.value instanceof TokString) {
            return popStack(function(v22) {
              return eq12(v22)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokLowerName && v.value.value0 instanceof Nothing) {
            return popStack(function(v22) {
              return eq12(v22)(LytProperty.value);
            })(insertDefault(v1));
          }
          ;
          if (v.value instanceof TokOperator) {
            return insertToken(v)(insertSep(collapse(offsideEndP)(v1)));
          }
          ;
          return insertDefault(v1);
        };
        return insert5(new Tuple(stack, []));
      };
    };
  };

  // output/PureScript.CST.TokenStream/index.js
  var TokenEOF = /* @__PURE__ */ (function() {
    function TokenEOF2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    TokenEOF2.create = function(value0) {
      return function(value1) {
        return new TokenEOF2(value0, value1);
      };
    };
    return TokenEOF2;
  })();
  var TokenError = /* @__PURE__ */ (function() {
    function TokenError2(value0, value1, value2, value3) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
      this.value3 = value3;
    }
    ;
    TokenError2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return function(value3) {
            return new TokenError2(value0, value1, value2, value3);
          };
        };
      };
    };
    return TokenError2;
  })();
  var TokenCons = /* @__PURE__ */ (function() {
    function TokenCons2(value0, value1, value2, value3) {
      this.value0 = value0;
      this.value1 = value1;
      this.value2 = value2;
      this.value3 = value3;
    }
    ;
    TokenCons2.create = function(value0) {
      return function(value1) {
        return function(value2) {
          return function(value3) {
            return new TokenCons2(value0, value1, value2, value3);
          };
        };
      };
    };
    return TokenCons2;
  })();
  var step = /* @__PURE__ */ (function() {
    var $32 = unwrap();
    return function($33) {
      return force($32($33));
    };
  })();
  var unwindLayout = function(pos) {
    return function(eof2) {
      var go = function(stk) {
        return defer2(function(v) {
          if (stk instanceof Nil) {
            return step(eof2);
          }
          ;
          if (stk instanceof Cons) {
            if (stk.value0.value1 instanceof LytRoot) {
              return step(eof2);
            }
            ;
            if (isIndented(stk.value0.value1)) {
              return new TokenCons(lytToken(pos)(new TokLayoutEnd(stk.value0.value0.column)), pos, go(stk.value1), stk.value1);
            }
            ;
            if (otherwise) {
              return step(go(stk.value1));
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.TokenStream (line 59, column 7 - line 66, column 27): " + [stk.value0.value1.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.TokenStream (line 56, column 43 - line 66, column 27): " + [stk.constructor.name]);
        });
      };
      return go;
    };
  };
  var consTokens = function(dictFoldable) {
    var go = function(v) {
      return function(v1) {
        return new Tuple(v.value0.range.start, defer2(function(v2) {
          return new TokenCons(v.value0, v1.value0, v1.value1, v.value1);
        }));
      };
    };
    return flip(foldr(dictFoldable)(go));
  };

  // output/PureScript.CST.Lexer/index.js
  var add2 = /* @__PURE__ */ add(semiringInt);
  var div3 = /* @__PURE__ */ div(euclideanRingInt);
  var bindFlipped2 = /* @__PURE__ */ bindFlipped(bindMaybe);
  var foldMap12 = /* @__PURE__ */ foldMap(foldableMaybe)(monoidString);
  var fold2 = /* @__PURE__ */ fold(foldableMaybe)(monoidString);
  var fold12 = /* @__PURE__ */ fold(foldableArray)(/* @__PURE__ */ monoidRecord()(/* @__PURE__ */ monoidRecordCons({
    reflectSymbol: function() {
      return "raw";
    }
  })(monoidString)()(/* @__PURE__ */ monoidRecordCons({
    reflectSymbol: function() {
      return "string";
    }
  })(monoidString)()(monoidRecordNil))));
  var foldl3 = /* @__PURE__ */ foldl(foldableArray);
  var consTokens2 = /* @__PURE__ */ consTokens(foldableArray);
  var LexFail = /* @__PURE__ */ (function() {
    function LexFail2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    LexFail2.create = function(value0) {
      return function(value1) {
        return new LexFail2(value0, value1);
      };
    };
    return LexFail2;
  })();
  var LexSucc = /* @__PURE__ */ (function() {
    function LexSucc2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    LexSucc2.create = function(value0) {
      return function(value1) {
        return new LexSucc2(value0, value1);
      };
    };
    return LexSucc2;
  })();
  var Lex = function(x) {
    return x;
  };
  var isCharCodePoint = {
    fromChar: codePointFromChar,
    fromCharCode: /* @__PURE__ */ toEnum(boundedEnumCodePoint)
  };
  var isCharChar = {
    fromChar: /* @__PURE__ */ identity(categoryFn),
    fromCharCode: fromCharCode3
  };
  var $$try = function(v) {
    return function(str) {
      var v1 = v(str);
      if (v1 instanceof LexFail) {
        return new LexFail(v1.value0, str);
      }
      ;
      if (v1 instanceof LexSucc) {
        return new LexSucc(v1.value0, v1.value1);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 104, column 3 - line 106, column 31): " + [v1.constructor.name]);
    };
  };
  var toModuleName = function(v) {
    if (v === "") {
      return Nothing.value;
    }
    ;
    return new Just(dropRight(1)(v));
  };
  var qualLength = /* @__PURE__ */ maybe(0)(/* @__PURE__ */ (function() {
    var $319 = add2(1);
    var $320 = unwrap();
    return function($321) {
      return $319(length3($320($321)));
    };
  })());
  var optional = function(v) {
    return function(str) {
      var v1 = v(str);
      if (v1 instanceof LexFail) {
        if (length2(str) === length2(v1.value1)) {
          return new LexSucc(Nothing.value, str);
        }
        ;
        if (otherwise) {
          return new LexFail(v1.value0, v1.value1);
        }
        ;
      }
      ;
      if (v1 instanceof LexSucc) {
        return new LexSucc(new Just(v1.value0), v1.value1);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 153, column 3 - line 160, column 25): " + [v1.constructor.name]);
    };
  };
  var mkUnexpected = function(str) {
    var start = take2(6)(str);
    var len = length3(start);
    var $148 = len === 0;
    if ($148) {
      return "end of file";
    }
    ;
    var $149 = len < 6;
    if ($149) {
      return start;
    }
    ;
    return start + "...";
  };
  var regex2 = function(mkErr) {
    return function(regexStr) {
      var matchRegex = unsafeRegex("^(?:" + (regexStr + ")"))(unicode);
      return function(str) {
        var v = match(matchRegex)(str);
        var v1 = function(v2) {
          return new LexFail(function(v3) {
            return mkErr(mkUnexpected(str));
          }, str);
        };
        if (v instanceof Just) {
          var $151 = head2(v.value0);
          if ($151 instanceof Just) {
            return new LexSucc($151.value0, drop(length2($151.value0))(str));
          }
          ;
          return v1(true);
        }
        ;
        return v1(true);
      };
    };
  };
  var satisfy = function(mkErr) {
    return function(p) {
      return function(str) {
        var v = charAt2(0)(str);
        if (v instanceof Just && p(v.value0)) {
          return new LexSucc(v.value0, drop(1)(str));
        }
        ;
        return new LexFail(function(v1) {
          return mkErr(mkUnexpected(str));
        }, str);
      };
    };
  };
  var string = function(mkErr) {
    return function(match2) {
      return function(str) {
        var $156 = take(length2(match2))(str) === match2;
        if ($156) {
          return new LexSucc(match2, drop(length2(match2))(str));
        }
        ;
        return new LexFail(function(v) {
          return mkErr(mkUnexpected(str));
        }, str);
      };
    };
  };
  var many = function(v) {
    return function(str) {
      return (function __do2() {
        var valuesRef = newSTArray();
        var strRef = str;
        var contRef = true;
        var resRef = new LexSucc([], str);
        (function() {
          while (contRef) {
            (function __do3() {
              var str$prime = strRef;
              var v1 = v(str$prime);
              if (v1 instanceof LexFail) {
                if (length2(str$prime) === length2(v1.value1)) {
                  var values = unsafeFreeze(valuesRef)();
                  resRef = new LexSucc(values, v1.value1);
                  contRef = false;
                  return unit;
                }
                ;
                if (otherwise) {
                  resRef = new LexFail(v1.value0, v1.value1);
                  contRef = false;
                  return unit;
                }
                ;
              }
              ;
              if (v1 instanceof LexSucc) {
                push(v1.value0)(valuesRef)();
                strRef = v1.value1;
                return unit;
              }
              ;
              throw new Error("Failed pattern match at PureScript.CST.Lexer (line 178, column 5 - line 192, column 18): " + [v1.constructor.name]);
            })();
          }
          ;
          return {};
        })();
        return resRef;
      })();
    };
  };
  var functorLex = {
    map: function(f) {
      return function(v) {
        return function(str) {
          var v1 = v(str);
          if (v1 instanceof LexFail) {
            return new LexFail(v1.value0, v1.value1);
          }
          ;
          if (v1 instanceof LexSucc) {
            return new LexSucc(f(v1.value0), v1.value1);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 66, column 5 - line 68, column 37): " + [v1.constructor.name]);
        };
      };
    }
  };
  var map6 = /* @__PURE__ */ map(functorLex);
  var spaceComment = /* @__PURE__ */ (function() {
    return map6(length2)(regex2(LexExpected.create("spaces"))(" +"));
  })();
  var fromCharCode4 = function(dict) {
    return dict.fromCharCode;
  };
  var fromChar = function(dict) {
    return dict.fromChar;
  };
  var fail = function($322) {
    return Lex(LexFail.create($$const($322)));
  };
  var char$prime = function(mkErr) {
    return function(res) {
      return function(match2) {
        return function(str) {
          var $172 = singleton6(match2) === take(1)(str);
          if ($172) {
            return new LexSucc(res, drop(1)(str));
          }
          ;
          return new LexFail(function(v) {
            return mkErr(mkUnexpected(str));
          }, str);
        };
      };
    };
  };
  var $$char = function(mkErr) {
    return function(match2) {
      return function(str) {
        var $173 = singleton6(match2) === take(1)(str);
        if ($173) {
          return new LexSucc(match2, drop(1)(str));
        }
        ;
        return new LexFail(function(v) {
          return mkErr(mkUnexpected(str));
        }, str);
      };
    };
  };
  var bumpText = function(v) {
    return function(colOffset) {
      return function(str) {
        var go = function($copy_n) {
          return function($copy_ix) {
            var $tco_var_n = $copy_n;
            var $tco_done = false;
            var $tco_result;
            function $tco_loop(n, ix) {
              var v1 = indexOf$prime("\n")(ix)(str);
              if (v1 instanceof Just) {
                $tco_var_n = n + 1 | 0;
                $copy_ix = v1.value0 + 1 | 0;
                return;
              }
              ;
              if (v1 instanceof Nothing) {
                if (n === 0) {
                  $tco_done = true;
                  return {
                    line: v.line,
                    column: (v.column + length3(str) | 0) + (colOffset * 2 | 0) | 0
                  };
                }
                ;
                if (otherwise) {
                  $tco_done = true;
                  return {
                    line: v.line + n | 0,
                    column: length3(drop(ix)(str)) + colOffset | 0
                  };
                }
                ;
              }
              ;
              throw new Error("Failed pattern match at PureScript.CST.Lexer (line 348, column 13 - line 357, column 12): " + [v1.constructor.name]);
            }
            ;
            while (!$tco_done) {
              $tco_result = $tco_loop($tco_var_n, $copy_ix);
            }
            ;
            return $tco_result;
          };
        };
        return go(0)(0);
      };
    };
  };
  var bumpToken = function(v) {
    return function(v1) {
      if (v1 instanceof TokLeftParen) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightParen) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftBrace) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightBrace) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftSquare) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightSquare) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokLeftArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokRightArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokRightFatArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokRightFatArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokDoubleColon && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokDoubleColon && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokForall && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 6 | 0
        };
      }
      ;
      if (v1 instanceof TokForall && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokEquals) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokPipe) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokTick) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokDot) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokComma) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokUnderscore) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokBackslash) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokAt) {
        return {
          line: v.line,
          column: v.column + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokLowerName) {
        return {
          line: v.line,
          column: (v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0
        };
      }
      ;
      if (v1 instanceof TokUpperName) {
        return {
          line: v.line,
          column: (v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0
        };
      }
      ;
      if (v1 instanceof TokOperator) {
        return {
          line: v.line,
          column: (v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0
        };
      }
      ;
      if (v1 instanceof TokSymbolName) {
        return {
          line: v.line,
          column: ((v.column + qualLength(v1.value0) | 0) + length3(v1.value1) | 0) + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokSymbolArrow && v1.value0 instanceof Unicode) {
        return {
          line: v.line,
          column: v.column + 3 | 0
        };
      }
      ;
      if (v1 instanceof TokSymbolArrow && v1.value0 instanceof ASCII) {
        return {
          line: v.line,
          column: v.column + 4 | 0
        };
      }
      ;
      if (v1 instanceof TokHole) {
        return {
          line: v.line,
          column: (v.column + length3(v1.value0) | 0) + 1 | 0
        };
      }
      ;
      if (v1 instanceof TokChar) {
        return {
          line: v.line,
          column: (v.column + length3(v1.value0) | 0) + 2 | 0
        };
      }
      ;
      if (v1 instanceof TokInt) {
        return {
          line: v.line,
          column: v.column + length3(v1.value0) | 0
        };
      }
      ;
      if (v1 instanceof TokNumber) {
        return {
          line: v.line,
          column: v.column + length3(v1.value0) | 0
        };
      }
      ;
      if (v1 instanceof TokString) {
        return bumpText(v)(1)(v1.value0);
      }
      ;
      if (v1 instanceof TokRawString) {
        return bumpText(v)(3)(v1.value0);
      }
      ;
      if (v1 instanceof TokLayoutStart) {
        return v;
      }
      ;
      if (v1 instanceof TokLayoutSep) {
        return v;
      }
      ;
      if (v1 instanceof TokLayoutEnd) {
        return v;
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 265, column 34 - line 343, column 8): " + [v1.constructor.name]);
    };
  };
  var bumpComment = function(v) {
    return function(v1) {
      if (v1 instanceof Comment) {
        return bumpText(v)(0)(v1.value0);
      }
      ;
      if (v1 instanceof Space) {
        return {
          line: v.line,
          column: v.column + v1.value0 | 0
        };
      }
      ;
      if (v1 instanceof Line) {
        return {
          line: v.line + v1.value1 | 0,
          column: 0
        };
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 360, column 36 - line 366, column 34): " + [v1.constructor.name]);
    };
  };
  var applyLex = {
    apply: function(v) {
      return function(v1) {
        return function(str) {
          var v2 = v(str);
          if (v2 instanceof LexFail) {
            return new LexFail(v2.value0, v2.value1);
          }
          ;
          if (v2 instanceof LexSucc) {
            var v3 = v1(v2.value1);
            if (v3 instanceof LexFail) {
              return new LexFail(v3.value0, v3.value1);
            }
            ;
            if (v3 instanceof LexSucc) {
              return new LexSucc(v2.value0(v3.value0), v3.value1);
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Lexer (line 75, column 9 - line 78, column 32): " + [v3.constructor.name]);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 72, column 5 - line 78, column 32): " + [v2.constructor.name]);
        };
      };
    },
    Functor0: function() {
      return functorLex;
    }
  };
  var apply2 = /* @__PURE__ */ apply(applyLex);
  var applyFirst2 = /* @__PURE__ */ applyFirst(applyLex);
  var applySecond2 = /* @__PURE__ */ applySecond(applyLex);
  var bindLex = {
    bind: function(v) {
      return function(k) {
        return function(str) {
          var v1 = v(str);
          if (v1 instanceof LexFail) {
            return new LexFail(v1.value0, v1.value1);
          }
          ;
          if (v1 instanceof LexSucc) {
            var v2 = k(v1.value0);
            return v2(v1.value1);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 85, column 5 - line 89, column 16): " + [v1.constructor.name]);
        };
      };
    },
    Apply0: function() {
      return applyLex;
    }
  };
  var bind1 = /* @__PURE__ */ bind(bindLex);
  var applicativeLex = {
    pure: function($323) {
      return Lex(LexSucc.create($323));
    },
    Apply0: function() {
      return applyLex;
    }
  };
  var pure1 = /* @__PURE__ */ pure(applicativeLex);
  var altLex = {
    alt: function(v) {
      return function(v1) {
        return function(str) {
          var v2 = v(str);
          if (v2 instanceof LexFail) {
            if (length2(str) === length2(v2.value1)) {
              return v1(str);
            }
            ;
            if (otherwise) {
              return new LexFail(v2.value0, v2.value1);
            }
            ;
          }
          ;
          if (v2 instanceof LexSucc) {
            return new LexSucc(v2.value0, v2.value1);
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 93, column 5 - line 100, column 20): " + [v2.constructor.name]);
        };
      };
    },
    Functor0: function() {
      return functorLex;
    }
  };
  var alt2 = /* @__PURE__ */ alt(altLex);
  var comment = /* @__PURE__ */ (function() {
    return alt2(regex2(LexExpected.create("block comment"))("\\{-(-(?!\\})|[^-]+)*(-\\}|$)"))(regex2(LexExpected.create("line comment"))("--[^\\r\\n]*"));
  })();
  var lineComment = /* @__PURE__ */ (function() {
    return alt2(map6((function() {
      var $324 = Line.create(LF.value);
      return function($325) {
        return $324(length3($325));
      };
    })())(regex2(LexExpected.create("newline"))("\n+")))(map6((function() {
      var $326 = Line.create(CRLF.value);
      return function($327) {
        return $326((function(v) {
          return div3(v)(2);
        })(length3($327)));
      };
    })())(regex2(LexExpected.create("newline"))("(?:\r\n)+")));
  })();
  var leadingComments = /* @__PURE__ */ (function() {
    return many(alt2(map6(Comment.create)(comment))(alt2(map6(Space.create)(spaceComment))(lineComment)));
  })();
  var token = /* @__PURE__ */ (function() {
    var tokenTick = char$prime(LexExpected.create("backtick"))(TokTick.value)("`");
    var tokenRightSquare = char$prime(LexExpected.create("right square"))(TokRightSquare.value)("]");
    var tokenRightParen = char$prime(LexExpected.create("right paren"))(TokRightParen.value)(")");
    var tokenRightBrace = char$prime(LexExpected.create("right brace"))(TokRightBrace.value)("}");
    var tokenLeftSquare = char$prime(LexExpected.create("left square"))(TokLeftSquare.value)("[");
    var tokenLeftParen = char$prime(LexExpected.create("left paren"))(TokLeftParen.value)("(");
    var tokenLeftBrace = char$prime(LexExpected.create("left brace"))(TokLeftBrace.value)("{");
    var tokenComma = char$prime(LexExpected.create("comma"))(TokComma.value)(",");
    var stripUnderscores = replaceAll("_")("");
    var stringSpaceEscapeRegex = regex2(LexExpected.create("whitespace escape"))("\\\\[ \\r\\n]+\\\\");
    var stringCharsRegex = regex2(LexExpected.create("string characters"))('[^"\\\\]+');
    var rawStringCharsRegex = regex2(LexExpected.create("raw string characters"))('""""{0,2}([^"]+"{1,2})*[^"]*"""');
    var parseSymbolIdent = regex2(LexExpected.create("symbol"))("(?:[:!#$%&*+./<=>?@\\\\^|~-]|(?!\\p{P})\\p{S})+");
    var parseSymbol = map6(function(v) {
      return function(v1) {
        if (v1 instanceof Nothing) {
          if (v === "->") {
            return new TokSymbolArrow(ASCII.value);
          }
          ;
          if (v === "\u2192") {
            return new TokSymbolArrow(Unicode.value);
          }
          ;
          return new TokSymbolName(Nothing.value, v);
        }
        ;
        return new TokSymbolName(v1, v);
      };
    })($$try(applyFirst2(applySecond2(tokenLeftParen)(parseSymbolIdent))(tokenRightParen)));
    var parseStringSpaceEscape = map6(function(v) {
      return {
        raw: v,
        string: ""
      };
    })(stringSpaceEscapeRegex);
    var parseStringChars = map6(function(v) {
      return {
        raw: v,
        string: v
      };
    })(stringCharsRegex);
    var parseRawString = map6(function(v) {
      return new TokRawString(dropRight(3)(drop(3)(v)));
    })(rawStringCharsRegex);
    var parseProper = regex2(LexExpected.create("proper name"))("\\p{Lu}[\\p{L}0-9_']*");
    var parseUpper = map6(flip(TokUpperName.create))(parseProper);
    var parseOperator = map6(function(v) {
      return function(v1) {
        if (v1 instanceof Nothing) {
          if (v === "<-") {
            return new TokLeftArrow(ASCII.value);
          }
          ;
          if (v === "\u2190") {
            return new TokLeftArrow(Unicode.value);
          }
          ;
          if (v === "->") {
            return new TokRightArrow(ASCII.value);
          }
          ;
          if (v === "\u2192") {
            return new TokRightArrow(Unicode.value);
          }
          ;
          if (v === "=>") {
            return new TokRightFatArrow(ASCII.value);
          }
          ;
          if (v === "\u21D2") {
            return new TokRightFatArrow(Unicode.value);
          }
          ;
          if (v === "::") {
            return new TokDoubleColon(ASCII.value);
          }
          ;
          if (v === "\u2237") {
            return new TokDoubleColon(Unicode.value);
          }
          ;
          if (v === "\u2200") {
            return new TokForall(Unicode.value);
          }
          ;
          if (v === "=") {
            return TokEquals.value;
          }
          ;
          if (v === ".") {
            return TokDot.value;
          }
          ;
          if (v === "\\") {
            return TokBackslash.value;
          }
          ;
          if (v === "|") {
            return TokPipe.value;
          }
          ;
          if (v === "@") {
            return TokAt.value;
          }
          ;
          if (v === "`") {
            return TokTick.value;
          }
          ;
          return new TokOperator(Nothing.value, v);
        }
        ;
        return new TokOperator(v1, v);
      };
    })(parseSymbolIdent);
    var parseModuleNamePrefix = regex2(LexExpected.create("module name"))("(?:(?:\\p{Lu}[\\p{L}0-9_']*)\\.)*");
    var parseIdent2 = regex2(LexExpected.create("ident"))("[\\p{Ll}_][\\p{L}0-9_']*");
    var parseLower = map6(function(v) {
      return function(v1) {
        if (v1 instanceof Nothing) {
          if (v === "forall") {
            return new TokForall(ASCII.value);
          }
          ;
          if (v === "_") {
            return TokUnderscore.value;
          }
          ;
          return new TokLowerName(Nothing.value, v);
        }
        ;
        return new TokLowerName(v1, v);
      };
    })(parseIdent2);
    var parseName = alt2(parseLower)(alt2(parseUpper)(alt2(parseOperator)(parseSymbol)));
    var parseModuleName = apply2(map6(function(v) {
      return function(v1) {
        return v1(toModuleName(v));
      };
    })(parseModuleNamePrefix))(parseName);
    var parseExponentSign = alt2(string(LexExpected.create("negative"))("-"))(string(LexExpected.create("positive"))("+"));
    var intPartRegex = regex2(LexExpected.create("int part"))("(0|[1-9][0-9_]*)");
    var parseExponentPart = apply2(map6(function(v) {
      return function(v1) {
        return {
          sign: v,
          exponent: v1
        };
      };
    })(optional(parseExponentSign)))(intPartRegex);
    var hexIntRegex = regex2(LexExpected.create("hex int"))("[a-fA-F0-9]+");
    var hexIntPrefix = string(LexExpected.create("hex int prefix"))("0x");
    var parseHexInt = bind1(applySecond2(hexIntPrefix)(hexIntRegex))(function(raw) {
      var v = fromStringAs(hexadecimal)(raw);
      if (v instanceof Just) {
        return pure1(new TokInt("0x" + raw, new SmallInt(v.value0)));
      }
      ;
      if (v instanceof Nothing) {
        return pure1(new TokInt("0x" + raw, new BigHex(raw)));
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Lexer (line 631, column 5 - line 635, column 49): " + [v.constructor.name]);
    });
    var hexEscapeRegex = regex2(LexExpected.create("hex"))("[a-fA-F0-9]{1,6}");
    var parseHexEscape = function(dictIsChar) {
      var fromCharCode1 = fromCharCode4(dictIsChar);
      return bind1(hexEscapeRegex)(function(esc) {
        var v = bindFlipped2(fromCharCode1)(fromStringAs(hexadecimal)(esc));
        if (v instanceof Just) {
          return pure1({
            raw: "\\x" + esc,
            "char": v.value0
          });
        }
        ;
        if (v instanceof Nothing) {
          return fail(new LexCharEscapeOutOfRange(esc));
        }
        ;
        throw new Error("Failed pattern match at PureScript.CST.Lexer (line 579, column 5 - line 583, column 43): " + [v.constructor.name]);
      });
    };
    var fractionPartRegex = regex2(LexExpected.create("fraction part"))("[0-9_]+");
    var charSingleQuote = $$char(LexExpected.create("single quote"))("'");
    var charQuote = $$char(LexExpected.create("quote"))('"');
    var charQuestionMark = $$char(LexExpected.create("question mark"))("?");
    var parseHole2 = map6(function(v) {
      return new TokHole(v);
    })($$try(applySecond2(charQuestionMark)(alt2(parseIdent2)(parseProper))));
    var charExponent = $$char(LexExpected.create("exponent"))("e");
    var parseNumberExponentPart = optional(applySecond2(charExponent)(parseExponentPart));
    var charDot = $$char(LexExpected.create("dot"))(".");
    var parseNumberFractionPart = optional($$try(applySecond2(charDot)(fractionPartRegex)));
    var parseNumber = bind1(intPartRegex)(function(intPart) {
      return bind1(parseNumberFractionPart)(function(fractionPart) {
        return bind1(parseNumberExponentPart)(function(exponentPart) {
          var $282 = isNothing(fractionPart) && isNothing(exponentPart);
          if ($282) {
            var intVal = stripUnderscores(intPart);
            var v = fromString2(intVal);
            if (v instanceof Just) {
              return pure1(new TokInt(intPart, new SmallInt(v.value0)));
            }
            ;
            if (v instanceof Nothing) {
              return pure1(new TokInt(intPart, new BigInt(intVal)));
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Lexer (line 643, column 7 - line 647, column 48): " + [v.constructor.name]);
          }
          ;
          var raw = intPart + (foldMap12(function(fr) {
            return "." + fr;
          })(fractionPart) + foldMap12(function(ex) {
            return "e" + (fold2(ex.sign) + ex.exponent);
          })(exponentPart));
          var v = fromString(stripUnderscores(raw));
          if (v instanceof Just) {
            return pure1(new TokNumber(raw, v.value0));
          }
          ;
          if (v instanceof Nothing) {
            return fail(new LexNumberOutOfRange(raw));
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Lexer (line 654, column 7 - line 658, column 41): " + [v.constructor.name]);
        });
      });
    });
    var parseNumericLiteral = alt2(parseHexInt)(parseNumber);
    var charBackslash = $$char(LexExpected.create("backslash"))("\\");
    var charAny = satisfy(LexExpected.create("char"))($$const(true));
    var parseEscape = function(dictIsChar) {
      var fromChar1 = fromChar(dictIsChar);
      var parseHexEscape1 = parseHexEscape(dictIsChar);
      return bind1(charAny)(function(ch) {
        if (ch === "t") {
          return pure1({
            raw: "\\t",
            "char": fromChar1("	")
          });
        }
        ;
        if (ch === "r") {
          return pure1({
            raw: "\\r",
            "char": fromChar1("\r")
          });
        }
        ;
        if (ch === "n") {
          return pure1({
            raw: "\\n",
            "char": fromChar1("\n")
          });
        }
        ;
        if (ch === '"') {
          return pure1({
            raw: '\\"',
            "char": fromChar1('"')
          });
        }
        ;
        if (ch === "'") {
          return pure1({
            raw: "\\'",
            "char": fromChar1("'")
          });
        }
        ;
        if (ch === "\\") {
          return pure1({
            raw: "\\\\",
            "char": fromChar1("\\")
          });
        }
        ;
        if (ch === "x") {
          return parseHexEscape1;
        }
        ;
        return fail(new LexInvalidCharEscape(singleton6(ch)));
      });
    };
    var parseEscape1 = parseEscape(isCharChar);
    var parseChar = bind1(charAny)(function(ch) {
      if (ch === "\\") {
        return parseEscape1;
      }
      ;
      if (ch === "'") {
        return fail(new LexExpected("character", "empty character literal"));
      }
      ;
      return pure1({
        raw: singleton6(ch),
        "char": ch
      });
    });
    var parseCharLiteral = map6(function(v) {
      return new TokChar(v.raw, v["char"]);
    })(applyFirst2(applySecond2(charSingleQuote)(parseChar))(charSingleQuote));
    var parseStringEscape = map6(function(v) {
      return {
        raw: v.raw,
        string: singleton7(v["char"])
      };
    })(applySecond2(charBackslash)(parseEscape(isCharCodePoint)));
    var parseStringPart = alt2(parseStringChars)(alt2(parseStringSpaceEscape)(parseStringEscape));
    var parseString2 = map6(function(v) {
      var v1 = fold12(v);
      return new TokString(v1.raw, v1.string);
    })(applyFirst2(applySecond2(charQuote)(many(parseStringPart)))(charQuote));
    var parseStringLiteral = alt2(parseRawString)(parseString2);
    return alt2(parseHole2)(alt2(parseModuleName)(alt2(parseCharLiteral)(alt2(parseStringLiteral)(alt2(parseNumericLiteral)(alt2(tokenLeftParen)(alt2(tokenRightParen)(alt2(tokenLeftBrace)(alt2(tokenRightBrace)(alt2(tokenLeftSquare)(alt2(tokenRightSquare)(alt2(tokenTick)(tokenComma))))))))))));
  })();
  var trailingComments = /* @__PURE__ */ (function() {
    return many(alt2(map6(Comment.create)(comment))(map6(Space.create)(spaceComment)));
  })();
  var lexWithState$prime = function(lexLeadingComments) {
    var token$prime = apply2(apply2(map6(function(v) {
      return function(v1) {
        return function(v2) {
          return {
            token: v,
            trailing: v1,
            nextLeading: v2
          };
        };
      };
    })(token))(trailingComments))(leadingComments);
    var go = function(stack) {
      return function(startPos) {
        return function(leading) {
          return function(str) {
            return defer2(function(v) {
              var $303 = str === "";
              if ($303) {
                return step(unwindLayout(startPos)(defer2(function(v12) {
                  return new TokenEOF(startPos, leading);
                }))(stack));
              }
              ;
              var v1 = token$prime(str);
              if (v1 instanceof LexFail) {
                var errPos = bumpText(startPos)(0)(take(length2(str) - length2(v1.value1) | 0)(str));
                return new TokenError(errPos, v1.value0(unit), Nothing.value, stack);
              }
              ;
              if (v1 instanceof LexSucc) {
                var endPos = bumpToken(startPos)(v1.value0.token);
                var nextStart = foldl3(bumpComment)(foldl3(bumpComment)(endPos)(v1.value0.trailing))(v1.value0.nextLeading);
                var posToken = {
                  range: {
                    start: startPos,
                    end: endPos
                  },
                  leadingComments: leading,
                  trailingComments: v1.value0.trailing,
                  value: v1.value0.token
                };
                var v2 = insertLayout(posToken)(nextStart)(stack);
                return step(snd(consTokens2(v2.value1)(new Tuple(nextStart, go(v2.value0)(nextStart)(v1.value0.nextLeading)(v1.value1)))));
              }
              ;
              throw new Error("Failed pattern match at PureScript.CST.Lexer (line 228, column 7 - line 247, column 63): " + [v1.constructor.name]);
            });
          };
        };
      };
    };
    var init2 = function(initStack) {
      return function(initPos) {
        return function(str) {
          return defer2(function(v) {
            var v1 = lexLeadingComments(str);
            if (v1 instanceof LexFail) {
              return unsafeCrashWith("Leading comments can't fail.");
            }
            ;
            if (v1 instanceof LexSucc) {
              var nextPos = foldl3(bumpComment)(initPos)(v1.value0);
              return step(go(initStack)(nextPos)(v1.value0)(v1.value1));
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Lexer (line 215, column 5 - line 220, column 51): " + [v1.constructor.name]);
          });
        };
      };
    };
    return init2;
  };
  var lexWithState = /* @__PURE__ */ lexWithState$prime(leadingComments);
  var lex = /* @__PURE__ */ (function() {
    return lexWithState(new Cons(new Tuple({
      line: 0,
      column: 0
    }, LytRoot.value), Nil.value))({
      line: 0,
      column: 0
    });
  })();

  // output/PureScript.CST.Parser.Monad/index.js
  var $runtime_lazy5 = function(name, moduleName, init2) {
    var state = 0;
    var val;
    return function(lineNumber) {
      if (state === 2) return val;
      if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state = 1;
      val = init2();
      state = 2;
      return val;
    };
  };
  var toUnfoldable5 = /* @__PURE__ */ toUnfoldable(unfoldableArray);
  var More = /* @__PURE__ */ (function() {
    function More2(value0) {
      this.value0 = value0;
    }
    ;
    More2.create = function(value0) {
      return new More2(value0);
    };
    return More2;
  })();
  var Done2 = /* @__PURE__ */ (function() {
    function Done3(value0) {
      this.value0 = value0;
    }
    ;
    Done3.create = function(value0) {
      return new Done3(value0);
    };
    return Done3;
  })();
  var ParseFail = /* @__PURE__ */ (function() {
    function ParseFail2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ParseFail2.create = function(value0) {
      return function(value1) {
        return new ParseFail2(value0, value1);
      };
    };
    return ParseFail2;
  })();
  var ParseSucc = /* @__PURE__ */ (function() {
    function ParseSucc2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ParseSucc2.create = function(value0) {
      return function(value1) {
        return new ParseSucc2(value0, value1);
      };
    };
    return ParseSucc2;
  })();
  var lazyParser = {
    defer: function(k) {
      var parser = defer2(k);
      return function(state, more, resume, done) {
        var v = force(parser);
        return v(state, more, resume, done);
      };
    }
  };
  var functorParser = {
    map: function(f) {
      return function(v) {
        return function(state1, more, resume, done) {
          return v(state1, more, resume, function(state2, a) {
            return done(state2, f(a));
          });
        };
      };
    }
  };
  var map7 = /* @__PURE__ */ map(functorParser);
  var applyParser = {
    apply: function(v) {
      return function(v1) {
        return function(state1, more, resume, done) {
          return v(state1, more, resume, function(state2, f) {
            return more(function(v2) {
              return v1(state2, more, resume, function(state3, a) {
                return done(state3, f(a));
              });
            });
          });
        };
      };
    },
    Functor0: function() {
      return functorParser;
    }
  };
  var bindParser = {
    bind: function(v) {
      return function(k) {
        return function(state1, more, resume, done) {
          return v(state1, more, resume, function(state2, a) {
            return more(function(v1) {
              var v2 = k(a);
              return v2(state2, more, resume, done);
            });
          });
        };
      };
    },
    Apply0: function() {
      return applyParser;
    }
  };
  var applicativeParser = {
    pure: function(a) {
      return function(state1, v, v1, done) {
        return done(state1, a);
      };
    },
    Apply0: function() {
      return applyParser;
    }
  };
  var pure2 = /* @__PURE__ */ pure(applicativeParser);
  var altParser = {
    alt: function(v) {
      return function(v1) {
        return function(state1, more, resume, done) {
          var state2 = (function() {
            if (state1.consumed) {
              return {
                errors: state1.errors,
                stream: state1.stream,
                consumed: false
              };
            }
            ;
            return state1;
          })();
          return v(state2, more, function(state3, error2) {
            if (state3.consumed) {
              return resume(state3, error2);
            }
            ;
            return v1(state1, more, resume, done);
          }, done);
        };
      };
    },
    Functor0: function() {
      return functorParser;
    }
  };
  var alt3 = /* @__PURE__ */ alt(altParser);
  var $$try2 = function(v) {
    return function(state1, more, resume, done) {
      return v(state1, more, function(state2, error2) {
        return resume({
          errors: state2.errors,
          stream: state2.stream,
          consumed: state1.consumed
        }, error2);
      }, done);
    };
  };
  var take4 = function(k) {
    return function(state, v, resume, done) {
      var v1 = step(state.stream);
      if (v1 instanceof TokenError) {
        return resume(state, {
          error: v1.value1,
          position: v1.value0
        });
      }
      ;
      if (v1 instanceof TokenEOF) {
        return resume(state, {
          error: UnexpectedEof.value,
          position: v1.value0
        });
      }
      ;
      if (v1 instanceof TokenCons) {
        var v2 = k(v1.value0);
        if (v2 instanceof Left) {
          return resume(state, {
            error: v2.value0,
            position: v1.value0.range.start
          });
        }
        ;
        if (v2 instanceof Right) {
          return done({
            errors: state.errors,
            consumed: true,
            stream: v1.value2
          }, v2.value0);
        }
        ;
        throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 172, column 11 - line 182, column 18): " + [v2.constructor.name]);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 166, column 7 - line 182, column 18): " + [v1.constructor.name]);
    };
  };
  var runParser$prime = function(state1) {
    return function(v) {
      var run3 = function($copy_v1) {
        var $tco_done = false;
        var $tco_result;
        function $tco_loop(v1) {
          if (v1 instanceof More) {
            $copy_v1 = v1.value0(unit);
            return;
          }
          ;
          if (v1 instanceof Done2) {
            $tco_done = true;
            return v1.value0;
          }
          ;
          throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 241, column 9 - line 243, column 16): " + [v1.constructor.name]);
        }
        ;
        while (!$tco_done) {
          $tco_result = $tco_loop($copy_v1);
        }
        ;
        return $tco_result;
      };
      return run3(v(state1, More.create, function(state2, error2) {
        return new Done2(new ParseFail(error2, state2));
      }, function(state2, value) {
        return new Done2(new ParseSucc(value, state2));
      }));
    };
  };
  var optional2 = function(p) {
    return alt3(map7(Just.create)(p))(pure2(Nothing.value));
  };
  var many2 = function(v) {
    return function(state1, more, resume, done) {
      var $lazy_go = $runtime_lazy5("go", "PureScript.CST.Parser.Monad", function() {
        return function(acc, state2) {
          var state2$prime = (function() {
            if (state2.consumed) {
              return {
                errors: state2.errors,
                stream: state2.stream,
                consumed: false
              };
            }
            ;
            return state2;
          })();
          return v(state2$prime, more, function(state3, error2) {
            if (state3.consumed) {
              return resume(state3, error2);
            }
            ;
            return done(state2, reverse(toUnfoldable5(acc)));
          }, function(state3, value) {
            return $lazy_go(225)(new Cons(value, acc), state3);
          });
        };
      });
      var go = $lazy_go(212);
      return go(Nil.value, state1);
    };
  };
  var initialParserState = function(stream) {
    return {
      consumed: false,
      errors: [],
      stream
    };
  };
  var fromParserResult = function(v) {
    if (v instanceof ParseFail) {
      return new Left(v.value0);
    }
    ;
    if (v instanceof ParseSucc) {
      return new Right(new Tuple(v.value0, v.value1.errors));
    }
    ;
    throw new Error("Failed pattern match at PureScript.CST.Parser.Monad (line 253, column 20 - line 257, column 29): " + [v.constructor.name]);
  };
  var runParser = function(stream) {
    var $109 = runParser$prime(initialParserState(stream));
    return function($110) {
      return fromParserResult($109($110));
    };
  };

  // output/PureScript.CST.Parser/index.js
  var $runtime_lazy6 = function(name, moduleName, init2) {
    var state = 0;
    var val;
    return function(lineNumber) {
      if (state === 2) return val;
      if (state === 1) throw new ReferenceError(name + " was needed before it finished initializing (module " + moduleName + ", line " + lineNumber + ")", moduleName, lineNumber);
      state = 1;
      val = init2();
      state = 2;
      return val;
    };
  };
  var bind2 = /* @__PURE__ */ bind(bindParser);
  var pure3 = /* @__PURE__ */ pure(applicativeParser);
  var apply3 = /* @__PURE__ */ apply(applyParser);
  var map8 = /* @__PURE__ */ map(functorParser);
  var member5 = /* @__PURE__ */ member2(ordString);
  var alt4 = /* @__PURE__ */ alt(altParser);
  var defer3 = /* @__PURE__ */ defer(lazyParser);
  var wrapped = function(openTok) {
    return function(closeTok) {
      return function(valueParser) {
        return bind2(openTok)(function(open) {
          return bind2(valueParser)(function(value) {
            return bind2(closeTok)(function(close) {
              return pure3({
                open,
                value,
                close
              });
            });
          });
        });
      };
    };
  };
  var separated = function(sepParser) {
    return function(valueParser) {
      return apply3(map8(function(v) {
        return function(v1) {
          return {
            head: v,
            tail: v1
          };
        };
      })(valueParser))(many2(apply3(map8(Tuple.create)(sepParser))(valueParser)));
    };
  };
  var reservedKeywords = /* @__PURE__ */ fromFoldable2(foldableArray)(ordString)(["ado", "case", "class", "data", "derive", "do", "else", "false", "foreign", "if", "import", "in", "infix", "infixl", "infixr", "instance", "let", "module", "newtype", "of", "then", "true", "type", "where"]);
  var many1 = function(parser) {
    return apply3(map8(cons$prime)(parser))(many2(parser));
  };
  var expectMap = function(k) {
    return take4(function(tok) {
      var v = k(tok);
      if (v instanceof Just) {
        return new Right(v.value0);
      }
      ;
      if (v instanceof Nothing) {
        return new Left(new UnexpectedToken(tok.value));
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST.Parser (line 46, column 3 - line 50, column 39): " + [v.constructor.name]);
    });
  };
  var parseHole = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokHole) {
      return new Just({
        token: v,
        name: v.value.value0
      });
    }
    ;
    return Nothing.value;
  });
  var parseIdent = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokLowerName && (v.value.value0 instanceof Nothing && !member5(v.value.value1)(reservedKeywords))) {
      return new Just({
        token: v,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var $$parseInt = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokInt) {
      return new Just(new Tuple(v, v.value.value1));
    }
    ;
    return Nothing.value;
  });
  var parseLabel = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokRawString) {
      return new Just({
        token: v,
        name: v.value.value0
      });
    }
    ;
    if (v.value instanceof TokString) {
      return new Just({
        token: v,
        name: v.value.value1
      });
    }
    ;
    if (v.value instanceof TokLowerName && v.value.value0 instanceof Nothing) {
      return new Just({
        token: v,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseQualifiedOperator = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokOperator) {
      return new Just({
        token: v,
        module: v.value.value0,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseQualifiedProper = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokUpperName) {
      return new Just({
        token: v,
        module: v.value.value0,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseQualifiedSymbol = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokSymbolName) {
      return new Just({
        token: v,
        module: v.value.value0,
        name: v.value.value1
      });
    }
    ;
    return Nothing.value;
  });
  var parseString = /* @__PURE__ */ expectMap(function(v) {
    if (v.value instanceof TokString) {
      return new Just(new Tuple(v, v.value.value1));
    }
    ;
    if (v.value instanceof TokRawString) {
      return new Just(new Tuple(v, v.value.value0));
    }
    ;
    return Nothing.value;
  });
  var expect = function(pred) {
    return expectMap(function(tok) {
      var $244 = pred(tok.value);
      if ($244) {
        return new Just(tok);
      }
      ;
      return Nothing.value;
    });
  };
  var tokAt = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokAt) {
      return true;
    }
    ;
    return false;
  });
  var tokComma = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokComma) {
      return true;
    }
    ;
    return false;
  });
  var tokDot = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokDot) {
      return true;
    }
    ;
    return false;
  });
  var tokDoubleColon = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokDoubleColon) {
      return true;
    }
    ;
    return false;
  });
  var tokForall = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokForall) {
      return true;
    }
    ;
    return false;
  });
  var tokKeyOperator = function(sym) {
    return expect(function(v) {
      if (v instanceof TokOperator && v.value0 instanceof Nothing) {
        return sym === v.value1;
      }
      ;
      return false;
    });
  };
  var parseTypeNegative = /* @__PURE__ */ bind2(/* @__PURE__ */ tokKeyOperator("-"))(function(negative) {
    return map8(uncurry(TypeInt.create(new Just(negative))))($$parseInt);
  });
  var tokLeftBrace = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokLeftBrace) {
      return true;
    }
    ;
    return false;
  });
  var tokLeftParen = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokLeftParen) {
      return true;
    }
    ;
    return false;
  });
  var tokPipe = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokPipe) {
      return true;
    }
    ;
    return false;
  });
  var tokRightArrow = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightArrow) {
      return true;
    }
    ;
    return false;
  });
  var tokRightBrace = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightBrace) {
      return true;
    }
    ;
    return false;
  });
  var tokRightFatArrow = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightFatArrow) {
      return true;
    }
    ;
    return false;
  });
  var tokRightParen = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokRightParen) {
      return true;
    }
    ;
    return false;
  });
  var parens = /* @__PURE__ */ wrapped(tokLeftParen)(tokRightParen);
  var parseEmptyRow = function(open) {
    return bind2(tokRightParen)(function(close) {
      return pure3(new TypeRow({
        open,
        value: {
          labels: Nothing.value,
          tail: Nothing.value
        },
        close
      }));
    });
  };
  var tokSymbolArrow = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokSymbolArrow) {
      return true;
    }
    ;
    return false;
  });
  var tokUnderscore = /* @__PURE__ */ expect(function(v) {
    if (v instanceof TokUnderscore) {
      return true;
    }
    ;
    return false;
  });
  var braces = /* @__PURE__ */ wrapped(tokLeftBrace)(tokRightBrace);
  var parseTypeVarKinded = function(parseBindingName) {
    return map8(TypeVarKinded.create)(parens(bind2(parseBindingName)(function(label) {
      return bind2(tokDoubleColon)(function(separator) {
        return bind2($lazy_parseType(550))(function(value) {
          return pure3({
            label,
            separator,
            value
          });
        });
      });
    })));
  };
  var parseTypeVarBinding = function(parseBindingName) {
    return alt4(parseTypeVarKinded(parseBindingName))(map8(TypeVarName.create)(parseBindingName));
  };
  var parseTypeParen = function(open) {
    return bind2($lazy_parseType(507))(function(value) {
      return bind2(tokRightParen)(function(close) {
        return pure3(new TypeParens({
          open,
          value,
          close
        }));
      });
    });
  };
  var parseRowTailParen = function(open) {
    return bind2(apply3(map8(Tuple.create)(tokPipe))($lazy_parseType(477)))(function(tail2) {
      return bind2(tokRightParen)(function(close) {
        return pure3(new TypeRow({
          open,
          value: {
            labels: Nothing.value,
            tail: new Just(tail2)
          },
          close
        }));
      });
    });
  };
  var parseRowParen = function(open) {
    return bind2($$try2(apply3(map8(Tuple.create)(parseLabel))(tokDoubleColon)))(function(v) {
      return bind2($lazy_parseType(459))(function(value) {
        return bind2(many2(apply3(map8(Tuple.create)(tokComma))($lazy_parseRowLabel(460))))(function(rest) {
          return bind2(optional2(apply3(map8(Tuple.create)(tokPipe))($lazy_parseType(461))))(function(tail2) {
            return bind2(tokRightParen)(function(close) {
              return pure3(new TypeRow({
                open,
                value: {
                  labels: new Just({
                    head: {
                      label: v.value0,
                      separator: v.value1,
                      value
                    },
                    tail: rest
                  }),
                  tail: tail2
                },
                close
              }));
            });
          });
        });
      });
    });
  };
  var parseKindedVar = function(open) {
    return bind2($$try2(apply3(map8(Tuple.create)(parens(map8(TypeVar.create)(parseIdent))))(tokDoubleColon)))(function(v) {
      return bind2($lazy_parseType(497))(function(kind) {
        return bind2(tokRightParen)(function(close) {
          return pure3(new TypeParens({
            open,
            value: new TypeKinded(new TypeParens(v.value0), v.value1, kind),
            close
          }));
        });
      });
    });
  };
  var $lazy_parseForall = /* @__PURE__ */ $runtime_lazy6("parseForall", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return apply3(apply3(apply3(map8(TypeForall.create)(tokForall))(many1($lazy_parseTypeVarBindingWithVisibility(528))))(tokDot))($lazy_parseType1(530));
    });
  });
  var $lazy_parseRow = /* @__PURE__ */ $runtime_lazy6("parseRow", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return bind2(optional2(separated(tokComma)($lazy_parseRowLabel(513))))(function(labels) {
        return bind2(optional2(apply3(map8(Tuple.create)(tokPipe))($lazy_parseType(514))))(function(tail2) {
          return pure3({
            labels,
            tail: tail2
          });
        });
      });
    });
  });
  var $lazy_parseRowLabel = /* @__PURE__ */ $runtime_lazy6("parseRowLabel", "PureScript.CST.Parser", function() {
    return bind2(parseLabel)(function(label) {
      return bind2(tokDoubleColon)(function(separator) {
        return bind2($lazy_parseType(521))(function(value) {
          return pure3({
            label,
            separator,
            value
          });
        });
      });
    });
  });
  var $lazy_parseType = /* @__PURE__ */ $runtime_lazy6("parseType", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return bind2($lazy_parseType1(393))(function(ty) {
        return alt4(apply3(map8(TypeKinded.create(ty))(tokDoubleColon))($lazy_parseType(394)))(pure3(ty));
      });
    });
  });
  var $lazy_parseType1 = /* @__PURE__ */ $runtime_lazy6("parseType1", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return alt4($lazy_parseForall(399))($lazy_parseType2(400));
    });
  });
  var $lazy_parseType2 = /* @__PURE__ */ $runtime_lazy6("parseType2", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return bind2($lazy_parseType3(404))(function(ty) {
        return alt4(apply3(map8(TypeArrow.create(ty))(tokRightArrow))($lazy_parseType1(405)))(alt4(apply3(map8(TypeConstrained.create(ty))(tokRightFatArrow))($lazy_parseType1(406)))(pure3(ty)));
      });
    });
  });
  var $lazy_parseType3 = /* @__PURE__ */ $runtime_lazy6("parseType3", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return bind2($lazy_parseType4(411))(function(ty) {
        return bind2(many2(apply3(map8(Tuple.create)(parseQualifiedOperator))($lazy_parseType4(412))))(function(ops) {
          return pure3((function() {
            var v1 = fromArray(ops);
            if (v1 instanceof Nothing) {
              return ty;
            }
            ;
            if (v1 instanceof Just) {
              return new TypeOp(ty, v1.value0);
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Parser (line 413, column 8 - line 415, column 28): " + [v1.constructor.name]);
          })());
        });
      });
    });
  });
  var $lazy_parseType4 = /* @__PURE__ */ $runtime_lazy6("parseType4", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return alt4(parseTypeNegative)($lazy_parseType5(419));
    });
  });
  var $lazy_parseType5 = /* @__PURE__ */ $runtime_lazy6("parseType5", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return bind2($lazy_parseTypeAtom(423))(function(ty) {
        return bind2(many2($lazy_parseTypeAtom(424)))(function(args) {
          return pure3((function() {
            var v1 = fromArray(args);
            if (v1 instanceof Nothing) {
              return ty;
            }
            ;
            if (v1 instanceof Just) {
              return new TypeApp(ty, v1.value0);
            }
            ;
            throw new Error("Failed pattern match at PureScript.CST.Parser (line 425, column 8 - line 427, column 29): " + [v1.constructor.name]);
          })());
        });
      });
    });
  });
  var $lazy_parseTypeAtom = /* @__PURE__ */ $runtime_lazy6("parseTypeAtom", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return alt4(map8(TypeVar.create)(parseIdent))(alt4(map8(TypeConstructor.create)(parseQualifiedProper))(alt4(map8(uncurry(TypeString.create))(parseString))(alt4(map8(uncurry(TypeInt.create(Nothing.value)))($$parseInt))(alt4($lazy_parseTypeParens(435))(alt4(map8(TypeRecord.create)(braces($lazy_parseRow(436))))(alt4(map8(TypeOpName.create)(parseQualifiedSymbol))(alt4(map8(TypeHole.create)(parseHole))(alt4(map8(TypeWildcard.create)(tokUnderscore))(map8(TypeArrowName.create)(tokSymbolArrow))))))))));
    });
  });
  var $lazy_parseTypeParens = /* @__PURE__ */ $runtime_lazy6("parseTypeParens", "PureScript.CST.Parser", function() {
    return bind2(tokLeftParen)(function(open) {
      return alt4(parseRowParen(open))(alt4(parseRowTailParen(open))(alt4(parseKindedVar(open))(alt4(parseTypeParen(open))(parseEmptyRow(open)))));
    });
  });
  var $lazy_parseTypeVarBindingWithVisibility = /* @__PURE__ */ $runtime_lazy6("parseTypeVarBindingWithVisibility", "PureScript.CST.Parser", function() {
    return defer3(function(v) {
      return parseTypeVarBinding(apply3(map8(function(v1) {
        return function(v2) {
          return {
            prefix: v1,
            value: v2
          };
        };
      })(optional2(tokAt)))(parseIdent));
    });
  });
  var parseType = /* @__PURE__ */ $lazy_parseType(391);

  // output/PureScript.CST/index.js
  var ParseSucceeded = /* @__PURE__ */ (function() {
    function ParseSucceeded2(value0) {
      this.value0 = value0;
    }
    ;
    ParseSucceeded2.create = function(value0) {
      return new ParseSucceeded2(value0);
    };
    return ParseSucceeded2;
  })();
  var ParseSucceededWithErrors = /* @__PURE__ */ (function() {
    function ParseSucceededWithErrors2(value0, value1) {
      this.value0 = value0;
      this.value1 = value1;
    }
    ;
    ParseSucceededWithErrors2.create = function(value0) {
      return function(value1) {
        return new ParseSucceededWithErrors2(value0, value1);
      };
    };
    return ParseSucceededWithErrors2;
  })();
  var ParseFailed = /* @__PURE__ */ (function() {
    function ParseFailed2(value0) {
      this.value0 = value0;
    }
    ;
    ParseFailed2.create = function(value0) {
      return new ParseFailed2(value0);
    };
    return ParseFailed2;
  })();
  var toRecoveredParserResult = function(v) {
    var v1 = function(v2) {
      if (v instanceof Right && otherwise) {
        return new ParseSucceeded(v.value0.value0);
      }
      ;
      if (v instanceof Left) {
        return new ParseFailed(v.value0);
      }
      ;
      throw new Error("Failed pattern match at PureScript.CST (line 42, column 1 - line 45, column 29): " + [v.constructor.name]);
    };
    if (v instanceof Right) {
      var $21 = fromArray(v.value0.value1);
      if ($21 instanceof Just) {
        return new ParseSucceededWithErrors(v.value0.value0, $21.value0);
      }
      ;
      return v1(true);
    }
    ;
    return v1(true);
  };
  var runRecoveredParser = function(p) {
    var $31 = flip(runParser)(p);
    return function($32) {
      return toRecoveredParserResult($31($32));
    };
  };
  var parseType2 = /* @__PURE__ */ (function() {
    var $33 = runRecoveredParser(parseType);
    return function($34) {
      return $33(lex($34));
    };
  })();

  // output/Sigil.Parse/index.js
  var map9 = /* @__PURE__ */ map(functorArray);
  var append13 = /* @__PURE__ */ append(semigroupArray);
  var extractBinderName = function(v) {
    if (v instanceof TypeVarName) {
      return [v.value0.value.name];
    }
    ;
    if (v instanceof TypeVarKinded) {
      return [v.value0.value.label.value.name];
    }
    ;
    throw new Error("Failed pattern match at Sigil.Parse (line 103, column 21 - line 107, column 38): " + [v.constructor.name]);
  };
  var simplifyRow = function(v) {
    return {
      fields: (function() {
        if (v.labels instanceof Nothing) {
          return [];
        }
        ;
        if (v.labels instanceof Just) {
          return cons(simplifyLabel(v.labels.value0.head))(map9(function($171) {
            return simplifyLabel(snd($171));
          })(v.labels.value0.tail));
        }
        ;
        throw new Error("Failed pattern match at Sigil.Parse (line 111, column 13 - line 114, column 75): " + [v.labels.constructor.name]);
      })(),
      tail: (function() {
        if (v.tail instanceof Nothing) {
          return Nothing.value;
        }
        ;
        if (v.tail instanceof Just) {
          var v1 = simplify(v.tail.value0.value1);
          if (v1 instanceof TVar) {
            return new Just(v1.value0);
          }
          ;
          return new Just("...");
        }
        ;
        throw new Error("Failed pattern match at Sigil.Parse (line 115, column 11 - line 119, column 24): " + [v.tail.constructor.name]);
      })()
    };
  };
  var simplifyLabel = function(v) {
    return {
      label: v.label.name,
      value: simplify(v.value)
    };
  };
  var simplifyConstraint = function(v) {
    if (v instanceof TypeApp) {
      var v1 = simplify(v.value0);
      if (v1 instanceof TCon) {
        return {
          className: v1.value0,
          args: map9(simplify)(toArray(v.value1))
        };
      }
      ;
      return {
        className: "?",
        args: []
      };
    }
    ;
    if (v instanceof TypeConstructor) {
      return {
        className: v.value0.name,
        args: []
      };
    }
    ;
    return {
      className: "?",
      args: []
    };
  };
  var simplify = function(v) {
    if (v instanceof TypeVar) {
      return new TVar(v.value0.name);
    }
    ;
    if (v instanceof TypeConstructor) {
      if (v.value0.module instanceof Nothing) {
        return new TCon(v.value0.name);
      }
      ;
      if (v.value0.module instanceof Just) {
        return new TCon(v.value0.module.value0 + ("." + v.value0.name));
      }
      ;
      throw new Error("Failed pattern match at Sigil.Parse (line 40, column 8 - line 42, column 54): " + [v.value0.module.constructor.name]);
    }
    ;
    if (v instanceof TypeWildcard) {
      return TWildcard.value;
    }
    ;
    if (v instanceof TypeHole) {
      return new TVar("?" + v.value0.name);
    }
    ;
    if (v instanceof TypeString) {
      return new TString(v.value1);
    }
    ;
    if (v instanceof TypeInt) {
      return new TCon("<int>");
    }
    ;
    if (v instanceof TypeRow) {
      var v1 = simplifyRow(v.value0.value);
      return new TRow(v1.fields, v1.tail);
    }
    ;
    if (v instanceof TypeRecord) {
      var v1 = simplifyRow(v.value0.value);
      return new TRecord(v1.fields, v1.tail);
    }
    ;
    if (v instanceof TypeForall) {
      var vars = concatMap(extractBinderName)(toArray(v.value1));
      var inner = simplify(v.value3);
      if (inner instanceof TForall) {
        return new TForall(append13(vars)(inner.value0), inner.value1);
      }
      ;
      return new TForall(vars, inner);
    }
    ;
    if (v instanceof TypeKinded) {
      return new TKinded(simplify(v.value0), simplify(v.value2));
    }
    ;
    if (v instanceof TypeApp) {
      return new TApp(simplify(v.value0), map9(simplify)(toArray(v.value1)));
    }
    ;
    if (v instanceof TypeOp) {
      return foldl2(function(acc) {
        return function(v12) {
          return new TOperator(acc, v12.value0.name, simplify(v12.value1));
        };
      })(simplify(v.value0))(toArray(v.value1));
    }
    ;
    if (v instanceof TypeOpName) {
      return new TCon("(" + (v.value0.name + ")"));
    }
    ;
    if (v instanceof TypeArrow) {
      return new TArrow(simplify(v.value0), simplify(v.value2));
    }
    ;
    if (v instanceof TypeArrowName) {
      return new TCon("(->)");
    }
    ;
    if (v instanceof TypeConstrained) {
      var inner = simplify(v.value2);
      var c = simplifyConstraint(v.value0);
      if (inner instanceof TConstrained) {
        return new TConstrained(cons(c)(inner.value0), inner.value1);
      }
      ;
      return new TConstrained([c], inner);
    }
    ;
    if (v instanceof TypeParens) {
      return new TParens(simplify(v.value0.value));
    }
    ;
    if (v instanceof $$TypeError) {
      return new TCon("<error>");
    }
    ;
    throw new Error("Failed pattern match at Sigil.Parse (line 34, column 12 - line 100, column 36): " + [v.constructor.name]);
  };
  var parseToRenderType = function(input) {
    var sanitized = replaceAll(", |")(" |")(input);
    var v = parseType2(sanitized);
    if (v instanceof ParseSucceeded) {
      return new Just(simplify(v.value0));
    }
    ;
    if (v instanceof ParseSucceededWithErrors) {
      return new Just(simplify(v.value0));
    }
    ;
    if (v instanceof ParseFailed) {
      return Nothing.value;
    }
    ;
    throw new Error("Failed pattern match at Sigil.Parse (line 146, column 27 - line 149, column 27): " + [v.constructor.name]);
  };
  var collapseRecordArgs = function(args) {
    var v = uncons(args);
    if (v instanceof Nothing) {
      return [];
    }
    ;
    if (v instanceof Just && (v.value0.head instanceof TCon && v.value0.head.value0 === "Record")) {
      var v1 = uncons(v.value0.tail);
      if (v1 instanceof Just && v1.value0.head instanceof TRow) {
        return cons(new TRecord(v1.value0.head.value0, v1.value0.head.value1))(collapseRecordArgs(v1.value0.tail));
      }
      ;
      return cons(new TCon("Record"))(collapseRecordArgs(v.value0.tail));
    }
    ;
    if (v instanceof Just) {
      return cons(v.value0.head)(collapseRecordArgs(v.value0.tail));
    }
    ;
    throw new Error("Failed pattern match at Sigil.Parse (line 192, column 27 - line 199, column 43): " + [v.constructor.name]);
  };
  var elideField = function(f) {
    return {
      label: f.label,
      value: elideAST(f.value)
    };
  };
  var elideConstraint = function(c) {
    return {
      className: c.className,
      args: map9(elideAST)(c.args)
    };
  };
  var elideAST = function(v) {
    if (v instanceof TRecord) {
      return new TRecord(map9(elideField)(v.value0), v.value1);
    }
    ;
    if (v instanceof TRow) {
      return new TRow(map9(elideField)(v.value0), v.value1);
    }
    ;
    if (v instanceof TApp && (v.value0 instanceof TCon && (v.value0.value0 === "Record" && (v.value1.length === 1 && v["value1"][0] instanceof TRow)))) {
      return new TRecord(map9(elideField)(v["value1"][0].value0), v["value1"][0].value1);
    }
    ;
    if (v instanceof TApp) {
      return new TApp(elideAST(v.value0), collapseRecordArgs(map9(elideAST)(v.value1)));
    }
    ;
    if (v instanceof TArrow) {
      return new TArrow(elideAST(v.value0), elideAST(v.value1));
    }
    ;
    if (v instanceof TForall) {
      return new TForall(v.value0, elideAST(v.value1));
    }
    ;
    if (v instanceof TConstrained) {
      return new TConstrained(map9(elideConstraint)(v.value0), elideAST(v.value1));
    }
    ;
    if (v instanceof TParens) {
      return new TParens(elideAST(v.value0));
    }
    ;
    if (v instanceof TKinded) {
      return new TKinded(elideAST(v.value0), elideAST(v.value1));
    }
    ;
    if (v instanceof TOperator) {
      return new TOperator(elideAST(v.value0), v.value1, elideAST(v.value2));
    }
    ;
    return v;
  };

  // output/Demo.Main/index.js
  var show2 = /* @__PURE__ */ show(showInt);
  var map10 = /* @__PURE__ */ map(functorArray);
  var bind3 = /* @__PURE__ */ bind(bindMaybe);
  var foldM2 = /* @__PURE__ */ foldM(monadEffect);
  var renderTypeSyn = function(t) {
    var containerId = "typesyn-" + show2(t.idx);
    return function __do2() {
      createDeclRow("typesyn-table")(t.idx)(t.name)(containerId)();
      var v = parseToRenderType(t.body);
      if (v instanceof Just) {
        return renderTypeSynonymInto("#" + containerId)({
          name: t.name,
          typeParams: t.typeParams,
          body: v.value0
        })();
      }
      ;
      if (v instanceof Nothing) {
        return log("[SigilDemo] Type synonym parse failed: " + t.name)();
      }
      ;
      throw new Error("Failed pattern match at Demo.Main (line 115, column 3 - line 120, column 64): " + [v.constructor.name]);
    };
  };
  var renderSignet2 = function(s) {
    var containerId = "signet-" + show2(s.idx);
    var v = parseToRenderType(s.sig);
    if (v instanceof Just) {
      return function __do2() {
        createRow("signet-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(true)();
        return renderSignetInto("#" + containerId)({
          ast: elideAST(v.value0)
        })();
      };
    }
    ;
    if (v instanceof Nothing) {
      return function __do2() {
        createRow("signet-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(false)();
        return log("[SigilDemo] Parse failed: #" + (show2(s.idx) + (" " + s.name)))();
      };
    }
    ;
    throw new Error("Failed pattern match at Demo.Main (line 70, column 3 - line 77, column 73): " + [v.constructor.name]);
  };
  var renderSiglet2 = function(s) {
    var containerId = "siglet-" + show2(s.idx);
    var v = parseToRenderType(s.sig);
    if (v instanceof Just) {
      return function __do2() {
        createRow("siglet-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(true)();
        return renderSigletInto("#" + containerId)({
          ast: elideAST(v.value0)
        })();
      };
    }
    ;
    if (v instanceof Nothing) {
      return function __do2() {
        createRow("siglet-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(false)();
        return log("[SigilDemo] Parse failed: #" + (show2(s.idx) + (" " + s.name)))();
      };
    }
    ;
    throw new Error("Failed pattern match at Demo.Main (line 58, column 3 - line 65, column 73): " + [v.constructor.name]);
  };
  var renderSigil = function(s) {
    var containerId = "sigil-" + show2(s.idx);
    var v = parseToRenderType(s.sig);
    if (v instanceof Just) {
      return function __do2() {
        createRow("sigil-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(true)();
        return renderSignatureInto("#" + containerId)({
          name: s.name,
          ast: v.value0,
          typeParams: [],
          className: Nothing.value
        })();
      };
    }
    ;
    if (v instanceof Nothing) {
      return function __do2() {
        createRow("sigil-table")(s.idx)(s.name)(s.category)(s.sig)(containerId)(false)();
        return log("[SigilDemo] Parse failed: #" + (show2(s.idx) + (" " + s.name)))();
      };
    }
    ;
    throw new Error("Failed pattern match at Demo.Main (line 46, column 3 - line 53, column 73): " + [v.constructor.name]);
  };
  var renderForeignImp = function(f) {
    var containerId = "foreign-" + show2(f.idx);
    return function __do2() {
      createDeclRow("foreign-table")(f.idx)(f.name)(containerId)();
      var v = parseToRenderType(f.sig);
      if (v instanceof Just) {
        return renderForeignImportInto("#" + containerId)({
          name: f.name,
          ast: v.value0
        })();
      }
      ;
      if (v instanceof Nothing) {
        return log("[SigilDemo] Foreign import parse failed: " + f.name)();
      }
      ;
      throw new Error("Failed pattern match at Demo.Main (line 126, column 3 - line 131, column 66): " + [v.constructor.name]);
    };
  };
  var renderDataDecl2 = function(d) {
    var containerId = "datatype-" + show2(d.idx);
    return function __do2() {
      createDeclRow("datatype-table")(d.idx)(d.name)(containerId)();
      var ctors = map10(function(c) {
        return {
          name: c.name,
          args: concatMap(function(s) {
            var v = parseToRenderType(s);
            if (v instanceof Just) {
              return [v.value0];
            }
            ;
            if (v instanceof Nothing) {
              return [];
            }
            ;
            throw new Error("Failed pattern match at Demo.Main (line 85, column 40 - line 87, column 26): " + [v.constructor.name]);
          })(c.argSigs)
        };
      })(d.constructors);
      return renderDataDeclInto("#" + containerId)({
        name: d.name,
        typeParams: d.typeParams,
        constructors: ctors,
        keyword: d.keyword
      })();
    };
  };
  var renderClassDecl2 = function(c) {
    var containerId = "class-" + show2(c.idx);
    return function __do2() {
      createDeclRow("class-table")(c.idx)(c.name)(containerId)();
      var supers = map10(function(sc) {
        return {
          name: sc.name,
          methods: map10(function(m) {
            return {
              name: m.name,
              ast: bind3(m.sig)(parseToRenderType)
            };
          })(sc.methods)
        };
      })(c.superclasses);
      var methods = map10(function(m) {
        return {
          name: m.name,
          ast: bind3(m.sig)(parseToRenderType)
        };
      })(c.methods);
      return renderClassDeclInto("#" + containerId)({
        name: c.name,
        typeParams: c.typeParams,
        superclasses: supers,
        methods
      })();
    };
  };
  var main = function __do() {
    log("[SigilDemo] Rendering signature gallery")();
    foldM2(function(v) {
      return function(s) {
        return renderSigil(s);
      };
    })(unit)(signatures)();
    foldM2(function(v) {
      return function(s) {
        return renderSiglet2(s);
      };
    })(unit)(signatures)();
    foldM2(function(v) {
      return function(s) {
        return renderSignet2(s);
      };
    })(unit)(signatures)();
    foldM2(function(v) {
      return function(d) {
        return renderDataDecl2(d);
      };
    })(unit)(dataDecls)();
    foldM2(function(v) {
      return function(c) {
        return renderClassDecl2(c);
      };
    })(unit)(classDecls)();
    foldM2(function(v) {
      return function(t) {
        return renderTypeSyn(t);
      };
    })(unit)(typeSynonyms)();
    foldM2(function(v) {
      return function(f) {
        return renderForeignImp(f);
      };
    })(unit)(foreignImports)();
    return log("[SigilDemo] Done")();
  };

  // <stdin>
  main();
})();
